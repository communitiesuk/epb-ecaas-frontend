{
    "$schema": "http://json-schema.org/draft/2019-09/schema#",
    "type": "object",
    "unevaluatedProperties": false,
    "properties": {
        "PartGcompliance": {
            "type": "boolean"
        },
        "PartO_active_cooling_required": {
            "type": "boolean"
        },
        "BuildingLength": {
            "type": "number",
            "minimum": 0,
            "description": "The maximum horizontal distance (in metres) across the building footprint"
        },
        "BuildingWidth": {
            "type": "number",
            "minimum": 0,
            "description": "The maximum horizontal distance (in metres) perpendicular to the building length"
        },
        "GroundFloorArea": {
            "type": "number",
            "minimum": 0
        },
        "NumberOfBedrooms": {
            "type": "integer",
            "minimum": 0
        },
        "NumberOfWetRooms": {
            "type": "integer",
            "minimum": 0
        },
        "NumberOfTappedRooms": {
            "type": "integer",
            "minimum": 1,
            "description": "A tapped room is any room with a tapping point (e.g. sink, bath, or shower)"
        },
        "NumberOfUtilityRooms": {
            "type": "integer",
            "minimum": 0,
            "description": "A utility room is any that contains a sink or other feature or equipment that may reasonably be expected to produce significant quantities of water vapour"
        },
        "NumberOfBathrooms": {
            "type": "integer",
            "minimum": 0,
            "description": "A bathroom is any room that contains a bath or shower"
        },
        "NumberOfSanitaryAccommodations": {
            "type": "integer",
            "minimum": 0,
            "description": "Any space containing one or more flush toilets or urinals but not a bath or shower. Multiple cubicles counts as one space as long as there is free circulation of air throughout"
        },
        "NumberOfHabitableRooms": {
            "type": "integer",
            "minimum": 1,
            "description": "A habitable room is any that is not used solely as a kitchen, bathroom, utility, cellar or sanitary accommodation"
        },
        "HeatingControlType": {
            "enum": [
                "SeparateTempControl",
                "SeparateTimeAndTempControl"
            ]
        },
        "SimulationTime": {
            "type": "object"
        },
        "ExternalConditions": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "shading_segments"
            ],
            "properties": {
                "air_temperatures": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "wind_speeds": {
                    "type": "array",
                    "items": {
                        "type": "number",
                        "minimum": 0
                    }
                },
                "wind_directions": {
                    "type": "array",
                    "items": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 360
                    }
                },
                "diffuse_horizontal_radiation": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "direct_beam_radiation": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "solar_reflectivity_of_ground": {
                    "type": "array",
                    "items": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                    }
                },
                "latitude": {
                    "type": "number",
                    "minimum": -180,
                    "maximum": 180
                },
                "longitude": {
                    "type": "number",
                    "minimum": -90,
                    "maximum": 90
                },
                "timezone": {
                    "type": "number"
                },
                "start_day": {
                    "type": "number"
                },
                "end_day": {
                    "type": "number"
                },
                "time_series_step": {
                    "type": "number"
                },
                "january_first": {
                    "type": "number"
                },
                "daylight_savings": {
                    "type": "string"
                },
                "leap_day_included": {
                    "type": "boolean"
                },
                "direct_beam_conversion_needed": {
                    "type": "boolean"
                },
                "shading_segments": {
                    "type": "array",
                    "minLength": 8,
                    "maxLength": 36,
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "start360",
                            "end360"
                        ],
                        "properties": {
                            "start360": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "end360": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "shading": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "type",
                                        "height",
                                        "distance"
                                    ],
                                    "properties": {
                                        "type": {
                                            "enum": [
                                                "obstacle",
                                                "overhang"
                                            ]
                                        },
                                        "height": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 400
                                        },
                                        "distance": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 72000
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "Appliances": {
            "type": "object",
            "unevaluatedProperties": false,
            "propertyNames": {
                "enum": [
                    "Oven",
                    "Hobs",
                    "Kettle",
                    "Microwave",
                    "Dishwasher",
                    "Clothes_washing",
                    "Clothes_drying",
                    "Fridge",
                    "Freezer",
                    "Fridge-Freezer",
                    "Otherdevices"
                ]
            },
            "patternProperties": {
                "unevaluatedProperties": false,
                "Oven|Hobs|Kettle|Microwave|Fridge-Freezer": {
                    "type": "string",
                    "enum": [
                        "Not Installed",
                        "Default"
                    ],
                    "default": "Default"
                },
                "Dishwasher|Clothes_washing|Clothes_drying|Fridge|Freezer|Otherdevices": {
                    "type": "string",
                    "enum": [
                        "Not Installed",
                        "Default"
                    ]
                }
            }
        },
        "ColdWaterSource": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "header tank": {
                    "type": "object"
                },
                "mains water": {
                    "type": "object"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "header tank"
                    ]
                },
                {
                    "required": [
                        "mains water"
                    ]
                }
            ]
        },
        "EnergySupply": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "anyOf": [
                    {
                        "$ref": "#/$defs/EnergySupplyGas"
                    },
                    {
                        "$ref": "#/$defs/EnergySupplyElectricity"
                    },
                    {
                        "$ref": "#/$defs/EnergySupplyCustom"
                    },
                    {
                        "$ref": "#/$defs/EnergySupplyOther"
                    }
                ]
            }
        },
        "OnSiteGeneration": {
            "type": "object",
            "additionalProperties": {
                "unevaluatedProperties": false,
                "type": "object",
                "required": [
                    "type",
                    "peak_power",
                    "ventilation_strategy",
                    "pitch",
                    "orientation360",
                    "base_height",
                    "height",
                    "width",
                    "EnergySupply",
                    "shading",
                    "inverter_peak_power_dc",
                    "inverter_peak_power_ac",
                    "inverter_is_inside",
                    "inverter_type"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "PhotovoltaicSystem"
                        ]
                    },
                    "peak_power": {
                        "type": "number",
                        "minimum": 0.001,
                        "maximum": 100
                    },
                    "ventilation_strategy": {
                        "enum": [
                            "unventilated",
                            "moderately_ventilated",
                            "strongly_or_forced_ventilated",
                            "rear_surface_free"
                        ]
                    },
                    "pitch": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 90
                    },
                    "orientation360": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 360
                    },
                    "base_height": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 500
                    },
                    "height": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "width": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "EnergySupply": {
                        "type": "string"
                    },
                    "shading": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "required": [
                                "type",
                                "depth",
                                "distance"
                            ],
                            "properties": {
                                "type": {
                                    "enum": [
                                        "reveal",
                                        "obstacle",
                                        "overhang",
                                        "sidefinleft",
                                        "sidefinright"
                                    ]
                                },
                                "depth": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "distance": {
                                    "type": "number",
                                    "minimum": 0
                                }
                            }
                        }
                    },
                    "inverter_peak_power_dc": {
                        "type": "number"
                    },
                    "inverter_peak_power_ac": {
                        "type": "number"
                    },
                    "inverter_is_inside": {
                        "type": "boolean"
                    },
                    "inverter_type": {
                        "enum": [
                            "string_inverter",
                            "optimised_inverter"
                        ]
                    }
                }
            }
        },
        "Control": {
            "type": "object"
        },
        "HotWaterSource": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "hw cylinder": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "allOf": [
                        {
                            "properties": {
                                "ColdWaterSource": {
                                    "enum": [
                                        "header tank",
                                        "mains water"
                                    ]
                                }
                            }
                        },
                        {
                            "oneOf": [
                                {
                                    "$ref": "#/$defs/StorageTank"
                                },
                                {
                                    "$ref": "#/$defs/SmartHotWaterTank"
                                },
                                {
                                    "$ref": "#/$defs/PointOfUse"
                                },
                                {
                                    "$ref": "#/$defs/CombiBoiler"
                                },
                                {
                                    "$ref": "#/$defs/HeatBattery"
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "HeatSourceWet": {
            "oneOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetHeatPump"
                },
                {
                    "$ref": "#/$defs/HeatSourceWetBoiler"
                },
                {
                    "$ref": "#/$defs/HeatSourceWetHeatBattery"
                },
                {
                    "$ref": "#/$defs/HeatSourceWetHIU"
                }
            ]
        },
        "HotWaterDemand": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "Shower": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "type",
                            "ColdWaterSource"
                        ],
                        "properties": {
                            "type": {
                                "enum": [
                                    "MixerShower",
                                    "InstantElecShower"
                                ]
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            }
                        },
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "MixerShower"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "flowrate"
                            ],
                            "properties": {
                                "flowrate": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 15
                                },
                                "HotWaterSource": {
                                    "type": "string"
                                },
                                "WWHRS": {
                                    "type": "string"
                                },
                                "WWHRS_configuration": {
                                    "enum": [
                                        "A",
                                        "B",
                                        "C"
                                    ]
                                }
                            }
                        },
                        "else": {
                            "required": [
                                "rated_power",
                                "EnergySupply"
                            ],
                            "properties": {
                                "rated_power": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 30
                                },
                                "EnergySupply": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                "Bath": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "size",
                            "ColdWaterSource"
                        ],
                        "properties": {
                            "size": {
                                "type": "number",
                                "minimum": 0
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            },
                            "HotWaterSource": {
                                "type": "string"
                            }
                        }
                    }
                },
                "Other": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "flowrate",
                            "ColdWaterSource"
                        ],
                        "properties": {
                            "flowrate": {
                                "type": "number",
                                "minimum": 0.1,
                                "maximum": 15
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            },
                            "HotWaterSource": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "Events": {
            "type": "object"
        },
        "WWHRS": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "ColdWaterSource",
                    "flow_rates",
                    "system_a_efficiencies"
                ],
                "properties": {
                    "type": {
                        "type": "string",
                        "const": "WWHRS_Instantaneous"
                    },
                    "ColdWaterSource": {
                        "enum": [
                            "header tank",
                            "mains water"
                        ]
                    },
                    "flow_rates": {
                        "type": "array",
                        "items": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 500
                        }
                    },
                    "system_a_efficiencies": {
                        "type": "array",
                        "items": {
                            "minimum": 0,
                            "type": "number"
                        },
                        "description": "Measured efficiencies for System A at the test flow rates"
                    },
                    "system_a_utilisation_factor": {
                        "type": "number",
                        "maximum": 1,
                        "minimum": 0,
                        "description": "Utilisation factor for System A"
                    },
                    "system_b_efficiencies": {
                        "type": "array",
                        "items": {
                            "minimum": 0,
                            "type": "number"
                        },
                        "description": "Measured efficiencies for System B (optional, uses system_b_efficiency_factor if not provided)"
                    },
                    "system_b_efficiency_factor": {
                        "type": "number",
                        "maximum": 1,
                        "minimum": 0,
                        "description": "Reduction factor for System B efficiency (default 0.81)"
                    },
                    "system_b_utilisation_factor": {
                        "type": "number",
                        "maximum": 1,
                        "minimum": 0,
                        "description": "Utilisation factor for System B (optional, defaults to system_a_utilisation_factor)"
                    },
                    "system_c_efficiencies": {
                        "type": "array",
                        "items": {
                            "minimum": 0,
                            "type": "number"
                        },
                        "description": "Measured efficiencies for System C (optional, uses system_c_efficiency_factor if not provided)"
                    },
                    "system_c_efficiency_factor": {
                        "type": "number",
                        "maximum": 1,
                        "minimum": 0,
                        "description": "Reduction factor for System C efficiency (default 0.87)"
                    },
                    "system_c_utilisation_factor": {
                        "type": "number",
                        "maximum": 1,
                        "minimum": 0,
                        "description": "Utilisation factor for System C (optional, defaults to system_a_utilisation_factor)"
                    }
                }
            }
        },
        "SpaceHeatSystem": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "ElecStorageHeater",
                            "InstantElecHeater",
                            "WetDistribution",
                            "WarmAir"
                        ]
                    }
                },
                "allOf": [
                    {
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "ElecStorageHeater"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "pwr_in",
                                "rated_power_instant",
                                "storage_capacity",
                                "air_flow_type",
                                "frac_convective",
                                "n_units",
                                "EnergySupply",
                                "ControlCharger",
                                "Zone",
                                "ESH_min_output",
                                "ESH_max_output",
                                "state_of_charge_init"
                            ],
                            "properties": {
                                "pwr_in": {
                                    "type": "number",
                                    "minimum": 0.1,
                                    "maximum": 70
                                },
                                "rated_power_instant": {
                                    "type": "number",
                                    "minimum": 0.1,
                                    "maximum": 70
                                },
                                "storage_capacity": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "air_flow_type": {
                                    "enum": [
                                        "fan-assisted",
                                        "damper-only"
                                    ]
                                },
                                "frac_convective": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "n_units": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 100
                                },
                                "EnergySupply": {
                                    "type": "string"
                                },
                                "Control": {
                                    "type": "string"
                                },
                                "ControlCharger": {
                                    "type": "string"
                                },
                                "Zone": {
                                    "type": "string"
                                },
                                "ESH_min_output": {
                                    "type": "array",
                                    "items": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "ESH_max_output": {
                                    "type": "array",
                                    "items": {
                                        "type": "array",
                                        "items": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "state_of_charge_init": {
                                    "description": "State of charge at initialisation of dry core heat storage (ratio)",
                                    "maximum": 1.0,
                                    "minimum": 0.0,
                                    "title": "State Of Charge Init",
                                    "type": "number"
                                }
                            },
                            "if": {
                                "properties": {
                                    "air_flow_type": {
                                        "const": "fan-assisted"
                                    }
                                }
                            },
                            "then": {
                                "required": [
                                    "fan_pwr"
                                ],
                                "properties": {
                                    "fan_pwr": {
                                        "type": "number",
                                        "minimum": 0
                                    }
                                }
                            }
                        }
                    },
                    {
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "InstantElecHeater"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "rated_power",
                                "convective_type",
                                "EnergySupply"
                            ],
                            "properties": {
                                "rated_power": {
                                    "type": "number",
                                    "minimum": 0.1,
                                    "maximum": 70
                                },
                                "convective_type": {
                                    "enum": [
                                        "Air heating (convectors, fan coils etc.)",
                                        "Free heating surface (radiators, radiant panels etc.)",
                                        "Floor heating, low temperature radiant tube heaters, luminous heaters, wood stoves",
                                        "Wall heating, radiant ceiling panels, accumulation stoves",
                                        "Ceiling heating, radiant ceiling electric heating"
                                    ]
                                },
                                "EnergySupply": {
                                    "type": "string"
                                },
                                "Control": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    {
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "WetDistribution"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "emitters",
                                "temp_diff_emit_dsgn",
                                "variable_flow",
                                "HeatSource",
                                "ecodesign_controller",
                                "design_flow_temp",
                                "Zone",
                                "pipework"
                            ],
                            "properties": {
                                "EnergySupply": {
                                    "type": "string"
                                },
                                "emitters": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "unevaluatedProperties": false,
                                        "required": [
                                            "wet_emitter_type",
                                            "frac_convective"
                                        ],
                                        "properties": {
                                            "wet_emitter_type": {
                                                "enum": [
                                                    "radiator",
                                                    "ufh",
                                                    "fancoil"
                                                ]
                                            },
                                            "frac_convective": {
                                                "type": "number"
                                            }
                                        },
                                        "allOf": [
                                            {
                                                "if": {
                                                    "properties": {
                                                        "wet_emitter_type": {
                                                            "const": "radiator"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "c",
                                                        "n"
                                                    ],
                                                    "properties": {
                                                        "c": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 2
                                                        },
                                                        "n": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 2
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "wet_emitter_type": {
                                                            "const": "ufh"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "equivalent_specific_thermal_mass",
                                                        "system_performance_factor",
                                                        "emitter_floor_area"
                                                    ],
                                                    "properties": {
                                                        "equivalent_specific_thermal_mass": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        },
                                                        "system_performance_factor": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        },
                                                        "emitter_floor_area": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "wet_emitter_type": {
                                                            "const": "fancoil"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "n_units",
                                                        "fancoil_test_data"
                                                    ],
                                                    "properties": {
                                                        "n_units": {
                                                            "type": "integer",
                                                            "minimum": 1
                                                        },
                                                        "fancoil_test_data": {
                                                            "type": "object",
                                                            "unevaluatedProperties": false,
                                                            "required": [
                                                                "fan_speed_data",
                                                                "fan_power_W"
                                                            ],
                                                            "properties": {
                                                                "fan_speed_data": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "object",
                                                                        "unevaluatedProperties": false,
                                                                        "required": [
                                                                            "temperature_diff",
                                                                            "power_output"
                                                                        ],
                                                                        "properties": {
                                                                            "temperature_diff": {
                                                                                "type": "number"
                                                                            },
                                                                            "power_output": {
                                                                                "type": "array",
                                                                                "items": {
                                                                                    "type": "number",
                                                                                    "minimum": 0
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                },
                                                                "fan_power_W": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "number",
                                                                        "minimum": 0
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "temp_diff_emit_dsgn": {
                                    "type": "number",
                                    "maximum": 70
                                },
                                "variable_flow": {
                                    "type": "boolean"
                                },
                                "bypass_percentage_recirculated": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "HeatSource": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "name"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "temp_flow_limit_upper": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "Control": {
                                    "type": "string"
                                },
                                "ecodesign_controller": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "ecodesign_control_class"
                                    ],
                                    "properties": {
                                        "ecodesign_control_class": {
                                            "type": "integer",
                                            "minimum": 1,
                                            "maximum": 8
                                        },
                                        "min_outdoor_temp": {
                                            "type": "integer",
                                            "minimum": -60,
                                            "maximum": 30
                                        },
                                        "max_outdoor_temp": {
                                            "type": "integer",
                                            "minimum": 10,
                                            "maximum": 50
                                        },
                                        "min_flow_temp": {
                                            "type": "integer",
                                            "minimum": 20,
                                            "maximum": 120
                                        }
                                    }
                                },
                                "design_flow_temp": {
                                    "type": "integer",
                                    "minimum": 20,
                                    "maximum": 120
                                },
                                "Zone": {
                                    "type": "string"
                                },
                                "pipework": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                            "external_diameter_mm": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "insulation_thermal_conductivity": {
                                                "type": "number",
                                                "exclusiveMinimum": 0,
                                                "description": "Thermal conductivity of the insulation (unit: W / m K)"
                                            },
                                            "insulation_thickness_mm": {
                                                "type": "number",
                                                "minimum": 0
                                            },
                                            "internal_diameter_mm": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "length": {
                                                "type": "number",
                                                "minimum": 0
                                            },
                                            "location": {
                                                "type": "string",
                                                "enum": [
                                                    "internal",
                                                    "external"
                                                ],
                                                "description": "Location of the pipework (internal or external)"
                                            },
                                            "pipe_contents": {
                                                "type": "string",
                                                "enum": [
                                                    "water",
                                                    "glycol25"
                                                ],
                                                "description": "Contents of the pipework (water or glycol25)"
                                            },
                                            "surface_reflectivity": {
                                                "type": "boolean"
                                            }
                                        }
                                    }
                                }
                            },
                            "allOf": [
                                {
                                    "if": {
                                        "oneOf": [
                                            {
                                                "properties": {
                                                    "ecodesign_control_class": {
                                                        "const": 2
                                                    }
                                                }
                                            },
                                            {
                                                "properties": {
                                                    "ecodesign_control_class": {
                                                        "const": 3
                                                    }
                                                }
                                            },
                                            {
                                                "properties": {
                                                    "ecodesign_control_class": {
                                                        "const": 6
                                                    }
                                                }
                                            },
                                            {
                                                "properties": {
                                                    "ecodesign_control_class": {
                                                        "const": 7
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "then": {
                                        "required": [
                                            "min_outdoor_temp",
                                            "max_outdoor_temp",
                                            "min_flow_temp"
                                        ]
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "variable_flow": {
                                                "const": true
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "min_flow_rate",
                                            "max_flow_rate"
                                        ],
                                        "properties": {
                                            "min_flow_rate": {
                                                "type": "number"
                                            },
                                            "max_flow_rate": {
                                                "type": "number"
                                            }
                                        }
                                    },
                                    "else": {
                                        "required": [
                                            "design_flow_rate"
                                        ],
                                        "properties": {
                                            "design_flow_rate": {
                                                "type": "number"
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "emitters": {
                                                "type": "array",
                                                "contains": {
                                                    "type": "object",
                                                    "properties": {
                                                        "wet_emitter_type": {
                                                            "const": "radiator"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "thermal_mass"
                                        ],
                                        "properties": {
                                            "thermal_mass": {
                                                "type": "number"
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "if": {
                            "properties": {
                                "type": {
                                    "const": "WarmAir"
                                }
                            }
                        },
                        "then": {
                            "required": [
                                "temp_diff_emit_dsgn",
                                "frac_convective",
                                "HeatSource"
                            ],
                            "properties": {
                                "temp_diff_emit_dsgn": {
                                    "type": "number",
                                    "maximum": 70
                                },
                                "frac_convective": {
                                    "type": "number",
                                    "minimum": 0.1,
                                    "maximum": 1
                                },
                                "HeatSource": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "name"
                                    ],
                                    "properties": {
                                        "name": {
                                            "type": "string"
                                        },
                                        "temp_flow_limit_upper": {
                                            "type": "number"
                                        }
                                    }
                                },
                                "Control": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                ]
            }
        },
        "SpaceCoolSystem": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "cooling_capacity",
                    "efficiency",
                    "frac_convective",
                    "EnergySupply"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "AirConditioning"
                        ]
                    },
                    "cooling_capacity": {
                        "type": "number"
                    },
                    "efficiency": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 25
                    },
                    "frac_convective": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                    },
                    "EnergySupply": {
                        "type": "string"
                    },
                    "advanced_start": {
                        "type": "number"
                    },
                    "temp_setback": {
                        "type": "number"
                    }
                }
            }
        },
        "General": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "storeys_in_building",
                "build_type"
            ],
            "properties": {
                "storeys_in_building": {
                    "type": "integer",
                    "minimum": 1,
                    "maximum": 250
                },
                "build_type": {
                    "enum": [
                        "flat",
                        "house"
                    ]
                }
            },
            "if": {
                "properties": {
                    "build_type": {
                        "const": "flat"
                    }
                }
            },
            "then": {
                "required": [
                    "storey_of_dwelling"
                ],
                "properties": {
                    "storey_of_dwelling": {
                        "type": "integer",
                        "minimum": -50,
                        "maximum": 199
                    }
                }
            }
        },
        "InfiltrationVentilation": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "cross_vent_possible",
                "shield_class",
                "terrain_class",
                "ventilation_zone_base_height",
                "altitude",
                "noise_nuisance",
                "Vents",
                "Leaks",
                "CombustionAppliances"
            ],
            "properties": {
                "cross_vent_possible": {
                    "type": "boolean"
                },
                "shield_class": {
                    "enum": [
                        "Open",
                        "Normal",
                        "Shielded"
                    ]
                },
                "terrain_class": {
                    "enum": [
                        "OpenWater",
                        "OpenField",
                        "Suburban",
                        "Urban"
                    ]
                },
                "ventilation_zone_base_height": {
                    "type": "number",
                    "minimum": -150,
                    "maximum": 750
                },
                "altitude": {
                    "type": "number",
                    "minimum": -150,
                    "maximum": 7200
                },
                "ach_min_static_calcs": {
                    "type": "number"
                },
                "ach_max_static_calcs": {
                    "type": "number"
                },
                "noise_nuisance": {
                    "type": "boolean"
                },
                "Vents": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "mid_height_air_flow_path",
                            "area_cm2",
                            "orientation360",
                            "pitch"
                        ],
                        "properties": {
                            "mid_height_air_flow_path": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 60
                            },
                            "area_cm2": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 999999
                            },
                            "orientation360": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "pitch": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 180
                            }
                        }
                    }
                },
                "Leaks": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "ventilation_zone_height",
                        "test_pressure",
                        "test_result",
                        "env_area"
                    ],
                    "properties": {
                        "ventilation_zone_height": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 120
                        },
                        "test_pressure": {
                            "enum": [
                                "Standard",
                                "Pulse test only"
                            ]
                        },
                        "test_result": {
                            "type": "number",
                            "minimum": 0
                        },
                        "env_area": {
                            "type": "number",
                            "minimum": 5,
                            "maximum": 72000
                        }
                    }
                },
                "MechanicalVentilation": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "sup_air_flw_ctrl",
                            "sup_air_temp_ctrl",
                            "vent_type",
                            "EnergySupply",
                            "design_outdoor_air_flow_rate"
                        ],
                        "properties": {
                            "sup_air_flw_ctrl": {
                                "enum": [
                                    "ODA",
                                    "LOAD"
                                ]
                            },
                            "sup_air_temp_ctrl": {
                                "enum": [
                                    "NO_CTRL",
                                    "CONST",
                                    "ODA_COMP",
                                    "LOAD_COMP"
                                ]
                            },
                            "design_zone_cooling_covered_by_mech_vent": {
                                "type": "number"
                            },
                            "design_zone_heating_covered_by_mech_vent": {
                                "type": "number"
                            },
                            "vent_type": {
                                "enum": [
                                    "Decentralised continuous MEV",
                                    "Centralised continuous MEV",
                                    "MVHR",
                                    "Intermittent MEV"
                                ]
                            },
                            "EnergySupply": {
                                "type": "string"
                            },
                            "design_outdoor_air_flow_rate": {
                                "type": "number",
                                "minimum": 0
                            },
                            "SFP_in_use_factor": {
                                "minimum": 1,
                                "type": "number",
                                "default": 1,
                                "description": "Adjustment factor to be applied to SFP to account for e.g. type of ducting. Typical range 1 - 2.5",
                                "title": "Sfp In Use Factor"
                            }
                        },
                        "allOf": [
                            {
                                "if": {
                                    "properties": {
                                        "vent_type": {
                                            "const": "MVHR"
                                        }
                                    }
                                },
                                "then": {
                                    "required": [
                                        "mvhr_eff",
                                        "mvhr_location",
                                        "ductwork",
                                        "position_intake",
                                        "position_exhaust"
                                    ],
                                    "properties": {
                                        "mvhr_eff": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 1
                                        },
                                        "mvhr_location": {
                                            "enum": [
                                                "inside",
                                                "outside"
                                            ]
                                        },
                                        "ductwork": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "unevaluatedProperties": false,
                                                "required": [
                                                    "cross_section_shape",
                                                    "internal_diameter_mm",
                                                    "external_diameter_mm",
                                                    "length",
                                                    "insulation_thermal_conductivity",
                                                    "insulation_thickness_mm",
                                                    "reflective",
                                                    "duct_type"
                                                ],
                                                "properties": {
                                                    "cross_section_shape": {
                                                        "enum": [
                                                            "circular",
                                                            "rectangular"
                                                        ]
                                                    },
                                                    "internal_diameter_mm": {
                                                        "type": "number",
                                                        "minimum": 0,
                                                        "maximum": 1000
                                                    },
                                                    "external_diameter_mm": {
                                                        "type": "number",
                                                        "minimum": 0,
                                                        "maximum": 1000
                                                    },
                                                    "length": {
                                                        "type": "number",
                                                        "minimum": 0
                                                    },
                                                    "insulation_thermal_conductivity": {
                                                        "type": "number",
                                                        "minimum": 0
                                                    },
                                                    "insulation_thickness_mm": {
                                                        "type": "number",
                                                        "minimum": 0,
                                                        "maximum": 100
                                                    },
                                                    "reflective": {
                                                        "type": "boolean"
                                                    },
                                                    "duct_type": {
                                                        "enum": [
                                                            "supply",
                                                            "extract",
                                                            "intake",
                                                            "exhaust"
                                                        ]
                                                    }
                                                }
                                            }
                                        },
                                        "position_intake": {
                                            "type": "object",
                                            "properties": {
                                                "mid_height_air_flow_path": {
                                                    "type": "number",
                                                    "minimum": 1,
                                                    "maximum": 60,
                                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                                },
                                                "orientation360": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 360,
                                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                                },
                                                "pitch": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 180,
                                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                                }
                                            }
                                        },
                                        "position_exhaust": {
                                            "type": "object",
                                            "properties": {
                                                "mid_height_air_flow_path": {
                                                    "type": "number",
                                                    "minimum": 1,
                                                    "maximum": 60,
                                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                                },
                                                "orientation360": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 360,
                                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                                },
                                                "pitch": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 180,
                                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                                }
                                            }
                                        }
                                    }
                                },
                                "else": {
                                    "oneOf": [
                                        {
                                            "required": [
                                                "mid_height_air_flow_path",
                                                "orientation360",
                                                "pitch"
                                            ],
                                            "properties": {
                                                "mid_height_air_flow_path": {
                                                    "type": "number",
                                                    "minimum": 1,
                                                    "maximum": 60,
                                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                                },
                                                "orientation360": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 360,
                                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                                },
                                                "pitch": {
                                                    "type": "number",
                                                    "minimum": 0,
                                                    "maximum": 180,
                                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                                }
                                            }
                                        },
                                        {
                                            "required": [
                                                "position_exhaust"
                                            ],
                                            "properties": {
                                                "position_exhaust": {
                                                    "type": "object",
                                                    "properties": {
                                                        "mid_height_air_flow_path": {
                                                            "type": "number",
                                                            "minimum": 1,
                                                            "maximum": 60,
                                                            "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                                        },
                                                        "orientation360": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 360,
                                                            "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                                        },
                                                        "pitch": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 180,
                                                            "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                "if": {
                                    "anyOf": [
                                        {
                                            "properties": {
                                                "vent_type": {
                                                    "const": "Decentralised continuous MEV"
                                                }
                                            }
                                        },
                                        {
                                            "properties": {
                                                "vent_type": {
                                                    "const": "Intermittent MEV"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "then": {
                                    "required": [
                                        "SFP"
                                    ],
                                    "properties": {
                                        "SFP": {
                                            "type": "number",
                                            "description": "Specific fan power, assumed inclusive of any in use factors unless SFP_in_use_factor also provided (unit: W/l/s)"
                                        }
                                    }
                                }
                            },
                            {
                                "if": {
                                    "anyOf": [
                                        {
                                            "properties": {
                                                "vent_type": {
                                                    "const": "Centralised continuous MEV"
                                                }
                                            }
                                        },
                                        {
                                            "properties": {
                                                "vent_type": {
                                                    "const": "MVHR"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "then": {
                                    "required": [
                                        "measured_fan_power",
                                        "measured_air_flow_rate"
                                    ],
                                    "properties": {
                                        "measured_fan_power": {
                                            "type": "number"
                                        },
                                        "measured_air_flow_rate": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        ]
                    }
                },
                "PDUs": {
                    "type": "object"
                },
                "Cowls": {
                    "type": "object"
                },
                "CombustionAppliances": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "supply_situation",
                            "exhaust_situation",
                            "fuel_type",
                            "appliance_type"
                        ],
                        "properties": {
                            "supply_situation": {
                                "enum": [
                                    "room_air",
                                    "outside"
                                ]
                            },
                            "exhaust_situation": {
                                "enum": [
                                    "into_room",
                                    "into_separate_duct",
                                    "into_mech_vent"
                                ]
                            },
                            "fuel_type": {
                                "enum": [
                                    "wood",
                                    "gas",
                                    "oil",
                                    "coal"
                                ]
                            }
                        },
                        "allOf": [
                            {
                                "if": {
                                    "properties": {
                                        "fuel_type": {
                                            "const": "wood"
                                        }
                                    }
                                },
                                "then": {
                                    "properties": {
                                        "appliance_type": {
                                            "enum": [
                                                "open_fireplace"
                                            ]
                                        }
                                    }
                                }
                            },
                            {
                                "if": {
                                    "properties": {
                                        "fuel_type": {
                                            "const": "gas"
                                        }
                                    }
                                },
                                "then": {
                                    "properties": {
                                        "appliance_type": {
                                            "enum": [
                                                "closed_with_fan",
                                                "open_gas_flue_balancer",
                                                "open_gas_kitchen_stove",
                                                "open_gas_fire"
                                            ]
                                        }
                                    }
                                }
                            },
                            {
                                "if": {
                                    "anyOf": [
                                        {
                                            "properties": {
                                                "fuel_type": {
                                                    "const": "oil"
                                                }
                                            }
                                        },
                                        {
                                            "properties": {
                                                "fuel_type": {
                                                    "const": "coal"
                                                }
                                            }
                                        }
                                    ]
                                },
                                "then": {
                                    "properties": {
                                        "appliance_type": {
                                            "enum": [
                                                "closed_fire"
                                            ]
                                        }
                                    }
                                }
                            }
                        ]
                    }
                }
            }
        },
        "Zone": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "livingroom_area",
                    "restofdwelling_area",
                    "volume",
                    "Lighting",
                    "BuildingElement",
                    "ThermalBridging"
                ],
                "properties": {
                    "SpaceHeatSystem": {
                        "type": [
                            "string",
                            "array"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "SpaceCoolSystem": {
                        "type": [
                            "string",
                            "array"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "livingroom_area": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 10000
                    },
                    "restofdwelling_area": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 10000
                    },
                    "volume": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 50000
                    },
                    "Lighting": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "bulbs"
                        ],
                        "properties": {
                            "bulbs": {
                                "type": "object",
                                "unevaluatedProperties": false,
                                "required": [
                                    "count",
                                    "power",
                                    "efficacy"
                                ],
                                "properties": {
                                    "count": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "power": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "efficacy": {
                                        "type": "number",
                                        "minimum": 0
                                    }
                                }
                            }
                        }
                    },
                    "BuildingElement": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "properties": {
                                "type": {
                                    "enum": [
                                        "BuildingElementAdjacentConditionedSpace",
                                        "BuildingElementAdjacentUnconditionedSpace_Simple",
                                        "BuildingElementGround",
                                        "BuildingElementOpaque",
                                        "BuildingElementTransparent"
                                    ]
                                },
                                "thermal_resistance_construction": {
                                    "type": "number",
                                    "minimum": 0.01,
                                    "maximum": 50
                                },
                                "u_value": {
                                    "type": "number",
                                    "minimum": 0.01,
                                    "maximum": 10
                                }
                            },
                            "anyOf": [
                                {
                                    "required": [
                                        "thermal_resistance_construction"
                                    ]
                                },
                                {
                                    "required": [
                                        "u_value"
                                    ]
                                }
                            ],
                            "required": [
                                "type"
                            ],
                            "allOf": [
                                {
                                    "if": {
                                        "anyOf": [
                                            {
                                                "properties": {
                                                    "type": {
                                                        "const": "BuildingElementAdjacentConditionedSpace"
                                                    }
                                                }
                                            },
                                            {
                                                "properties": {
                                                    "type": {
                                                        "const": "BuildingElementAdjacentUnconditionedSpace_Simple"
                                                    }
                                                }
                                            }
                                        ]
                                    },
                                    "then": {
                                        "required": [
                                            "area",
                                            "areal_heat_capacity",
                                            "mass_distribution_class",
                                            "pitch"
                                        ],
                                        "properties": {
                                            "pitch": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 180
                                            },
                                            "areal_heat_capacity": {
                                                "enum": [
                                                    "Very light",
                                                    "Light",
                                                    "Medium",
                                                    "Heavy",
                                                    "Very heavy"
                                                ]
                                            },
                                            "mass_distribution_class": {
                                                "$ref": "#/$defs/MassDistributionClass"
                                            },
                                            "area": {
                                                "type": "number",
                                                "minimum": 0.01,
                                                "maximum": 10000
                                            },
                                            "is_party_wall": {
                                                "type": "boolean"
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "BuildingElementAdjacentUnconditionedSpace_Simple"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "thermal_resistance_unconditioned_space"
                                        ],
                                        "properties": {
                                            "thermal_resistance_unconditioned_space": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 3
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "BuildingElementGround"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "u_value",
                                            "total_area",
                                            "floor_type",
                                            "thickness_walls",
                                            "perimeter",
                                            "psi_wall_floor_junc",
                                            "thermal_resistance_floor_construction",
                                            "areal_heat_capacity",
                                            "mass_distribution_class",
                                            "area"
                                        ],
                                        "properties": {
                                            "total_area": {
                                                "type": "number",
                                                "minimum": 5
                                            },
                                            "floor_type": {
                                                "enum": [
                                                    "Slab_no_edge_insulation",
                                                    "Slab_edge_insulation",
                                                    "Suspended_floor",
                                                    "Heated_basement",
                                                    "Unheated_basement"
                                                ]
                                            },
                                            "thickness_walls": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 100
                                            },
                                            "perimeter": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 1000
                                            },
                                            "psi_wall_floor_junc": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 2
                                            },
                                            "thermal_resistance_floor_construction": {
                                                "type": "number",
                                                "minimum": 0.000001,
                                                "maximum": 50
                                            },
                                            "areal_heat_capacity": {
                                                "enum": [
                                                    "Very light",
                                                    "Light",
                                                    "Medium",
                                                    "Heavy",
                                                    "Very heavy"
                                                ]
                                            },
                                            "mass_distribution_class": {
                                                "$ref": "#/$defs/MassDistributionClass"
                                            },
                                            "area": {
                                                "type": "number",
                                                "minimum": 5,
                                                "maximum": 10000
                                            }
                                        },
                                        "allOf": [
                                            {
                                                "if": {
                                                    "properties": {
                                                        "floor_type": {
                                                            "const": "Slab_edge_insulation"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "edge_insulation"
                                                    ],
                                                    "properties": {
                                                        "edge_insulation": {
                                                            "type": "object",
                                                            "unevaluatedProperties": false,
                                                            "required": [
                                                                "type",
                                                                "width",
                                                                "edge_thermal_resistance"
                                                            ],
                                                            "properties": {
                                                                "type": {
                                                                    "enum": [
                                                                        "horizontal",
                                                                        "vertical"
                                                                    ]
                                                                },
                                                                "width": {
                                                                    "type": "number"
                                                                },
                                                                "edge_thermal_resistance": {
                                                                    "type": "number"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "floor_type": {
                                                            "const": "Suspended_floor"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "height_upper_surface",
                                                        "thermal_transm_walls",
                                                        "shield_fact_location",
                                                        "thickness_walls",
                                                        "thermal_resist_insul"
                                                    ],
                                                    "properties": {
                                                        "height_upper_surface": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        },
                                                        "thermal_transm_walls": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        },
                                                        "area_per_perimeter_vent": {
                                                            "type": "number"
                                                        },
                                                        "shield_fact_location": {
                                                            "enum": [
                                                                "Sheltered",
                                                                "Average",
                                                                "Exposed"
                                                            ]
                                                        },
                                                        "thickness_walls": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        },
                                                        "thermal_resist_insul": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "anyOf": [
                                                        {
                                                            "properties": {
                                                                "floor_type": {
                                                                    "const": "Heated_basement"
                                                                }
                                                            }
                                                        },
                                                        {
                                                            "properties": {
                                                                "floor_type": {
                                                                    "const": "Unheated_basement"
                                                                }
                                                            }
                                                        }
                                                    ]
                                                },
                                                "then": {
                                                    "required": [
                                                        "thickness_walls",
                                                        "depth_basement_floor",
                                                        "thermal_resist_walls_base"
                                                    ],
                                                    "properties": {
                                                        "thickness_walls": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        },
                                                        "depth_basement_floor": {
                                                            "type": "number"
                                                        },
                                                        "thermal_resist_walls_base": {
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            },
                                            {
                                                "if": {
                                                    "properties": {
                                                        "floor_type": {
                                                            "const": "Unheated_basement"
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "thermal_transm_envi_base",
                                                        "thermal_transm_walls",
                                                        "height_basement_walls"
                                                    ],
                                                    "properties": {
                                                        "thermal_transm_envi_base": {
                                                            "type": "number"
                                                        },
                                                        "thermal_transm_walls": {
                                                            "type": "number"
                                                        },
                                                        "height_basement_walls": {
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "BuildingElementOpaque"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "colour",
                                            "areal_heat_capacity",
                                            "mass_distribution_class",
                                            "orientation360",
                                            "base_height",
                                            "height",
                                            "width",
                                            "area",
                                            "pitch"
                                        ],
                                        "properties": {
                                            "pitch": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 180
                                            },
                                            "is_unheated_pitched_roof": {
                                                "type": "boolean"
                                            },
                                            "is_external_door": {
                                                "type": "boolean"
                                            },
                                            "colour": {
                                                "enum": [
                                                    "Light",
                                                    "Intermediate",
                                                    "Dark"
                                                ]
                                            },
                                            "areal_heat_capacity": {
                                                "enum": [
                                                    "Very light",
                                                    "Light",
                                                    "Medium",
                                                    "Heavy",
                                                    "Very heavy"
                                                ]
                                            },
                                            "mass_distribution_class": {
                                                "$ref": "#/$defs/MassDistributionClass"
                                            },
                                            "orientation360": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 360
                                            },
                                            "base_height": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 500
                                            },
                                            "height": {
                                                "type": "number",
                                                "minimum": 0.001,
                                                "maximum": 50
                                            },
                                            "width": {
                                                "type": "number",
                                                "minimum": 0.001,
                                                "maximum": 100
                                            },
                                            "area": {
                                                "type": "number",
                                                "minimum": 0.01,
                                                "maximum": 10000
                                            },
                                            "is_party_wall": {
                                                "type": "boolean"
                                            }
                                        },
                                        "allOf": [
                                            {
                                                "if": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "properties": {
                                                        "pitch": {
                                                            "type": "number",
                                                            "minimum": 60,
                                                            "maximum": 120
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "is_external_door"
                                                    ]
                                                }
                                            },
                                            {
                                                "if": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "properties": {
                                                        "pitch": {
                                                            "type": "number",
                                                            "maximum": 60
                                                        }
                                                    }
                                                },
                                                "then": {
                                                    "required": [
                                                        "is_unheated_pitched_roof"
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "BuildingElementTransparent"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "frame_area_fraction",
                                            "g_value",
                                            "mid_height",
                                            "max_window_open_area",
                                            "security_risk",
                                            "window_part_list",
                                            "shading",
                                            "orientation360",
                                            "base_height",
                                            "height",
                                            "width",
                                            "pitch"
                                        ],
                                        "properties": {
                                            "pitch": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 180
                                            },
                                            "frame_area_fraction": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 1
                                            },
                                            "g_value": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 1
                                            },
                                            "free_area_height": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 100
                                            },
                                            "mid_height": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 100
                                            },
                                            "max_window_open_area": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 100
                                            },
                                            "security_risk": {
                                                "type": "boolean"
                                            },
                                            "window_part_list": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "required": [
                                                        "mid_height_air_flow_path"
                                                    ],
                                                    "properties": {
                                                        "mid_height_air_flow_path": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        }
                                                    }
                                                }
                                            },
                                            "shading": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "required": [
                                                        "type",
                                                        "depth",
                                                        "distance"
                                                    ],
                                                    "properties": {
                                                        "type": {
                                                            "enum": [
                                                                "overhang",
                                                                "sidefinleft",
                                                                "sidefinright"
                                                            ]
                                                        },
                                                        "depth": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        },
                                                        "distance": {
                                                            "type": "number",
                                                            "minimum": 0
                                                        }
                                                    }
                                                }
                                            },
                                            "treatment": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "required": [
                                                        "type",
                                                        "controls",
                                                        "delta_r",
                                                        "trans_red"
                                                    ],
                                                    "properties": {
                                                        "type": {
                                                            "enum": [
                                                                "curtains",
                                                                "blinds"
                                                            ]
                                                        },
                                                        "controls": {
                                                            "enum": [
                                                                "auto_motorised",
                                                                "manual"
                                                            ]
                                                        },
                                                        "delta_r": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 100
                                                        },
                                                        "trans_red": {
                                                            "type": "number",
                                                            "minimum": 0,
                                                            "maximum": 1
                                                        }
                                                    }
                                                }
                                            },
                                            "orientation360": {
                                                "type": "integer",
                                                "minimum": 0,
                                                "maximum": 360
                                            },
                                            "base_height": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 500
                                            },
                                            "height": {
                                                "type": "number",
                                                "minimum": 0.001,
                                                "maximum": 50
                                            },
                                            "width": {
                                                "type": "number",
                                                "minimum": 0.001,
                                                "maximum": 100
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "ThermalBridging": {
                        "type": [
                            "object",
                            "number"
                        ],
                        "additionalProperties": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "properties": {
                                "type": {
                                    "enum": [
                                        "ThermalBridgeLinear",
                                        "ThermalBridgePoint"
                                    ]
                                }
                            },
                            "required": [
                                "type"
                            ],
                            "allOf": [
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "ThermalBridgeLinear"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "linear_thermal_transmittance",
                                            "length",
                                            "junction_type"
                                        ],
                                        "properties": {
                                            "linear_thermal_transmittance": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 2
                                            },
                                            "length": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 10000
                                            },
                                            "junction_type": {
                                                "enum": [
                                                    "E1",
                                                    "E2",
                                                    "E3",
                                                    "E4",
                                                    "E5",
                                                    "E6",
                                                    "E7",
                                                    "E8",
                                                    "E9",
                                                    "E10",
                                                    "E11",
                                                    "E12",
                                                    "E13",
                                                    "E14",
                                                    "E15",
                                                    "E16",
                                                    "E17",
                                                    "E18",
                                                    "E19",
                                                    "E20",
                                                    "E21",
                                                    "E22",
                                                    "E23",
                                                    "E24",
                                                    "E25",
                                                    "P1",
                                                    "P2",
                                                    "P3",
                                                    "P4",
                                                    "P5",
                                                    "P6",
                                                    "P7",
                                                    "P8",
                                                    "R1",
                                                    "R2",
                                                    "R3",
                                                    "R4",
                                                    "R5",
                                                    "R6",
                                                    "R7",
                                                    "R8",
                                                    "R9",
                                                    "R10",
                                                    "R11"
                                                ]
                                            }
                                        }
                                    }
                                },
                                {
                                    "if": {
                                        "properties": {
                                            "type": {
                                                "const": "ThermalBridgePoint"
                                            }
                                        }
                                    },
                                    "then": {
                                        "required": [
                                            "heat_transfer_coeff"
                                        ],
                                        "properties": {
                                            "heat_transfer_coeff": {
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 2
                                            }
                                        }
                                    }
                                }
                            ]
                        }
                    }
                }
            },
            "minProperties": 1,
            "maxProperties": 1
        }
    },
    "required": [
        "PartGcompliance",
        "BuildingLength",
        "BuildingWidth",
        "NumberOfBedrooms",
        "NumberOfTappedRooms",
        "NumberOfUtilityRooms",
        "NumberOfBathrooms",
        "NumberOfSanitaryAccommodations",
        "NumberOfHabitableRooms",
        "HeatingControlType",
        "SimulationTime",
        "ExternalConditions",
        "Appliances",
        "ColdWaterSource",
        "EnergySupply",
        "Control",
        "HotWaterSource",
        "Events",
        "SpaceHeatSystem",
        "General",
        "InfiltrationVentilation",
        "Zone"
    ],
    "$defs": {
        "MassDistributionClass": {
            "enum": [
                "I: Mass concentrated at internal side",
                "E: Mass concentrated at external side",
                "IE: Mass divided over internal and external side",
                "D: Mass equally distributed",
                "M: Mass concentrated inside"
            ],
            "title": "MassDistributionClass",
            "type": "string"
        },
        "EnergySupplyGas": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "enum": [
                        "mains_gas",
                        "gas"
                    ]
                }
            }
        },
        "EnergySupplyElectricity": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "const": "electricity"
                },
                "priority": {
                    "enum": [
                        "ElectricBattery",
                        "diverter"
                    ]
                },
                "is_export_capable": {
                    "type": "boolean"
                },
                "ElectricBattery": {
                    "oneOf": [
                        {
                            "$ref": "#/$defs/ElectricBatteryGridCharging"
                        },
                        {
                            "$ref": "#/$defs/ElectricBatteryNoGridCharging"
                        }
                    ]
                },
                "diverter": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "HeatSource"
                    ],
                    "properties": {
                        "StorageTank": {
                            "type": "string"
                        },
                        "HeatSource": {
                            "type": "string"
                        },
                        "Controlmax": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "ElectricBatteryCommon": {
            "required": [
                "capacity",
                "charge_discharge_efficiency_round_trip",
                "minimum_charge_rate_one_way_trip",
                "maximum_charge_rate_one_way_trip",
                "maximum_discharge_rate_one_way_trip",
                "battery_location",
                "grid_charging_possible"
            ],
            "properties": {
                "capacity": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 50
                },
                "charge_discharge_efficiency_round_trip": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "minimum_charge_rate_one_way_trip": {
                    "type": "number",
                    "minimum": 0
                },
                "maximum_charge_rate_one_way_trip": {
                    "type": "number",
                    "minimum": 0
                },
                "maximum_discharge_rate_one_way_trip": {
                    "type": "number",
                    "minimum": 0
                },
                "battery_location": {
                    "enum": [
                        "inside",
                        "outside"
                    ]
                }
            }
        },
        "ElectricBatteryGridCharging": {
            "allOf": [
                {
                    "$ref": "#/$defs/ElectricBatteryCommon"
                },
                {
                    "required": [
                        "grid_charging_possible",
                        "threshold_charges",
                        "threshold_prices",
                        "tariff"
                    ],
                    "properties": {
                        "grid_charging_possible": {
                            "const": true
                        },
                        "threshold_charges": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "threshold_prices": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "tariff": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "ElectricBatteryNoGridCharging": {
            "allOf": [
                {
                    "$ref": "#/$defs/ElectricBatteryCommon"
                },
                {
                    "required": [
                        "grid_charging_possible"
                    ],
                    "properties": {
                        "grid_charging_possible": {
                            "const": false
                        }
                    }
                }
            ]
        },
        "EnergySupplyCustom": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "const": "custom"
                },
                "factor": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "Emissions Factor kgCO2e/kWh",
                        "Emissions Factor kgCO2e/kWh including out-of-scope emissions",
                        "Primary Energy Factor kWh/kWh delivered",
                        "is_export_capable"
                    ],
                    "properties": {
                        "Emissions Factor kgCO2e/kWh": {
                            "type": "number"
                        },
                        "Emissions Factor kgCO2e/kWh including out-of-scope emissions": {
                            "type": "number"
                        },
                        "Primary Energy Factor kWh/kWh delivered": {
                            "type": "number"
                        },
                        "is_export_capable": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
        "EnergySupplyOther": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "enum": [
                        "lpg_bulk",
                        "wood",
                        "oil",
                        "coal"
                    ]
                },
                "factor": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "is_export_capable"
                    ],
                    "properties": {
                        "is_export_capable": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
        "HotWaterTankCommon": {
            "required": [
                "type",
                "volume",
                "daily_losses",
                "HeatSource"
            ],
            "properties": {
                "type": {
                    "enum": [
                        "SmartHotWaterTank",
                        "StorageTank"
                    ]
                },
                "volume": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 1000
                },
                "init_temp": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 1000
                },
                "daily_losses": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 200
                },
                "primary_pipework": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "location",
                            "internal_diameter_mm",
                            "external_diameter_mm",
                            "length",
                            "insulation_thermal_conductivity",
                            "insulation_thickness_mm",
                            "surface_reflectivity",
                            "pipe_contents"
                        ],
                        "properties": {
                            "location": {
                                "enum": [
                                    "internal",
                                    "external"
                                ]
                            },
                            "internal_diameter_mm": {
                                "type": "number",
                                "minimum": 5,
                                "maximum": 50
                            },
                            "external_diameter_mm": {
                                "type": "number",
                                "minimum": 5,
                                "maximum": 50
                            },
                            "length": {
                                "type": "number",
                                "minimum": 0.05
                            },
                            "insulation_thermal_conductivity": {
                                "type": "number"
                            },
                            "insulation_thickness_mm": {
                                "type": "number"
                            },
                            "surface_reflectivity": {
                                "type": "boolean"
                            },
                            "pipe_contents": {
                                "enum": [
                                    "air",
                                    "water",
                                    "glycol25"
                                ]
                            }
                        }
                    }
                },
                "HeatSource": {
                    "type": "object",
                    "additionalProperties": {
                        "oneOf": [
                            {
                                "$ref": "#/$defs/ImmersionHeater"
                            },
                            {
                                "$ref": "#/$defs/SolarThermalSystem"
                            },
                            {
                                "$ref": "#/$defs/HeatSourceWet"
                            },
                            {
                                "$ref": "#/$defs/HeatPump_HWOnly"
                            },
                            {
                                "$ref": "#/$defs/Boiler"
                            }
                        ]
                    }
                },
                "heat_exchanger_surface_area": {
                    "type": "number",
                    "description": "A heat_exchanger_surface_area is required when there is a HeatPump_HWOnly HeatSource"
                }
            }
        },
        "HotWaterTankHeatSourceCommon": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "type",
                "heater_position",
                "thermostat_position"
            ],
            "properties": {
                "type": {
                    "enum": [
                        "ImmersionHeater",
                        "SolarThermalSystem",
                        "HeatSourceWet",
                        "HeatPump_HWOnly",
                        "Boiler"
                    ]
                },
                "name": {
                    "type": "string"
                },
                "Controlmin": {
                    "type": "string"
                },
                "Controlmax": {
                    "type": "string"
                },
                "heater_position": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "thermostat_position": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                }
            }
        },
        "ImmersionHeater": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "power",
                        "EnergySupply"
                    ],
                    "properties": {
                        "type": {
                            "const": "ImmersionHeater"
                        },
                        "power": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 10
                        },
                        "EnergySupply": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "SolarThermalSystem": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "solar_loc",
                        "area_module",
                        "modules",
                        "peak_collector_efficiency",
                        "incidence_angle_modifier",
                        "first_order_hlc",
                        "second_order_hlc",
                        "collector_mass_flow_rate",
                        "power_pump",
                        "power_pump_control",
                        "EnergySupply",
                        "tilt",
                        "orientation",
                        "solar_loop_piping_hlc"
                    ],
                    "properties": {
                        "type": {
                            "const": "SolarThermalSystem"
                        },
                        "solar_loc": {
                            "enum": [
                                "OUT",
                                "NHS",
                                "HS"
                            ]
                        },
                        "area_module": {
                            "type": "number",
                            "minimum": 0
                        },
                        "modules": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "peak_collector_efficiency": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "incidence_angle_modifier": {
                            "type": "number",
                            "minimum": 0
                        },
                        "first_order_hlc": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                        },
                        "second_order_hlc": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10
                        },
                        "collector_mass_flow_rate": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_pump": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 2000
                        },
                        "power_pump_control": {
                            "type": "number",
                            "minimum": 0
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "tilt": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 90
                        },
                        "orientation": {
                            "type": "number",
                            "minimum": -180,
                            "maximum": 180
                        },
                        "solar_loop_piping_hlc": {
                            "type": "number",
                            "minimum": 0
                        }
                    }
                }
            ]
        },
        "HeatSourceWet": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatSourceWet"
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "temp_flow_limit_upper": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "HeatPump_HWOnly": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply",
                        "power_max",
                        "tank_volume_declared",
                        "heat_exchanger_surface_area_declared",
                        "daily_losses_declared",
                        "in_use_factor_mismatch",
                        "test_data"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatPump_HWOnly"
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "power_max": {
                            "type": "number"
                        },
                        "tank_volume_declared": {
                            "type": "number",
                            "minimum": 0
                        },
                        "heat_exchanger_surface_area_declared": {
                            "type": "number"
                        },
                        "daily_losses_declared": {
                            "type": "number"
                        },
                        "in_use_factor_mismatch": {
                            "type": "number"
                        },
                        "test_data": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "patternProperties": {
                                "M|L": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "cop_dhw",
                                        "hw_tapping_prof_daily_total",
                                        "energy_input_measured",
                                        "power_standby",
                                        "hw_vessel_loss_daily"
                                    ],
                                    "properties": {
                                        "cop_dhw": {
                                            "type": "number"
                                        },
                                        "hw_tapping_prof_daily_total": {
                                            "type": "number"
                                        },
                                        "energy_input_measured": {
                                            "type": "number"
                                        },
                                        "power_standby": {
                                            "type": "number"
                                        },
                                        "hw_vessel_loss_daily": {
                                            "type": "number"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        },
        "Boiler": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type"
                    ],
                    "properties": {
                        "type": {
                            "const": "Boiler"
                        }
                    }
                }
            ]
        },
        "StorageTank": {
            "description": "A possible hot water source",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankCommon"
                },
                {
                    "required": [
                        "type"
                    ],
                    "properties": {
                        "type": {
                            "const": "StorageTank"
                        }
                    }
                }
            ]
        },
        "SmartHotWaterTank": {
            "description": "A possible hot water source",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply_pump",
                        "max_flow_rate_pump_l_per_min",
                        "power_pump_kW",
                        "temp_setpnt_max",
                        "temp_usable"
                    ],
                    "properties": {
                        "type": {
                            "const": "SmartHotWaterTank"
                        },
                        "EnergySupply_pump": {
                            "type": "string"
                        },
                        "max_flow_rate_pump_l_per_min": {
                            "type": "number"
                        },
                        "power_pump_kW": {
                            "type": "number"
                        },
                        "temp_setpnt_max": {
                            "type": "string"
                        },
                        "temp_usable": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "PointOfUse": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "efficiency",
                "EnergySupply"
            ],
            "properties": {
                "type": {
                    "const": "PointOfUse"
                },
                "efficiency": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 1
                },
                "EnergySupply": {
                    "type": "string"
                }
            }
        },
        "CombiBoiler": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "HeatSourceWet",
                "Control",
                "separate_DHW_tests",
                "rejected_energy_1",
                "rejected_factor_3",
                "storage_loss_factor_2",
                "daily_HW_usage"
            ],
            "properties": {
                "type": {
                    "const": "CombiBoiler"
                },
                "HeatSourceWet": {
                    "type": "string"
                },
                "Control": {
                    "type": "string"
                },
                "separate_DHW_tests": {
                    "enum": [
                        "M&L",
                        "M&S",
                        "M only",
                        "no additional tests"
                    ]
                },
                "rejected_energy_1": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "rejected_factor_3": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "storage_loss_factor_2": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "daily_HW_usage": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000
                }
            }
        },
        "HeatBattery": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "HeatSourceWet",
                "setpoint_temp"
            ],
            "properties": {
                "type": {
                    "const": "HeatBattery"
                },
                "HeatSourceWet": {
                    "type": "string"
                },
                "setpoint_temp": {
                    "description": "Temperature setpoint for the heat battery hot water output (unit: \u02daC)",
                    "minimum": -273.15,
                    "title": "Setpoint Temp",
                    "type": "number"
                }
            }
        },
        "HeatSourceWetCommon": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "EnergySupply"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "HeatPump",
                            "Boiler",
                            "HIU",
                            "HeatBattery"
                        ]
                    },
                    "EnergySupply": {
                        "type": "string"
                    }
                }
            }
        },
        "HeatSourceWetHeatPump": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "source_type",
                        "sink_type",
                        "backup_ctrl_type",
                        "modulating_control",
                        "min_modulation_rate_35",
                        "min_modulation_rate_55",
                        "temp_return_feed_max",
                        "temp_lower_operating_limit",
                        "min_temp_diff_flow_return_for_hp_to_operate",
                        "var_flow_temp_ctrl_during_test",
                        "power_source_circ_pump",
                        "power_standby",
                        "power_crankcase_heater",
                        "power_off",
                        "power_max_backup",
                        "time_delay_backup",
                        "test_data_EN14825",
                        "time_constant_onoff_operation"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatPump"
                        },
                        "source_type": {
                            "enum": [
                                "Ground",
                                "OutsideAir",
                                "ExhaustAirMEV",
                                "ExhaustAirMVHR",
                                "ExhaustAirMixed",
                                "WaterGround",
                                "WaterSurface"
                            ]
                        },
                        "sink_type": {
                            "enum": [
                                "Air",
                                "Water"
                            ]
                        },
                        "backup_ctrl_type": {
                            "enum": [
                                "None",
                                "TopUp",
                                "Substitute"
                            ]
                        },
                        "modulating_control": {
                            "type": "boolean"
                        },
                        "min_modulation_rate_35": {
                            "type": "number",
                            "minimum": 0
                        },
                        "min_modulation_rate_55": {
                            "type": "number",
                            "minimum": 0
                        },
                        "temp_return_feed_max": {
                            "type": "number",
                            "minimum": 4,
                            "maximum": 80
                        },
                        "temp_lower_operating_limit": {
                            "type": "number",
                            "minimum": -30,
                            "maximum": 0
                        },
                        "min_temp_diff_flow_return_for_hp_to_operate": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 50
                        },
                        "var_flow_temp_ctrl_during_test": {
                            "type": "boolean"
                        },
                        "power_heating_circ_pump": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "power_source_circ_pump": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "power_standby": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_crankcase_heater": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_off": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_max_backup": {
                            "type": "number",
                            "minimum": 0
                        },
                        "BufferTank": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "properties": {
                                "daily_losses": {
                                    "type": "number"
                                },
                                "pump_fixed_flow_rate": {
                                    "type": "number"
                                },
                                "pump_power_at_flow_rate": {
                                    "type": "number"
                                },
                                "volume": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "daily_losses",
                                "pump_fixed_flow_rate",
                                "pump_power_at_flow_rate",
                                "volume"
                            ]
                        },
                        "time_delay_backup": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_heating_warm_air_fan": {
                            "type": "number",
                            "minimum": 0
                        },
                        "time_constant_onoff_operation": {
                            "type": "number"
                        },
                        "test_data_EN14825": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "unevaluatedProperties": false,
                                "required": [
                                    "test_letter",
                                    "capacity",
                                    "cop",
                                    "design_flow_temp",
                                    "temp_outlet",
                                    "temp_source",
                                    "temp_test"
                                ],
                                "properties": {
                                    "test_letter": {
                                        "enum": [
                                            "A",
                                            "B",
                                            "C",
                                            "D",
                                            "F"
                                        ]
                                    },
                                    "capacity": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "cop": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "design_flow_temp": {
                                        "type": "number"
                                    },
                                    "temp_outlet": {
                                        "type": "number"
                                    },
                                    "temp_source": {
                                        "type": "number"
                                    },
                                    "temp_test": {
                                        "type": "number"
                                    }
                                }
                            }
                        }
                    }
                }
            ]
        },
        "HeatSourceWetBoiler": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "rated_power",
                        "efficiency_full_load",
                        "efficiency_part_load",
                        "boiler_location",
                        "modulation_load",
                        "electricity_circ_pump",
                        "electricity_part_load",
                        "electricity_full_load",
                        "electricity_standby"
                    ],
                    "properties": {
                        "type": {
                            "const": "Boiler"
                        },
                        "rated_power": {
                            "type": "number",
                            "minimum": 0
                        },
                        "efficiency_full_load": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "efficiency_partload": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "boiler_location": {
                            "enum": [
                                "internal",
                                "external"
                            ]
                        },
                        "modulation_load": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "electricity_circ_pump": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_part_load": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_full_load": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_standby": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 0.1
                        }
                    }
                }
            ]
        },
        "HeatSourceWetHeatBattery": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "battery_type"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatBattery"
                        },
                        "battery_type": {
                            "type": "string",
                            "enum": [
                                "dry_core",
                                "pcm"
                            ]
                        }
                    },
                    "allOf": [
                        {
                            "if": {
                                "properties": {
                                    "battery_type": {
                                        "const": "pcm"
                                    }
                                }
                            },
                            "then": {
                                "required": [
                                    "electricity_circ_pump",
                                    "electricity_standby",
                                    "rated_charge_power",
                                    "max_rated_losses",
                                    "ControlCharge",
                                    "number_of_units",
                                    "simultaneous_charging_and_discharging",
                                    "heat_storage_zone_material_kJ_per_K_above_Phase_transition",
                                    "heat_storage_zone_material_kJ_per_K_below_Phase_transition",
                                    "heat_storage_zone_material_kJ_per_K_during_Phase_transition",
                                    "phase_transition_temperature_upper",
                                    "phase_transition_temperature_lower",
                                    "max_temperature",
                                    "velocity_in_HEX_tube_at_1_l_per_min_m_per_s",
                                    "capillary_diameter_m",
                                    "A",
                                    "B",
                                    "heat_exchanger_surface_area_m2",
                                    "flow_rate_l_per_min",
                                    "temp_init"
                                ],
                                "properties": {
                                    "electricity_circ_pump": {
                                        "type": "number",
                                        "minimum": 0.001,
                                        "maximum": 1
                                    },
                                    "electricity_standby": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 0.1
                                    },
                                    "rated_charge_power": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "max_rated_losses": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "ControlCharge": {
                                        "type": "string"
                                    },
                                    "number_of_units": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "simultaneous_charging_and_discharging": {
                                        "type": "boolean"
                                    },
                                    "heat_storage_zone_material_kJ_per_K_above_Phase_transition": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "heat_storage_zone_material_kJ_per_K_below_Phase_transition": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "heat_storage_zone_material_kJ_per_K_during_Phase_transition": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "phase_transition_temperature_upper": {
                                        "type": "number"
                                    },
                                    "phase_transition_temperature_lower": {
                                        "type": "number"
                                    },
                                    "velocity_in_HEX_tube_at_1_l_per_min_m_per_s": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "A": {
                                        "type": "number"
                                    },
                                    "B": {
                                        "type": "number"
                                    },
                                    "heat_exchanger_surface_area_m2": {
                                        "type": "number"
                                    },
                                    "capillary_diameter_m": {
                                        "type": "number"
                                    },
                                    "max_temperature": {
                                        "type": "number"
                                    },
                                    "flow_rate_l_per_min": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "temp_init": {
                                        "description": "Initial temperature of the PCM heat battery at the start of simulation (unit: \u02daC)",
                                        "minimum": -273.15,
                                        "title": "Temp Init",
                                        "type": "number"
                                    }
                                }
                            }
                        },
                        {
                            "if": {
                                "properties": {
                                    "battery_type": {
                                        "const": "dry_core"
                                    }
                                }
                            },
                            "then": {
                                "required": [
                                    "ControlCharge",
                                    "EnergySupply",
                                    "electricity_circ_pump",
                                    "electricity_standby",
                                    "pwr_in",
                                    "rated_power_instant",
                                    "heat_storage_capacity",
                                    "number_of_units",
                                    "dry_core_min_output",
                                    "dry_core_max_output",
                                    "fan_pwr",
                                    "setpoint_temp_water",
                                    "state_of_charge_init"
                                ],
                                "properties": {
                                    "electricity_circ_pump": {
                                        "type": "number"
                                    },
                                    "electricity_standby": {
                                        "type": "number"
                                    },
                                    "pwr_in": {
                                        "type": "number",
                                        "description": "Charging power (kW)"
                                    },
                                    "rated_power_instant": {
                                        "type": "number",
                                        "description": "Rated instantaneous power output (kW)"
                                    },
                                    "heat_storage_capacity": {
                                        "type": "number",
                                        "description": "Heat storage capacity (kWh)"
                                    },
                                    "ControlCharge": {
                                        "type": "string"
                                    },
                                    "EnergySupply": {
                                        "type": "string"
                                    },
                                    "number_of_units": {
                                        "type": "integer",
                                        "minimum": 1
                                    },
                                    "dry_core_min_output": {
                                        "type": "array",
                                        "items": {
                                            "items": {
                                                "type": "number"
                                            },
                                            "maxItems": 2,
                                            "minItems": 2,
                                            "type": "array"
                                        },
                                        "description": "Lookup table for minimum output based on charge level"
                                    },
                                    "dry_core_max_output": {
                                        "type": "array",
                                        "items": {
                                            "items": {
                                                "type": "number"
                                            },
                                            "maxItems": 2,
                                            "minItems": 2,
                                            "type": "array"
                                        },
                                        "description": "Lookup table for maximum output based on charge level"
                                    },
                                    "fan_pwr": {
                                        "type": "number",
                                        "description": "Fan power (W)"
                                    },
                                    "setpoint_temp_water": {
                                        "type": "number",
                                        "description": "Water setpoint temperature (\u00b0C)"
                                    },
                                    "state_of_charge_init": {
                                        "description": "State of charge at initialisation of dry core heat storage (ratio)",
                                        "maximum": 1.0,
                                        "minimum": 0.0,
                                        "title": "State Of Charge Init",
                                        "type": "number"
                                    }
                                }
                            }
                        }
                    ]
                }
            ]
        },
        "HeatSourceWetHIU": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "HIU_daily_loss",
                        "power_max",
                        "building_level_distribution_losses"
                    ],
                    "properties": {
                        "type": {
                            "const": "HIU"
                        },
                        "HIU_daily_loss": {
                            "type": "number",
                            "minimum": 0
                        },
                        "power_max": {
                            "type": "number",
                            "minimum": 0
                        },
                        "building_level_distribution_losses": {
                            "type": "number",
                            "minimum": 0
                        }
                    }
                }
            ]
        }
    }
}