{
  "$defs": {
    "MassDistributionClass": {
      "enum": [
        "I: Mass concentrated at internal side",
        "E: Mass concentrated at external side",
        "IE: Mass divided over internal and external side",
        "D: Mass equally distributed",
        "M: Mass concentrated inside"
      ],
      "title": "MassDistributionClass",
      "type": "string"
    }
  },
  "$schema": "http://json-schema.org/draft/2019-09/schema#",
  "properties": {
    "Appliances": {
      "patternProperties": {
        "Dishwasher|Clothes_washing|Clothes_drying|Fridge|Freezer|Otherdevices": {
          "enum": [
            "Not Installed",
            "Default"
          ],
          "type": "string"
        },
        "Oven|Hobs|Kettle|Microwave|Fridge-Freezer": {
          "default": "Default",
          "enum": [
            "Not Installed",
            "Default"
          ],
          "type": "string"
        },
        "unevaluatedProperties": false
      },
      "propertyNames": {
        "enum": [
          "Oven",
          "Hobs",
          "Kettle",
          "Microwave",
          "Dishwasher",
          "Clothes_washing",
          "Clothes_drying",
          "Fridge",
          "Freezer",
          "Fridge-Freezer",
          "Otherdevices"
        ]
      },
      "type": "object",
      "unevaluatedProperties": false
    },
    "BuildingLength": {
      "description": "The maximum horizontal distance (in metres) across the building footprint",
      "minimum": 0,
      "type": "number"
    },
    "BuildingWidth": {
      "description": "The maximum horizontal distance (in metres) perpendicular to the building length",
      "minimum": 0,
      "type": "number"
    },
    "ColdWaterSource": {
      "oneOf": [
        {
          "required": [
            "header tank"
          ]
        },
        {
          "required": [
            "mains water"
          ]
        }
      ],
      "properties": {
        "header tank": {
          "type": "object"
        },
        "mains water": {
          "type": "object"
        }
      },
      "type": "object",
      "unevaluatedProperties": false
    },
    "Control": {
      "type": "object"
    },
    "EnergySupply": {
      "additionalProperties": {
        "allOf": [
          {
            "if": {
              "properties": {
                "fuel": {
                  "const": "electricity"
                }
              }
            },
            "then": {
              "if": {
                "properties": {
                  "ElectricBattery": {
                    "properties": {
                      "grid_charging_possible": {
                        "const": true
                      }
                    }
                  }
                },
                "required": [
                  "ElectricBattery"
                ]
              },
              "properties": {
                "ElectricBattery": {
                  "properties": {
                    "battery_location": {
                      "enum": [
                        "inside",
                        "outside"
                      ]
                    },
                    "capacity": {
                      "maximum": 50,
                      "minimum": 0,
                      "type": "number"
                    },
                    "charge_discharge_efficiency_round_trip": {
                      "maximum": 1,
                      "minimum": 0,
                      "type": "number"
                    },
                    "grid_charging_possible": {
                      "type": "boolean"
                    },
                    "maximum_charge_rate_one_way_trip": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "maximum_discharge_rate_one_way_trip": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "minimum_charge_rate_one_way_trip": {
                      "minimum": 0,
                      "type": "number"
                    }
                  },
                  "required": [
                    "capacity",
                    "charge_discharge_efficiency_round_trip",
                    "minimum_charge_rate_one_way_trip",
                    "maximum_charge_rate_one_way_trip",
                    "maximum_discharge_rate_one_way_trip",
                    "battery_location",
                    "grid_charging_possible"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "diverter": {
                  "properties": {
                    "Controlmax": {
                      "type": "string"
                    },
                    "HeatSource": {
                      "type": "string"
                    },
                    "StorageTank": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "HeatSource"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "is_export_capable": {
                  "type": "boolean"
                },
                "priority": {
                  "enum": [
                    "ElectricBattery",
                    "diverter"
                  ]
                }
              },
              "then": {
                "properties": {
                  "tariff": {
                    "type": "string"
                  },
                  "threshold_charges": {
                    "items": {
                      "type": "number"
                    },
                    "type": "array"
                  },
                  "threshold_prices": {
                    "items": {
                      "type": "number"
                    },
                    "type": "array"
                  }
                },
                "required": [
                  "threshold_charges",
                  "threshold_prices",
                  "tariff"
                ]
              }
            }
          },
          {
            "if": {
              "properties": {
                "fuel": {
                  "const": "custom"
                }
              }
            },
            "then": {
              "properties": {
                "factor": {
                  "properties": {
                    "Emissions Factor kgCO2e/kWh": {
                      "type": "number"
                    },
                    "Emissions Factor kgCO2e/kWh including out-of-scope emissions": {
                      "type": "number"
                    },
                    "Primary Energy Factor kWh/kWh delivered": {
                      "type": "number"
                    },
                    "is_export_capable": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "Emissions Factor kgCO2e/kWh",
                    "Emissions Factor kgCO2e/kWh including out-of-scope emissions",
                    "Primary Energy Factor kWh/kWh delivered",
                    "is_export_capable"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "fuel": {
                  "enum": [
                    "lpg_bulk",
                    "wood",
                    "oil",
                    "coal"
                  ]
                }
              }
            },
            "then": {
              "properties": {
                "factor": {
                  "properties": {
                    "is_export_capable": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "is_export_capable"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                }
              }
            }
          }
        ],
        "properties": {
          "fuel": {
            "enum": [
              "mains_gas",
              "electricity",
              "lpg_bulk",
              "custom",
              "wood",
              "oil",
              "gas",
              "coal"
            ]
          }
        },
        "required": [
          "fuel"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "Events": {
      "type": "object"
    },
    "ExternalConditions": {
      "properties": {
        "air_temperatures": {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "daylight_savings": {
          "type": "string"
        },
        "diffuse_horizontal_radiation": {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "direct_beam_conversion_needed": {
          "type": "boolean"
        },
        "direct_beam_radiation": {
          "items": {
            "type": "number"
          },
          "type": "array"
        },
        "end_day": {
          "type": "number"
        },
        "january_first": {
          "type": "number"
        },
        "latitude": {
          "maximum": 180,
          "minimum": -180,
          "type": "number"
        },
        "leap_day_included": {
          "type": "boolean"
        },
        "longitude": {
          "maximum": 90,
          "minimum": -90,
          "type": "number"
        },
        "shading_segments": {
          "items": {
            "properties": {
              "end360": {
                "maximum": 360,
                "minimum": 0,
                "type": "integer"
              },
              "shading": {
                "items": {
                  "properties": {
                    "distance": {
                      "maximum": 72000,
                      "minimum": 0,
                      "type": "number"
                    },
                    "height": {
                      "maximum": 400,
                      "minimum": 0,
                      "type": "number"
                    },
                    "type": {
                      "enum": [
                        "obstacle",
                        "overhang"
                      ]
                    }
                  },
                  "required": [
                    "type",
                    "height",
                    "distance"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "type": "array"
              },
              "start360": {
                "maximum": 360,
                "minimum": 0,
                "type": "integer"
              }
            },
            "required": [
              "start360",
              "end360"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "maxLength": 36,
          "minLength": 8,
          "type": "array"
        },
        "solar_reflectivity_of_ground": {
          "items": {
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "type": "array"
        },
        "start_day": {
          "type": "number"
        },
        "time_series_step": {
          "type": "number"
        },
        "timezone": {
          "type": "number"
        },
        "wind_directions": {
          "items": {
            "maximum": 360,
            "minimum": 0,
            "type": "number"
          },
          "type": "array"
        },
        "wind_speeds": {
          "items": {
            "minimum": 0,
            "type": "number"
          },
          "type": "array"
        }
      },
      "required": [
        "shading_segments"
      ],
      "type": "object",
      "unevaluatedProperties": false
    },
    "General": {
      "if": {
        "properties": {
          "build_type": {
            "const": "flat"
          }
        }
      },
      "properties": {
        "build_type": {
          "enum": [
            "flat",
            "house"
          ]
        },
        "storeys_in_building": {
          "maximum": 250,
          "minimum": 1,
          "type": "integer"
        }
      },
      "required": [
        "storeys_in_building",
        "build_type"
      ],
      "then": {
        "properties": {
          "storey_of_dwelling": {
            "maximum": 199,
            "minimum": -50,
            "type": "integer"
          }
        },
        "required": [
          "storey_of_dwelling"
        ]
      },
      "type": "object",
      "unevaluatedProperties": false
    },
    "GroundFloorArea": {
      "minimum": 0,
      "type": "number"
    },
    "HeatSourceWet": {
      "additionalProperties": {
        "allOf": [
          {
            "if": {
              "properties": {
                "type": {
                  "const": "HeatPump"
                }
              }
            },
            "then": {
              "anyOf": [
                {
                  "properties": {
                    "BufferTank": {
                      "properties": {
                        "daily_losses": {
                          "type": "number"
                        },
                        "pump_fixed_flow_rate": {
                          "type": "number"
                        },
                        "pump_power_at_flow_rate": {
                          "type": "number"
                        },
                        "volume": {
                          "type": "number"
                        }
                      },
                      "required": [
                        "daily_losses",
                        "pump_fixed_flow_rate",
                        "pump_power_at_flow_rate",
                        "volume"
                      ],
                      "type": "object",
                      "unevaluatedProperties": false
                    },
                    "backup_ctrl_type": {
                      "enum": [
                        "None",
                        "TopUp",
                        "Substitute"
                      ]
                    },
                    "min_modulation_rate_35": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "min_modulation_rate_55": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "min_temp_diff_flow_return_for_hp_to_operate": {
                      "maximum": 50,
                      "minimum": 0,
                      "type": "number"
                    },
                    "modulating_control": {
                      "type": "boolean"
                    },
                    "power_crankcase_heater": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_heating_circ_pump": {
                      "maximum": 1,
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_heating_warm_air_fan": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_max_backup": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_off": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_source_circ_pump": {
                      "maximum": 1,
                      "minimum": 0,
                      "type": "number"
                    },
                    "power_standby": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "sink_type": {
                      "enum": [
                        "Air",
                        "Water"
                      ]
                    },
                    "source_type": {
                      "enum": [
                        "Ground",
                        "OutsideAir",
                        "ExhaustAirMEV",
                        "ExhaustAirMVHR",
                        "ExhaustAirMixed",
                        "WaterGround",
                        "WaterSurface"
                      ]
                    },
                    "temp_lower_operating_limit": {
                      "maximum": 0,
                      "minimum": -30,
                      "type": "number"
                    },
                    "temp_return_feed_max": {
                      "maximum": 80,
                      "minimum": 4,
                      "type": "number"
                    },
                    "test_data_EN14825": {
                      "items": {
                        "properties": {
                          "capacity": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "cop": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "design_flow_temp": {
                            "type": "number"
                          },
                          "temp_outlet": {
                            "type": "number"
                          },
                          "temp_source": {
                            "type": "number"
                          },
                          "temp_test": {
                            "type": "number"
                          },
                          "test_letter": {
                            "enum": [
                              "A",
                              "B",
                              "C",
                              "D",
                              "F"
                            ]
                          }
                        },
                        "required": [
                          "test_letter",
                          "capacity",
                          "cop",
                          "design_flow_temp",
                          "temp_outlet",
                          "temp_source",
                          "temp_test"
                        ],
                        "type": "object",
                        "unevaluatedProperties": false
                      },
                      "type": "array"
                    },
                    "time_constant_onoff_operation": {
                      "type": "number"
                    },
                    "time_delay_backup": {
                      "minimum": 0,
                      "type": "number"
                    },
                    "var_flow_temp_ctrl_during_test": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "source_type",
                    "sink_type",
                    "backup_ctrl_type",
                    "modulating_control",
                    "min_modulation_rate_35",
                    "min_modulation_rate_55",
                    "temp_return_feed_max",
                    "temp_lower_operating_limit",
                    "min_temp_diff_flow_return_for_hp_to_operate",
                    "var_flow_temp_ctrl_during_test",
                    "power_source_circ_pump",
                    "power_standby",
                    "power_crankcase_heater",
                    "power_off",
                    "power_max_backup",
                    "time_delay_backup",
                    "test_data_EN14825",
                    "time_constant_onoff_operation"
                  ]
                },
                {
                  "additionalProperties": false,
                  "properties": {
                    "BufferTank": {
                      "anyOf": [
                        {
                          "properties": {
                            "daily_losses": {
                              "type": "number"
                            },
                            "pump_fixed_flow_rate": {
                              "type": "number"
                            },
                            "pump_power_at_flow_rate": {
                              "type": "number"
                            },
                            "volume": {
                              "type": "number"
                            }
                          },
                          "required": [
                            "daily_losses",
                            "pump_fixed_flow_rate",
                            "pump_power_at_flow_rate",
                            "volume"
                          ],
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "default": null
                    },
                    "min_modulation_rate_35": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "default": null,
                      "title": "Min Modulation Rate 35"
                    },
                    "min_modulation_rate_55": {
                      "anyOf": [
                        {
                          "type": "number"
                        },
                        {
                          "type": "null"
                        }
                      ],
                      "default": null,
                      "title": "Min Modulation Rate 55"
                    },
                    "product_reference": {
                      "description": "A unique reference to a product held within the HEM database (PCDB)",
                      "title": "Reference to the product in the HEM database",
                      "type": "string"
                    },
                    "type": {
                      "const": "HeatPump",
                      "title": "Type",
                      "type": "string"
                    }
                  },
                  "required": [
                    "type",
                    "product_reference"
                  ],
                  "title": "HeatSourceWetHeatPumpWithProductReference",
                  "type": "object"
                }
              ]
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "Boiler"
                }
              }
            },
            "then": {
              "properties": {
                "boiler_location": {
                  "enum": [
                    "internal",
                    "external"
                  ]
                },
                "efficiency_full_load": {
                  "maximum": 1,
                  "minimum": 0.1,
                  "type": "number"
                },
                "efficiency_partload": {
                  "maximum": 1,
                  "minimum": 0.1,
                  "type": "number"
                },
                "electricity_circ_pump": {
                  "maximum": 1,
                  "minimum": 0.001,
                  "type": "number"
                },
                "electricity_full_load": {
                  "maximum": 1,
                  "minimum": 0.001,
                  "type": "number"
                },
                "electricity_part_load": {
                  "maximum": 1,
                  "minimum": 0.001,
                  "type": "number"
                },
                "electricity_standby": {
                  "maximum": 0.1,
                  "minimum": 0,
                  "type": "number"
                },
                "modulation_load": {
                  "maximum": 1,
                  "minimum": 0.1,
                  "type": "number"
                },
                "rated_power": {
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "rated_power",
                "efficiency_full_load",
                "efficiency_part_load",
                "boiler_location",
                "modulation_load",
                "electricity_circ_pump",
                "electricity_part_load",
                "electricity_full_load",
                "electricity_standby"
              ]
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "HeatBattery"
                }
              }
            },
            "then": {
              "allOf": [
                {
                  "if": {
                    "properties": {
                      "battery_type": {
                        "const": "pcm"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "A": {
                        "type": "number"
                      },
                      "B": {
                        "type": "number"
                      },
                      "ControlCharge": {
                        "type": "string"
                      },
                      "capillary_diameter_m": {
                        "type": "number"
                      },
                      "electricity_circ_pump": {
                        "maximum": 1,
                        "minimum": 0.001,
                        "type": "number"
                      },
                      "electricity_standby": {
                        "maximum": 0.1,
                        "minimum": 0,
                        "type": "number"
                      },
                      "flow_rate_l_per_min": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "heat_exchanger_surface_area_m2": {
                        "type": "number"
                      },
                      "heat_storage_zone_material_kJ_per_K_above_Phase_transition": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "heat_storage_zone_material_kJ_per_K_below_Phase_transition": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "heat_storage_zone_material_kJ_per_K_during_Phase_transition": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "max_rated_losses": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "max_temperature": {
                        "type": "number"
                      },
                      "number_of_units": {
                        "minimum": 1,
                        "type": "integer"
                      },
                      "phase_transition_temperature_lower": {
                        "type": "number"
                      },
                      "phase_transition_temperature_upper": {
                        "type": "number"
                      },
                      "rated_charge_power": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "simultaneous_charging_and_discharging": {
                        "type": "boolean"
                      },
                      "temp_init": {
                        "description": "Initial temperature of the PCM heat battery at the start of simulation (unit: ˚C)",
                        "minimum": -273.15,
                        "title": "Temp Init",
                        "type": "number"
                      },
                      "velocity_in_HEX_tube_at_1_l_per_min_m_per_s": {
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "electricity_circ_pump",
                      "electricity_standby",
                      "rated_charge_power",
                      "max_rated_losses",
                      "ControlCharge",
                      "number_of_units",
                      "simultaneous_charging_and_discharging",
                      "heat_storage_zone_material_kJ_per_K_above_Phase_transition",
                      "heat_storage_zone_material_kJ_per_K_below_Phase_transition",
                      "heat_storage_zone_material_kJ_per_K_during_Phase_transition",
                      "phase_transition_temperature_upper",
                      "phase_transition_temperature_lower",
                      "max_temperature",
                      "velocity_in_HEX_tube_at_1_l_per_min_m_per_s",
                      "capillary_diameter_m",
                      "A",
                      "B",
                      "heat_exchanger_surface_area_m2",
                      "flow_rate_l_per_min",
                      "temp_init"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "battery_type": {
                        "const": "dry_core"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "ControlCharge": {
                        "type": "string"
                      },
                      "EnergySupply": {
                        "type": "string"
                      },
                      "dry_core_max_output": {
                        "description": "Lookup table for maximum output based on charge level",
                        "items": {
                          "items": {
                            "type": "number"
                          },
                          "maxItems": 2,
                          "minItems": 2,
                          "type": "array"
                        },
                        "type": "array"
                      },
                      "dry_core_min_output": {
                        "description": "Lookup table for minimum output based on charge level",
                        "items": {
                          "items": {
                            "type": "number"
                          },
                          "maxItems": 2,
                          "minItems": 2,
                          "type": "array"
                        },
                        "type": "array"
                      },
                      "electricity_circ_pump": {
                        "type": "number"
                      },
                      "electricity_standby": {
                        "type": "number"
                      },
                      "fan_pwr": {
                        "description": "Fan power (W)",
                        "type": "number"
                      },
                      "heat_storage_capacity": {
                        "description": "Heat storage capacity (kWh)",
                        "type": "number"
                      },
                      "number_of_units": {
                        "minimum": 1,
                        "type": "integer"
                      },
                      "pwr_in": {
                        "description": "Charging power (kW)",
                        "type": "number"
                      },
                      "rated_power_instant": {
                        "description": "Rated instantaneous power output (kW)",
                        "type": "number"
                      },
                      "setpoint_temp_water": {
                        "description": "Water setpoint temperature (°C)",
                        "type": "number"
                      },
                      "state_of_charge_init": {
                        "description": "State of charge at initialisation of dry core heat storage (ratio)",
                        "maximum": 1.0,
                        "minimum": 0.0,
                        "title": "State Of Charge Init",
                        "type": "number"
                      }
                    },
                    "required": [
                      "ControlCharge",
                      "EnergySupply",
                      "electricity_circ_pump",
                      "electricity_standby",
                      "pwr_in",
                      "rated_power_instant",
                      "heat_storage_capacity",
                      "number_of_units",
                      "dry_core_min_output",
                      "dry_core_max_output",
                      "fan_pwr",
                      "setpoint_temp_water",
                      "state_of_charge_init"
                    ]
                  }
                }
              ],
              "properties": {
                "battery_type": {
                  "enum": [
                    "dry_core",
                    "pcm"
                  ],
                  "type": "string"
                }
              },
              "required": [
                "battery_type"
              ]
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "HIU"
                }
              }
            },
            "then": {
              "properties": {
                "HIU_daily_loss": {
                  "minimum": 0,
                  "type": "number"
                },
                "building_level_distribution_losses": {
                  "minimum": 0,
                  "type": "number"
                },
                "power_max": {
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "HIU_daily_loss",
                "power_max",
                "building_level_distribution_losses"
              ]
            }
          }
        ],
        "properties": {
          "EnergySupply": {
            "type": "string"
          },
          "type": {
            "enum": [
              "HeatPump",
              "Boiler",
              "HIU",
              "HeatBattery"
            ]
          }
        },
        "required": [
          "type",
          "EnergySupply"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "HeatingControlType": {
      "enum": [
        "SeparateTempControl",
        "SeparateTimeAndTempControl"
      ]
    },
    "HotWaterDemand": {
      "properties": {
        "Bath": {
          "additionalProperties": {
            "properties": {
              "ColdWaterSource": {
                "enum": [
                  "header tank",
                  "mains water"
                ]
              },
              "HotWaterSource": {
                "type": "string"
              },
              "size": {
                "minimum": 0,
                "type": "number"
              }
            },
            "required": [
              "size",
              "ColdWaterSource"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        },
        "Other": {
          "additionalProperties": {
            "properties": {
              "ColdWaterSource": {
                "enum": [
                  "header tank",
                  "mains water"
                ]
              },
              "HotWaterSource": {
                "type": "string"
              },
              "flowrate": {
                "maximum": 15,
                "minimum": 0.1,
                "type": "number"
              }
            },
            "required": [
              "flowrate",
              "ColdWaterSource"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        },
        "Shower": {
          "additionalProperties": {
            "else": {
              "properties": {
                "EnergySupply": {
                  "type": "string"
                },
                "rated_power": {
                  "maximum": 30,
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "rated_power",
                "EnergySupply"
              ]
            },
            "if": {
              "properties": {
                "type": {
                  "const": "MixerShower"
                }
              }
            },
            "properties": {
              "ColdWaterSource": {
                "enum": [
                  "header tank",
                  "mains water"
                ]
              },
              "type": {
                "enum": [
                  "MixerShower",
                  "InstantElecShower"
                ]
              }
            },
            "required": [
              "type",
              "ColdWaterSource"
            ],
            "then": {
              "properties": {
                "HotWaterSource": {
                  "type": "string"
                },
                "WWHRS": {
                  "type": "string"
                },
                "WWHRS_configuration": {
                  "enum": [
                    "A",
                    "B",
                    "C"
                  ]
                },
                "flowrate": {
                  "maximum": 15,
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "flowrate"
              ]
            },
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        }
      },
      "type": "object",
      "unevaluatedProperties": false
    },
    "HotWaterSource": {
      "properties": {
        "hw cylinder": {
          "allOf": [
            {
              "if": {
                "properties": {
                  "type": {
                    "const": "SmartHotWaterTank"
                  }
                }
              },
              "then": {
                "properties": {
                  "EnergySupply_pump": {
                    "type": "string"
                  },
                  "max_flow_rate_pump_l_per_min": {
                    "type": "number"
                  },
                  "power_pump_kW": {
                    "type": "number"
                  },
                  "temp_setpnt_max": {
                    "type": "string"
                  },
                  "temp_usable": {
                    "type": "number"
                  }
                },
                "required": [
                  "EnergySupply_pump",
                  "max_flow_rate_pump_l_per_min",
                  "power_pump_kW",
                  "temp_setpnt_max",
                  "temp_usable"
                ]
              }
            },
            {
              "if": {
                "oneOf": [
                  {
                    "properties": {
                      "type": {
                        "const": "StorageTank"
                      }
                    }
                  },
                  {
                    "properties": {
                      "type": {
                        "const": "SmartHotWaterTank"
                      }
                    }
                  }
                ]
              },
              "then": {
                "properties": {
                  "HeatSource": {
                    "additionalProperties": {
                      "allOf": [
                        {
                          "if": {
                            "properties": {
                              "type": {
                                "const": "HeatPump_HWOnly"
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "EnergySupply": {
                                "type": "string"
                              },
                              "daily_losses_declared": {
                                "type": "number"
                              },
                              "heat_exchanger_surface_area_declared": {
                                "type": "number"
                              },
                              "in_use_factor_mismatch": {
                                "type": "number"
                              },
                              "power_max": {
                                "type": "number"
                              },
                              "tank_volume_declared": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "test_data": {
                                "patternProperties": {
                                  "M|L": {
                                    "properties": {
                                      "cop_dhw": {
                                        "type": "number"
                                      },
                                      "energy_input_measured": {
                                        "type": "number"
                                      },
                                      "hw_tapping_prof_daily_total": {
                                        "type": "number"
                                      },
                                      "hw_vessel_loss_daily": {
                                        "type": "number"
                                      },
                                      "power_standby": {
                                        "type": "number"
                                      }
                                    },
                                    "required": [
                                      "cop_dhw",
                                      "hw_tapping_prof_daily_total",
                                      "energy_input_measured",
                                      "power_standby",
                                      "hw_vessel_loss_daily"
                                    ],
                                    "type": "object",
                                    "unevaluatedProperties": false
                                  }
                                },
                                "type": "object",
                                "unevaluatedProperties": false
                              }
                            },
                            "required": [
                              "EnergySupply",
                              "power_max",
                              "tank_volume_declared",
                              "heat_exchanger_surface_area_declared",
                              "daily_losses_declared",
                              "in_use_factor_mismatch",
                              "test_data"
                            ]
                          }
                        },
                        {
                          "if": {
                            "properties": {
                              "type": {
                                "const": "HeatSourceWet"
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "EnergySupply": {
                                "type": "string"
                              },
                              "temp_flow_limit_upper": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "EnergySupply"
                            ]
                          }
                        },
                        {
                          "if": {
                            "properties": {
                              "type": {
                                "const": "ImmersionHeater"
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "EnergySupply": {
                                "type": "string"
                              },
                              "power": {
                                "maximum": 10,
                                "minimum": 1,
                                "type": "number"
                              }
                            },
                            "required": [
                              "power",
                              "EnergySupply"
                            ]
                          }
                        },
                        {
                          "if": {
                            "properties": {
                              "type": {
                                "const": "SolarThermalSystem"
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "EnergySupply": {
                                "type": "string"
                              },
                              "area_module": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "collector_mass_flow_rate": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "first_order_hlc": {
                                "maximum": 100,
                                "minimum": 0,
                                "type": "number"
                              },
                              "incidence_angle_modifier": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "modules": {
                                "minimum": 1,
                                "type": "integer"
                              },
                              "orientation": {
                                "maximum": 180,
                                "minimum": -180,
                                "type": "number"
                              },
                              "peak_collector_efficiency": {
                                "maximum": 1,
                                "minimum": 0.1,
                                "type": "number"
                              },
                              "power_pump": {
                                "maximum": 2000,
                                "minimum": 0,
                                "type": "number"
                              },
                              "power_pump_control": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "second_order_hlc": {
                                "maximum": 10,
                                "minimum": 0,
                                "type": "number"
                              },
                              "solar_loc": {
                                "enum": [
                                  "OUT",
                                  "NHS",
                                  "HS"
                                ]
                              },
                              "solar_loop_piping_hlc": {
                                "minimum": 0,
                                "type": "number"
                              },
                              "tilt": {
                                "maximum": 90,
                                "minimum": 0,
                                "type": "number"
                              }
                            },
                            "required": [
                              "solar_loc",
                              "area_module",
                              "modules",
                              "peak_collector_efficiency",
                              "incidence_angle_modifier",
                              "first_order_hlc",
                              "second_order_hlc",
                              "collector_mass_flow_rate",
                              "power_pump",
                              "power_pump_control",
                              "EnergySupply",
                              "tilt",
                              "orientation",
                              "solar_loop_piping_hlc"
                            ]
                          }
                        }
                      ],
                      "properties": {
                        "Controlmax": {
                          "type": "string"
                        },
                        "Controlmin": {
                          "type": "string"
                        },
                        "heater_position": {
                          "maximum": 1,
                          "minimum": 0,
                          "type": "number"
                        },
                        "name": {
                          "type": "string"
                        },
                        "thermostat_position": {
                          "maximum": 1,
                          "minimum": 0,
                          "type": "number"
                        },
                        "type": {
                          "enum": [
                            "ImmersionHeater",
                            "SolarThermalSystem",
                            "HeatSourceWet",
                            "HeatPump_HWOnly",
                            "Boiler"
                          ]
                        }
                      },
                      "required": [
                        "type",
                        "heater_position",
                        "thermostat_position"
                      ],
                      "type": "object",
                      "unevaluatedProperties": false
                    },
                    "type": "object"
                  },
                  "daily_losses": {
                    "maximum": 200,
                    "minimum": 0.001,
                    "type": "number"
                  },
                  "if": {
                    "properties": {
                      "HeatSource": {
                        "additionalProperties": {
                          "properties": {
                            "type": {
                              "const": "HeatPump_HWOnly"
                            }
                          }
                        },
                        "type": "object"
                      }
                    }
                  },
                  "init_temp": {
                    "maximum": 1000,
                    "minimum": 1,
                    "type": "number"
                  },
                  "primary_pipework": {
                    "items": {
                      "properties": {
                        "external_diameter_mm": {
                          "maximum": 50,
                          "minimum": 5,
                          "type": "number"
                        },
                        "insulation_thermal_conductivity": {
                          "type": "number"
                        },
                        "insulation_thickness_mm": {
                          "type": "number"
                        },
                        "internal_diameter_mm": {
                          "maximum": 50,
                          "minimum": 5,
                          "type": "number"
                        },
                        "length": {
                          "minimum": 0.05,
                          "type": "number"
                        },
                        "location": {
                          "enum": [
                            "internal",
                            "external"
                          ]
                        },
                        "pipe_contents": {
                          "enum": [
                            "air",
                            "water",
                            "glycol25"
                          ]
                        },
                        "surface_reflectivity": {
                          "type": "boolean"
                        }
                      },
                      "required": [
                        "location",
                        "internal_diameter_mm",
                        "external_diameter_mm",
                        "length",
                        "insulation_thermal_conductivity",
                        "insulation_thickness_mm",
                        "surface_reflectivity",
                        "pipe_contents"
                      ],
                      "type": "object",
                      "unevaluatedProperties": false
                    },
                    "type": "array"
                  },
                  "then": {
                    "properties": {
                      "heat_exchanger_surface_area": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "heat_exchanger_surface_area"
                    ]
                  },
                  "volume": {
                    "maximum": 1000,
                    "minimum": 1,
                    "type": "number"
                  }
                },
                "required": [
                  "volume",
                  "daily_losses",
                  "HeatSource"
                ]
              }
            },
            {
              "if": {
                "properties": {
                  "type": {
                    "const": "PointOfUse"
                  }
                }
              },
              "then": {
                "properties": {
                  "EnergySupply": {
                    "type": "string"
                  },
                  "efficiency": {
                    "maximum": 1,
                    "minimum": 0.1,
                    "type": "number"
                  }
                },
                "required": [
                  "efficiency",
                  "EnergySupply"
                ]
              }
            },
            {
              "if": {
                "properties": {
                  "type": {
                    "const": "CombiBoiler"
                  }
                }
              },
              "then": {
                "properties": {
                  "Control": {
                    "type": "string"
                  },
                  "HeatSourceWet": {
                    "type": "string"
                  },
                  "daily_HW_usage": {
                    "maximum": 1000,
                    "minimum": 0,
                    "type": "number"
                  },
                  "rejected_energy_1": {
                    "maximum": 1,
                    "minimum": 0,
                    "type": "number"
                  },
                  "rejected_factor_3": {
                    "maximum": 100,
                    "minimum": 0,
                    "type": "number"
                  },
                  "separate_DHW_tests": {
                    "enum": [
                      "M&L",
                      "M&S",
                      "M only",
                      "no additional tests"
                    ]
                  },
                  "storage_loss_factor_2": {
                    "maximum": 100,
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "HeatSourceWet",
                  "Control",
                  "separate_DHW_tests",
                  "rejected_energy_1",
                  "rejected_factor_3",
                  "storage_loss_factor_2",
                  "daily_HW_usage"
                ]
              }
            },
            {
              "if": {
                "properties": {
                  "type": {
                    "const": "HeatBattery"
                  }
                }
              },
              "then": {
                "properties": {
                  "HeatSourceWet": {
                    "type": "string"
                  },
                  "setpoint_temp": {
                    "description": "Temperature setpoint for the heat battery hot water output (unit: ˚C)",
                    "minimum": -273.15,
                    "title": "Setpoint Temp",
                    "type": "number"
                  }
                },
                "required": [
                  "HeatSourceWet",
                  "setpoint_temp"
                ]
              }
            }
          ],
          "properties": {
            "ColdWaterSource": {
              "enum": [
                "header tank",
                "mains water"
              ]
            },
            "type": {
              "enum": [
                "StorageTank",
                "SmartHotWaterTank",
                "CombiBoiler",
                "PointOfUse",
                "HIU",
                "HeatBattery"
              ]
            }
          },
          "type": "object",
          "unevaluatedProperties": false
        }
      },
      "type": "object",
      "unevaluatedProperties": false
    },
    "InfiltrationVentilation": {
      "properties": {
        "CombustionAppliances": {
          "additionalProperties": {
            "allOf": [
              {
                "if": {
                  "properties": {
                    "fuel_type": {
                      "const": "wood"
                    }
                  }
                },
                "then": {
                  "properties": {
                    "appliance_type": {
                      "enum": [
                        "open_fireplace"
                      ]
                    }
                  }
                }
              },
              {
                "if": {
                  "properties": {
                    "fuel_type": {
                      "const": "gas"
                    }
                  }
                },
                "then": {
                  "properties": {
                    "appliance_type": {
                      "enum": [
                        "closed_with_fan",
                        "open_gas_flue_balancer",
                        "open_gas_kitchen_stove",
                        "open_gas_fire"
                      ]
                    }
                  }
                }
              },
              {
                "if": {
                  "anyOf": [
                    {
                      "properties": {
                        "fuel_type": {
                          "const": "oil"
                        }
                      }
                    },
                    {
                      "properties": {
                        "fuel_type": {
                          "const": "coal"
                        }
                      }
                    }
                  ]
                },
                "then": {
                  "properties": {
                    "appliance_type": {
                      "enum": [
                        "closed_fire"
                      ]
                    }
                  }
                }
              }
            ],
            "properties": {
              "exhaust_situation": {
                "enum": [
                  "into_room",
                  "into_separate_duct",
                  "into_mech_vent"
                ]
              },
              "fuel_type": {
                "enum": [
                  "wood",
                  "gas",
                  "oil",
                  "coal"
                ]
              },
              "supply_situation": {
                "enum": [
                  "room_air",
                  "outside"
                ]
              }
            },
            "required": [
              "supply_situation",
              "exhaust_situation",
              "fuel_type",
              "appliance_type"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        },
        "Cowls": {
          "type": "object"
        },
        "Leaks": {
          "properties": {
            "env_area": {
              "maximum": 72000,
              "minimum": 5,
              "type": "number"
            },
            "test_pressure": {
              "enum": [
                "Standard",
                "Pulse test only"
              ]
            },
            "test_result": {
              "minimum": 0,
              "type": "number"
            },
            "ventilation_zone_height": {
              "maximum": 120,
              "minimum": 1,
              "type": "number"
            }
          },
          "required": [
            "ventilation_zone_height",
            "test_pressure",
            "test_result",
            "env_area"
          ],
          "type": "object",
          "unevaluatedProperties": false
        },
        "MechanicalVentilation": {
          "additionalProperties": {
            "allOf": [
              {
                "else": {
                  "oneOf": [
                    {
                      "properties": {
                        "mid_height_air_flow_path": {
                          "description": "Mid height of air flow path relative to ventilation zone (unit: m)",
                          "maximum": 60,
                          "minimum": 1,
                          "type": "number"
                        },
                        "orientation360": {
                          "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: ˚)",
                          "maximum": 360,
                          "minimum": 0,
                          "type": "number"
                        },
                        "pitch": {
                          "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: ˚)",
                          "maximum": 180,
                          "minimum": 0,
                          "type": "number"
                        }
                      },
                      "required": [
                        "mid_height_air_flow_path",
                        "orientation360",
                        "pitch"
                      ]
                    },
                    {
                      "properties": {
                        "position_exhaust": {
                          "properties": {
                            "mid_height_air_flow_path": {
                              "description": "Mid height of air flow path relative to ventilation zone (unit: m)",
                              "maximum": 60,
                              "minimum": 1,
                              "type": "number"
                            },
                            "orientation360": {
                              "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: ˚)",
                              "maximum": 360,
                              "minimum": 0,
                              "type": "number"
                            },
                            "pitch": {
                              "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: ˚)",
                              "maximum": 180,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "type": "object"
                        }
                      },
                      "required": [
                        "position_exhaust"
                      ]
                    }
                  ]
                },
                "if": {
                  "properties": {
                    "vent_type": {
                      "const": "MVHR"
                    }
                  }
                },
                "then": {
                  "properties": {
                    "ductwork": {
                      "items": {
                        "properties": {
                          "cross_section_shape": {
                            "enum": [
                              "circular",
                              "rectangular"
                            ]
                          },
                          "duct_type": {
                            "enum": [
                              "supply",
                              "extract",
                              "intake",
                              "exhaust"
                            ]
                          },
                          "external_diameter_mm": {
                            "maximum": 1000,
                            "minimum": 0,
                            "type": "number"
                          },
                          "insulation_thermal_conductivity": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "insulation_thickness_mm": {
                            "maximum": 100,
                            "minimum": 0,
                            "type": "number"
                          },
                          "internal_diameter_mm": {
                            "maximum": 1000,
                            "minimum": 0,
                            "type": "number"
                          },
                          "length": {
                            "minimum": 0,
                            "type": "number"
                          },
                          "reflective": {
                            "type": "boolean"
                          }
                        },
                        "required": [
                          "cross_section_shape",
                          "internal_diameter_mm",
                          "external_diameter_mm",
                          "length",
                          "insulation_thermal_conductivity",
                          "insulation_thickness_mm",
                          "reflective",
                          "duct_type"
                        ],
                        "type": "object",
                        "unevaluatedProperties": false
                      },
                      "type": "array"
                    },
                    "mvhr_eff": {
                      "maximum": 1,
                      "minimum": 0,
                      "type": "number"
                    },
                    "mvhr_location": {
                      "enum": [
                        "inside",
                        "outside"
                      ]
                    },
                    "position_exhaust": {
                      "properties": {
                        "mid_height_air_flow_path": {
                          "description": "Mid height of air flow path relative to ventilation zone (unit: m)",
                          "maximum": 60,
                          "minimum": 1,
                          "type": "number"
                        },
                        "orientation360": {
                          "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: ˚)",
                          "maximum": 360,
                          "minimum": 0,
                          "type": "number"
                        },
                        "pitch": {
                          "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: ˚)",
                          "maximum": 180,
                          "minimum": 0,
                          "type": "number"
                        }
                      },
                      "type": "object"
                    },
                    "position_intake": {
                      "properties": {
                        "mid_height_air_flow_path": {
                          "description": "Mid height of air flow path relative to ventilation zone (unit: m)",
                          "maximum": 60,
                          "minimum": 1,
                          "type": "number"
                        },
                        "orientation360": {
                          "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: ˚)",
                          "maximum": 360,
                          "minimum": 0,
                          "type": "number"
                        },
                        "pitch": {
                          "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: ˚)",
                          "maximum": 180,
                          "minimum": 0,
                          "type": "number"
                        }
                      },
                      "type": "object"
                    }
                  },
                  "required": [
                    "mvhr_eff",
                    "mvhr_location",
                    "ductwork",
                    "position_intake",
                    "position_exhaust"
                  ]
                }
              },
              {
                "if": {
                  "anyOf": [
                    {
                      "properties": {
                        "vent_type": {
                          "const": "Decentralised continuous MEV"
                        }
                      }
                    },
                    {
                      "properties": {
                        "vent_type": {
                          "const": "Intermittent MEV"
                        }
                      }
                    }
                  ]
                },
                "then": {
                  "properties": {
                    "SFP": {
                      "description": "Specific fan power, assumed inclusive of any in use factors unless SFP_in_use_factor also provided (unit: W/l/s)",
                      "type": "number"
                    }
                  },
                  "required": [
                    "SFP"
                  ]
                }
              },
              {
                "if": {
                  "anyOf": [
                    {
                      "properties": {
                        "vent_type": {
                          "const": "Centralised continuous MEV"
                        }
                      }
                    },
                    {
                      "properties": {
                        "vent_type": {
                          "const": "MVHR"
                        }
                      }
                    }
                  ]
                },
                "then": {
                  "properties": {
                    "measured_air_flow_rate": {
                      "type": "number"
                    },
                    "measured_fan_power": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "measured_fan_power",
                    "measured_air_flow_rate"
                  ]
                }
              }
            ],
            "properties": {
              "EnergySupply": {
                "type": "string"
              },
              "SFP_in_use_factor": {
                "default": 1,
                "description": "Adjustment factor to be applied to SFP to account for e.g. type of ducting. Typical range 1 - 2.5",
                "minimum": 1,
                "title": "Sfp In Use Factor",
                "type": "number"
              },
              "design_outdoor_air_flow_rate": {
                "minimum": 0,
                "type": "number"
              },
              "design_zone_cooling_covered_by_mech_vent": {
                "type": "number"
              },
              "design_zone_heating_covered_by_mech_vent": {
                "type": "number"
              },
              "sup_air_flw_ctrl": {
                "enum": [
                  "ODA",
                  "LOAD"
                ]
              },
              "sup_air_temp_ctrl": {
                "enum": [
                  "NO_CTRL",
                  "CONST",
                  "ODA_COMP",
                  "LOAD_COMP"
                ]
              },
              "vent_type": {
                "enum": [
                  "Decentralised continuous MEV",
                  "Centralised continuous MEV",
                  "MVHR",
                  "Intermittent MEV"
                ]
              }
            },
            "required": [
              "sup_air_flw_ctrl",
              "sup_air_temp_ctrl",
              "vent_type",
              "EnergySupply",
              "design_outdoor_air_flow_rate"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        },
        "PDUs": {
          "type": "object"
        },
        "Vents": {
          "additionalProperties": {
            "properties": {
              "area_cm2": {
                "maximum": 999999,
                "minimum": 1,
                "type": "number"
              },
              "mid_height_air_flow_path": {
                "maximum": 60,
                "minimum": 1,
                "type": "number"
              },
              "orientation360": {
                "maximum": 360,
                "minimum": 0,
                "type": "number"
              },
              "pitch": {
                "maximum": 180,
                "minimum": 0,
                "type": "number"
              }
            },
            "required": [
              "mid_height_air_flow_path",
              "area_cm2",
              "orientation360",
              "pitch"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "type": "object"
        },
        "ach_max_static_calcs": {
          "type": "number"
        },
        "ach_min_static_calcs": {
          "type": "number"
        },
        "altitude": {
          "maximum": 7200,
          "minimum": -150,
          "type": "number"
        },
        "cross_vent_possible": {
          "type": "boolean"
        },
        "noise_nuisance": {
          "type": "boolean"
        },
        "shield_class": {
          "enum": [
            "Open",
            "Normal",
            "Shielded"
          ]
        },
        "terrain_class": {
          "enum": [
            "OpenWater",
            "OpenField",
            "Suburban",
            "Urban"
          ]
        },
        "ventilation_zone_base_height": {
          "maximum": 750,
          "minimum": -150,
          "type": "number"
        }
      },
      "required": [
        "cross_vent_possible",
        "shield_class",
        "terrain_class",
        "ventilation_zone_base_height",
        "altitude",
        "noise_nuisance",
        "Vents",
        "Leaks",
        "CombustionAppliances"
      ],
      "type": "object",
      "unevaluatedProperties": false
    },
    "NumberOfBathrooms": {
      "description": "A bathroom is any room that contains a bath or shower",
      "minimum": 0,
      "type": "integer"
    },
    "NumberOfBedrooms": {
      "minimum": 0,
      "type": "integer"
    },
    "NumberOfHabitableRooms": {
      "description": "A habitable room is any that is not used solely as a kitchen, bathroom, utility, cellar or sanitary accommodation",
      "minimum": 1,
      "type": "integer"
    },
    "NumberOfSanitaryAccommodations": {
      "description": "Any space containing one or more flush toilets or urinals but not a bath or shower. Multiple cubicles counts as one space as long as there is free circulation of air throughout",
      "minimum": 0,
      "type": "integer"
    },
    "NumberOfTappedRooms": {
      "description": "A tapped room is any room with a tapping point (e.g. sink, bath, or shower)",
      "minimum": 1,
      "type": "integer"
    },
    "NumberOfUtilityRooms": {
      "description": "A utility room is any that contains a sink or other feature or equipment that may reasonably be expected to produce significant quantities of water vapour",
      "minimum": 0,
      "type": "integer"
    },
    "NumberOfWetRooms": {
      "minimum": 0,
      "type": "integer"
    },
    "OnSiteGeneration": {
      "additionalProperties": {
        "properties": {
          "EnergySupply": {
            "type": "string"
          },
          "base_height": {
            "maximum": 500,
            "minimum": 0,
            "type": "number"
          },
          "height": {
            "maximum": 100,
            "minimum": 0,
            "type": "number"
          },
          "inverter_is_inside": {
            "type": "boolean"
          },
          "inverter_peak_power_ac": {
            "type": "number"
          },
          "inverter_peak_power_dc": {
            "type": "number"
          },
          "inverter_type": {
            "enum": [
              "string_inverter",
              "optimised_inverter"
            ]
          },
          "orientation360": {
            "maximum": 360,
            "minimum": 0,
            "type": "integer"
          },
          "peak_power": {
            "maximum": 100,
            "minimum": 0.001,
            "type": "number"
          },
          "pitch": {
            "maximum": 90,
            "minimum": 0,
            "type": "integer"
          },
          "shading": {
            "items": {
              "properties": {
                "depth": {
                  "minimum": 0,
                  "type": "number"
                },
                "distance": {
                  "minimum": 0,
                  "type": "number"
                },
                "type": {
                  "enum": [
                    "reveal",
                    "obstacle",
                    "overhang",
                    "sidefinleft",
                    "sidefinright"
                  ]
                }
              },
              "required": [
                "type",
                "depth",
                "distance"
              ],
              "type": "object",
              "unevaluatedProperties": false
            },
            "type": "array"
          },
          "type": {
            "enum": [
              "PhotovoltaicSystem"
            ]
          },
          "ventilation_strategy": {
            "enum": [
              "unventilated",
              "moderately_ventilated",
              "strongly_or_forced_ventilated",
              "rear_surface_free"
            ]
          },
          "width": {
            "maximum": 100,
            "minimum": 0,
            "type": "number"
          }
        },
        "required": [
          "type",
          "peak_power",
          "ventilation_strategy",
          "pitch",
          "orientation360",
          "base_height",
          "height",
          "width",
          "EnergySupply",
          "shading",
          "inverter_peak_power_dc",
          "inverter_peak_power_ac",
          "inverter_is_inside",
          "inverter_type"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "PartGcompliance": {
      "type": "boolean"
    },
    "PartO_active_cooling_required": {
      "type": "boolean"
    },
    "SimulationTime": {
      "type": "object"
    },
    "SpaceCoolSystem": {
      "additionalProperties": {
        "properties": {
          "EnergySupply": {
            "type": "string"
          },
          "advanced_start": {
            "type": "number"
          },
          "cooling_capacity": {
            "type": "number"
          },
          "efficiency": {
            "maximum": 25,
            "minimum": 0,
            "type": "number"
          },
          "frac_convective": {
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "temp_setback": {
            "type": "number"
          },
          "type": {
            "enum": [
              "AirConditioning"
            ]
          }
        },
        "required": [
          "type",
          "cooling_capacity",
          "efficiency",
          "frac_convective",
          "EnergySupply"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "SpaceHeatSystem": {
      "additionalProperties": {
        "allOf": [
          {
            "if": {
              "properties": {
                "type": {
                  "const": "ElecStorageHeater"
                }
              }
            },
            "then": {
              "if": {
                "properties": {
                  "air_flow_type": {
                    "const": "fan-assisted"
                  }
                }
              },
              "properties": {
                "Control": {
                  "type": "string"
                },
                "ControlCharger": {
                  "type": "string"
                },
                "ESH_max_output": {
                  "items": {
                    "items": {
                      "type": "number"
                    },
                    "type": "array"
                  },
                  "type": "array"
                },
                "ESH_min_output": {
                  "items": {
                    "items": {
                      "type": "number"
                    },
                    "type": "array"
                  },
                  "type": "array"
                },
                "EnergySupply": {
                  "type": "string"
                },
                "Zone": {
                  "type": "string"
                },
                "air_flow_type": {
                  "enum": [
                    "fan-assisted",
                    "damper-only"
                  ]
                },
                "frac_convective": {
                  "minimum": 0,
                  "type": "number"
                },
                "n_units": {
                  "maximum": 100,
                  "minimum": 0,
                  "type": "integer"
                },
                "pwr_in": {
                  "maximum": 70,
                  "minimum": 0.1,
                  "type": "number"
                },
                "rated_power_instant": {
                  "maximum": 70,
                  "minimum": 0.1,
                  "type": "number"
                },
                "state_of_charge_init": {
                  "description": "State of charge at initialisation of dry core heat storage (ratio)",
                  "maximum": 1.0,
                  "minimum": 0.0,
                  "title": "State Of Charge Init",
                  "type": "number"
                },
                "storage_capacity": {
                  "minimum": 0,
                  "type": "number"
                }
              },
              "required": [
                "pwr_in",
                "rated_power_instant",
                "storage_capacity",
                "air_flow_type",
                "frac_convective",
                "n_units",
                "EnergySupply",
                "ControlCharger",
                "Zone",
                "ESH_min_output",
                "ESH_max_output",
                "state_of_charge_init"
              ],
              "then": {
                "properties": {
                  "fan_pwr": {
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "fan_pwr"
                ]
              }
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "InstantElecHeater"
                }
              }
            },
            "then": {
              "properties": {
                "Control": {
                  "type": "string"
                },
                "EnergySupply": {
                  "type": "string"
                },
                "convective_type": {
                  "enum": [
                    "Air heating (convectors, fan coils etc.)",
                    "Free heating surface (radiators, radiant panels etc.)",
                    "Floor heating, low temperature radiant tube heaters, luminous heaters, wood stoves",
                    "Wall heating, radiant ceiling panels, accumulation stoves",
                    "Ceiling heating, radiant ceiling electric heating"
                  ]
                },
                "rated_power": {
                  "maximum": 70,
                  "minimum": 0.1,
                  "type": "number"
                }
              },
              "required": [
                "rated_power",
                "convective_type",
                "EnergySupply"
              ]
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "WetDistribution"
                }
              }
            },
            "then": {
              "allOf": [
                {
                  "if": {
                    "oneOf": [
                      {
                        "properties": {
                          "ecodesign_control_class": {
                            "const": 2
                          }
                        }
                      },
                      {
                        "properties": {
                          "ecodesign_control_class": {
                            "const": 3
                          }
                        }
                      },
                      {
                        "properties": {
                          "ecodesign_control_class": {
                            "const": 6
                          }
                        }
                      },
                      {
                        "properties": {
                          "ecodesign_control_class": {
                            "const": 7
                          }
                        }
                      }
                    ]
                  },
                  "then": {
                    "required": [
                      "min_outdoor_temp",
                      "max_outdoor_temp",
                      "min_flow_temp"
                    ]
                  }
                },
                {
                  "else": {
                    "properties": {
                      "design_flow_rate": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "design_flow_rate"
                    ]
                  },
                  "if": {
                    "properties": {
                      "variable_flow": {
                        "const": true
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "max_flow_rate": {
                        "type": "number"
                      },
                      "min_flow_rate": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "min_flow_rate",
                      "max_flow_rate"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "emitters": {
                        "contains": {
                          "properties": {
                            "wet_emitter_type": {
                              "const": "radiator"
                            }
                          },
                          "type": "object"
                        },
                        "type": "array"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "thermal_mass": {
                        "type": "number"
                      }
                    },
                    "required": [
                      "thermal_mass"
                    ]
                  }
                }
              ],
              "properties": {
                "Control": {
                  "type": "string"
                },
                "EnergySupply": {
                  "type": "string"
                },
                "HeatSource": {
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "temp_flow_limit_upper": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "Zone": {
                  "type": "string"
                },
                "bypass_percentage_recirculated": {
                  "maximum": 1,
                  "minimum": 0,
                  "type": "number"
                },
                "design_flow_temp": {
                  "maximum": 120,
                  "minimum": 20,
                  "type": "integer"
                },
                "ecodesign_controller": {
                  "properties": {
                    "ecodesign_control_class": {
                      "maximum": 8,
                      "minimum": 1,
                      "type": "integer"
                    },
                    "max_outdoor_temp": {
                      "maximum": 50,
                      "minimum": 10,
                      "type": "integer"
                    },
                    "min_flow_temp": {
                      "maximum": 120,
                      "minimum": 20,
                      "type": "integer"
                    },
                    "min_outdoor_temp": {
                      "maximum": 30,
                      "minimum": -60,
                      "type": "integer"
                    }
                  },
                  "required": [
                    "ecodesign_control_class"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "emitters": {
                  "items": {
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "wet_emitter_type": {
                              "const": "radiator"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "c": {
                              "maximum": 2,
                              "minimum": 0,
                              "type": "number"
                            },
                            "n": {
                              "maximum": 2,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "c",
                            "n"
                          ]
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "wet_emitter_type": {
                              "const": "ufh"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "emitter_floor_area": {
                              "minimum": 0,
                              "type": "number"
                            },
                            "equivalent_specific_thermal_mass": {
                              "minimum": 0,
                              "type": "number"
                            },
                            "system_performance_factor": {
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "equivalent_specific_thermal_mass",
                            "system_performance_factor",
                            "emitter_floor_area"
                          ]
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "wet_emitter_type": {
                              "const": "fancoil"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "fancoil_test_data": {
                              "properties": {
                                "fan_power_W": {
                                  "items": {
                                    "minimum": 0,
                                    "type": "number"
                                  },
                                  "type": "array"
                                },
                                "fan_speed_data": {
                                  "items": {
                                    "properties": {
                                      "power_output": {
                                        "items": {
                                          "minimum": 0,
                                          "type": "number"
                                        },
                                        "type": "array"
                                      },
                                      "temperature_diff": {
                                        "type": "number"
                                      }
                                    },
                                    "required": [
                                      "temperature_diff",
                                      "power_output"
                                    ],
                                    "type": "object",
                                    "unevaluatedProperties": false
                                  },
                                  "type": "array"
                                }
                              },
                              "required": [
                                "fan_speed_data",
                                "fan_power_W"
                              ],
                              "type": "object",
                              "unevaluatedProperties": false
                            },
                            "n_units": {
                              "minimum": 1,
                              "type": "integer"
                            }
                          },
                          "required": [
                            "n_units",
                            "fancoil_test_data"
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "frac_convective": {
                        "type": "number"
                      },
                      "wet_emitter_type": {
                        "enum": [
                          "radiator",
                          "ufh",
                          "fancoil"
                        ]
                      }
                    },
                    "required": [
                      "wet_emitter_type",
                      "frac_convective"
                    ],
                    "type": "object",
                    "unevaluatedProperties": false
                  },
                  "type": "array"
                },
                "pipework": {
                  "items": {
                    "additionalProperties": false,
                    "properties": {
                      "external_diameter_mm": {
                        "exclusiveMinimum": 0,
                        "type": "number"
                      },
                      "insulation_thermal_conductivity": {
                        "description": "Thermal conductivity of the insulation (unit: W / m K)",
                        "exclusiveMinimum": 0,
                        "type": "number"
                      },
                      "insulation_thickness_mm": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "internal_diameter_mm": {
                        "exclusiveMinimum": 0,
                        "type": "number"
                      },
                      "length": {
                        "minimum": 0,
                        "type": "number"
                      },
                      "location": {
                        "description": "Location of the pipework (internal or external)",
                        "enum": [
                          "internal",
                          "external"
                        ],
                        "type": "string"
                      },
                      "pipe_contents": {
                        "description": "Contents of the pipework (water or glycol25)",
                        "enum": [
                          "water",
                          "glycol25"
                        ],
                        "type": "string"
                      },
                      "surface_reflectivity": {
                        "type": "boolean"
                      }
                    },
                    "type": "object"
                  },
                  "type": "array"
                },
                "temp_diff_emit_dsgn": {
                  "maximum": 70,
                  "type": "number"
                },
                "variable_flow": {
                  "type": "boolean"
                }
              },
              "required": [
                "emitters",
                "temp_diff_emit_dsgn",
                "variable_flow",
                "HeatSource",
                "ecodesign_controller",
                "design_flow_temp",
                "Zone",
                "pipework"
              ]
            }
          },
          {
            "if": {
              "properties": {
                "type": {
                  "const": "WarmAir"
                }
              }
            },
            "then": {
              "properties": {
                "Control": {
                  "type": "string"
                },
                "HeatSource": {
                  "properties": {
                    "name": {
                      "type": "string"
                    },
                    "temp_flow_limit_upper": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "name"
                  ],
                  "type": "object",
                  "unevaluatedProperties": false
                },
                "frac_convective": {
                  "maximum": 1,
                  "minimum": 0.1,
                  "type": "number"
                },
                "temp_diff_emit_dsgn": {
                  "maximum": 70,
                  "type": "number"
                }
              },
              "required": [
                "temp_diff_emit_dsgn",
                "frac_convective",
                "HeatSource"
              ]
            }
          }
        ],
        "properties": {
          "type": {
            "enum": [
              "ElecStorageHeater",
              "InstantElecHeater",
              "WetDistribution",
              "WarmAir"
            ]
          }
        },
        "required": [
          "type"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "WWHRS": {
      "additionalProperties": {
        "properties": {
          "ColdWaterSource": {
            "enum": [
              "header tank",
              "mains water"
            ]
          },
          "flow_rates": {
            "items": {
              "maximum": 500,
              "minimum": 0.1,
              "type": "number"
            },
            "type": "array"
          },
          "system_a_efficiencies": {
            "description": "Measured efficiencies for System A at the test flow rates",
            "items": {
              "minimum": 0,
              "type": "number"
            },
            "type": "array"
          },
          "system_a_utilisation_factor": {
            "description": "Utilisation factor for System A",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "system_b_efficiencies": {
            "description": "Measured efficiencies for System B (optional, uses system_b_efficiency_factor if not provided)",
            "items": {
              "minimum": 0,
              "type": "number"
            },
            "type": "array"
          },
          "system_b_efficiency_factor": {
            "description": "Reduction factor for System B efficiency (default 0.81)",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "system_b_utilisation_factor": {
            "description": "Utilisation factor for System B (optional, defaults to system_a_utilisation_factor)",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "system_c_efficiencies": {
            "description": "Measured efficiencies for System C (optional, uses system_c_efficiency_factor if not provided)",
            "items": {
              "minimum": 0,
              "type": "number"
            },
            "type": "array"
          },
          "system_c_efficiency_factor": {
            "description": "Reduction factor for System C efficiency (default 0.87)",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "system_c_utilisation_factor": {
            "description": "Utilisation factor for System C (optional, defaults to system_a_utilisation_factor)",
            "maximum": 1,
            "minimum": 0,
            "type": "number"
          },
          "type": {
            "const": "WWHRS_Instantaneous",
            "type": "string"
          }
        },
        "required": [
          "type",
          "ColdWaterSource",
          "flow_rates",
          "system_a_efficiencies"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "type": "object"
    },
    "Zone": {
      "additionalProperties": {
        "properties": {
          "BuildingElement": {
            "additionalProperties": {
              "allOf": [
                {
                  "if": {
                    "anyOf": [
                      {
                        "properties": {
                          "type": {
                            "const": "BuildingElementAdjacentConditionedSpace"
                          }
                        }
                      },
                      {
                        "properties": {
                          "type": {
                            "const": "BuildingElementAdjacentUnconditionedSpace_Simple"
                          }
                        }
                      }
                    ]
                  },
                  "then": {
                    "properties": {
                      "area": {
                        "maximum": 10000,
                        "minimum": 0.01,
                        "type": "number"
                      },
                      "areal_heat_capacity": {
                        "enum": [
                          "Very light",
                          "Light",
                          "Medium",
                          "Heavy",
                          "Very heavy"
                        ]
                      },
                      "is_party_wall": {
                        "type": "boolean"
                      },
                      "mass_distribution_class": {
                        "$ref": "#/$defs/MassDistributionClass"
                      },
                      "pitch": {
                        "maximum": 180,
                        "minimum": 0,
                        "type": "integer"
                      }
                    },
                    "required": [
                      "area",
                      "areal_heat_capacity",
                      "mass_distribution_class",
                      "pitch"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "BuildingElementAdjacentUnconditionedSpace_Simple"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "thermal_resistance_unconditioned_space": {
                        "maximum": 3,
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "thermal_resistance_unconditioned_space"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "BuildingElementGround"
                      }
                    }
                  },
                  "then": {
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "floor_type": {
                              "const": "Slab_edge_insulation"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "edge_insulation": {
                              "properties": {
                                "edge_thermal_resistance": {
                                  "type": "number"
                                },
                                "type": {
                                  "enum": [
                                    "horizontal",
                                    "vertical"
                                  ]
                                },
                                "width": {
                                  "type": "number"
                                }
                              },
                              "required": [
                                "type",
                                "width",
                                "edge_thermal_resistance"
                              ],
                              "type": "object",
                              "unevaluatedProperties": false
                            }
                          },
                          "required": [
                            "edge_insulation"
                          ]
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "floor_type": {
                              "const": "Suspended_floor"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "area_per_perimeter_vent": {
                              "type": "number"
                            },
                            "height_upper_surface": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            },
                            "shield_fact_location": {
                              "enum": [
                                "Sheltered",
                                "Average",
                                "Exposed"
                              ]
                            },
                            "thermal_resist_insul": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            },
                            "thermal_transm_walls": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            },
                            "thickness_walls": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "height_upper_surface",
                            "thermal_transm_walls",
                            "shield_fact_location",
                            "thickness_walls",
                            "thermal_resist_insul"
                          ]
                        }
                      },
                      {
                        "if": {
                          "anyOf": [
                            {
                              "properties": {
                                "floor_type": {
                                  "const": "Heated_basement"
                                }
                              }
                            },
                            {
                              "properties": {
                                "floor_type": {
                                  "const": "Unheated_basement"
                                }
                              }
                            }
                          ]
                        },
                        "then": {
                          "properties": {
                            "depth_basement_floor": {
                              "type": "number"
                            },
                            "thermal_resist_walls_base": {
                              "type": "number"
                            },
                            "thickness_walls": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "thickness_walls",
                            "depth_basement_floor",
                            "thermal_resist_walls_base"
                          ]
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "floor_type": {
                              "const": "Unheated_basement"
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "height_basement_walls": {
                              "type": "number"
                            },
                            "thermal_transm_envi_base": {
                              "type": "number"
                            },
                            "thermal_transm_walls": {
                              "type": "number"
                            }
                          },
                          "required": [
                            "thermal_transm_envi_base",
                            "thermal_transm_walls",
                            "height_basement_walls"
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "area": {
                        "maximum": 10000,
                        "minimum": 5,
                        "type": "number"
                      },
                      "areal_heat_capacity": {
                        "enum": [
                          "Very light",
                          "Light",
                          "Medium",
                          "Heavy",
                          "Very heavy"
                        ]
                      },
                      "floor_type": {
                        "enum": [
                          "Slab_no_edge_insulation",
                          "Slab_edge_insulation",
                          "Suspended_floor",
                          "Heated_basement",
                          "Unheated_basement"
                        ]
                      },
                      "mass_distribution_class": {
                        "$ref": "#/$defs/MassDistributionClass"
                      },
                      "perimeter": {
                        "maximum": 1000,
                        "minimum": 0,
                        "type": "number"
                      },
                      "psi_wall_floor_junc": {
                        "maximum": 2,
                        "minimum": 0,
                        "type": "number"
                      },
                      "thermal_resistance_floor_construction": {
                        "maximum": 50,
                        "minimum": 1e-6,
                        "type": "number"
                      },
                      "thickness_walls": {
                        "maximum": 100,
                        "minimum": 0,
                        "type": "number"
                      },
                      "total_area": {
                        "minimum": 5,
                        "type": "number"
                      }
                    },
                    "required": [
                      "u_value",
                      "total_area",
                      "floor_type",
                      "thickness_walls",
                      "perimeter",
                      "psi_wall_floor_junc",
                      "thermal_resistance_floor_construction",
                      "areal_heat_capacity",
                      "mass_distribution_class",
                      "area"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "BuildingElementOpaque"
                      }
                    }
                  },
                  "then": {
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "pitch": {
                              "maximum": 120,
                              "minimum": 60,
                              "type": "number"
                            }
                          },
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        "then": {
                          "required": [
                            "is_external_door"
                          ]
                        }
                      },
                      {
                        "if": {
                          "properties": {
                            "pitch": {
                              "maximum": 60,
                              "type": "number"
                            }
                          },
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        "then": {
                          "required": [
                            "is_unheated_pitched_roof"
                          ]
                        }
                      }
                    ],
                    "properties": {
                      "area": {
                        "maximum": 10000,
                        "minimum": 0.01,
                        "type": "number"
                      },
                      "areal_heat_capacity": {
                        "enum": [
                          "Very light",
                          "Light",
                          "Medium",
                          "Heavy",
                          "Very heavy"
                        ]
                      },
                      "base_height": {
                        "maximum": 500,
                        "minimum": 0,
                        "type": "number"
                      },
                      "colour": {
                        "enum": [
                          "Light",
                          "Intermediate",
                          "Dark"
                        ]
                      },
                      "height": {
                        "maximum": 50,
                        "minimum": 0.001,
                        "type": "number"
                      },
                      "is_external_door": {
                        "type": "boolean"
                      },
                      "is_party_wall": {
                        "type": "boolean"
                      },
                      "is_unheated_pitched_roof": {
                        "type": "boolean"
                      },
                      "mass_distribution_class": {
                        "$ref": "#/$defs/MassDistributionClass"
                      },
                      "orientation360": {
                        "maximum": 360,
                        "minimum": 0,
                        "type": "integer"
                      },
                      "pitch": {
                        "maximum": 180,
                        "minimum": 0,
                        "type": "integer"
                      },
                      "width": {
                        "maximum": 100,
                        "minimum": 0.001,
                        "type": "number"
                      }
                    },
                    "required": [
                      "colour",
                      "areal_heat_capacity",
                      "mass_distribution_class",
                      "orientation360",
                      "base_height",
                      "height",
                      "width",
                      "area",
                      "pitch"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "BuildingElementTransparent"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "base_height": {
                        "maximum": 500,
                        "minimum": 0,
                        "type": "number"
                      },
                      "frame_area_fraction": {
                        "maximum": 1,
                        "minimum": 0,
                        "type": "number"
                      },
                      "free_area_height": {
                        "maximum": 100,
                        "minimum": 0,
                        "type": "number"
                      },
                      "g_value": {
                        "maximum": 1,
                        "minimum": 0,
                        "type": "number"
                      },
                      "height": {
                        "maximum": 50,
                        "minimum": 0.001,
                        "type": "number"
                      },
                      "max_window_open_area": {
                        "maximum": 100,
                        "minimum": 0,
                        "type": "number"
                      },
                      "mid_height": {
                        "maximum": 100,
                        "minimum": 0,
                        "type": "number"
                      },
                      "orientation360": {
                        "maximum": 360,
                        "minimum": 0,
                        "type": "integer"
                      },
                      "pitch": {
                        "maximum": 180,
                        "minimum": 0,
                        "type": "integer"
                      },
                      "security_risk": {
                        "type": "boolean"
                      },
                      "shading": {
                        "items": {
                          "properties": {
                            "depth": {
                              "minimum": 0,
                              "type": "number"
                            },
                            "distance": {
                              "minimum": 0,
                              "type": "number"
                            },
                            "type": {
                              "enum": [
                                "overhang",
                                "sidefinleft",
                                "sidefinright"
                              ]
                            }
                          },
                          "required": [
                            "type",
                            "depth",
                            "distance"
                          ],
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        "type": "array"
                      },
                      "treatment": {
                        "items": {
                          "properties": {
                            "controls": {
                              "enum": [
                                "auto_motorised",
                                "manual"
                              ]
                            },
                            "delta_r": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            },
                            "trans_red": {
                              "maximum": 1,
                              "minimum": 0,
                              "type": "number"
                            },
                            "type": {
                              "enum": [
                                "curtains",
                                "blinds"
                              ]
                            }
                          },
                          "required": [
                            "type",
                            "controls",
                            "delta_r",
                            "trans_red"
                          ],
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        "type": "array"
                      },
                      "width": {
                        "maximum": 100,
                        "minimum": 0.001,
                        "type": "number"
                      },
                      "window_part_list": {
                        "items": {
                          "properties": {
                            "mid_height_air_flow_path": {
                              "maximum": 100,
                              "minimum": 0,
                              "type": "number"
                            }
                          },
                          "required": [
                            "mid_height_air_flow_path"
                          ],
                          "type": "object",
                          "unevaluatedProperties": false
                        },
                        "type": "array"
                      }
                    },
                    "required": [
                      "frame_area_fraction",
                      "g_value",
                      "mid_height",
                      "max_window_open_area",
                      "security_risk",
                      "window_part_list",
                      "shading",
                      "orientation360",
                      "base_height",
                      "height",
                      "width",
                      "pitch"
                    ]
                  }
                }
              ],
              "anyOf": [
                {
                  "required": [
                    "thermal_resistance_construction"
                  ]
                },
                {
                  "required": [
                    "u_value"
                  ]
                }
              ],
              "properties": {
                "thermal_resistance_construction": {
                  "maximum": 50,
                  "minimum": 0.01,
                  "type": "number"
                },
                "type": {
                  "enum": [
                    "BuildingElementAdjacentConditionedSpace",
                    "BuildingElementAdjacentUnconditionedSpace_Simple",
                    "BuildingElementGround",
                    "BuildingElementOpaque",
                    "BuildingElementTransparent"
                  ]
                },
                "u_value": {
                  "maximum": 10,
                  "minimum": 0.01,
                  "type": "number"
                }
              },
              "required": [
                "type"
              ],
              "type": "object",
              "unevaluatedProperties": false
            },
            "type": "object"
          },
          "Lighting": {
            "properties": {
              "bulbs": {
                "properties": {
                  "count": {
                    "minimum": 1,
                    "type": "integer"
                  },
                  "efficacy": {
                    "minimum": 0,
                    "type": "number"
                  },
                  "power": {
                    "minimum": 0,
                    "type": "number"
                  }
                },
                "required": [
                  "count",
                  "power",
                  "efficacy"
                ],
                "type": "object",
                "unevaluatedProperties": false
              }
            },
            "required": [
              "bulbs"
            ],
            "type": "object",
            "unevaluatedProperties": false
          },
          "SpaceCoolSystem": {
            "items": {
              "type": "string"
            },
            "type": [
              "string",
              "array"
            ]
          },
          "SpaceHeatSystem": {
            "items": {
              "type": "string"
            },
            "type": [
              "string",
              "array"
            ]
          },
          "ThermalBridging": {
            "additionalProperties": {
              "allOf": [
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "ThermalBridgeLinear"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "junction_type": {
                        "enum": [
                          "E1",
                          "E2",
                          "E3",
                          "E4",
                          "E5",
                          "E6",
                          "E7",
                          "E8",
                          "E9",
                          "E10",
                          "E11",
                          "E12",
                          "E13",
                          "E14",
                          "E15",
                          "E16",
                          "E17",
                          "E18",
                          "E19",
                          "E20",
                          "E21",
                          "E22",
                          "E23",
                          "E24",
                          "E25",
                          "P1",
                          "P2",
                          "P3",
                          "P4",
                          "P5",
                          "P6",
                          "P7",
                          "P8",
                          "R1",
                          "R2",
                          "R3",
                          "R4",
                          "R5",
                          "R6",
                          "R7",
                          "R8",
                          "R9",
                          "R10",
                          "R11"
                        ]
                      },
                      "length": {
                        "maximum": 10000,
                        "minimum": 0,
                        "type": "number"
                      },
                      "linear_thermal_transmittance": {
                        "maximum": 2,
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "linear_thermal_transmittance",
                      "length",
                      "junction_type"
                    ]
                  }
                },
                {
                  "if": {
                    "properties": {
                      "type": {
                        "const": "ThermalBridgePoint"
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "heat_transfer_coeff": {
                        "maximum": 2,
                        "minimum": 0,
                        "type": "number"
                      }
                    },
                    "required": [
                      "heat_transfer_coeff"
                    ]
                  }
                }
              ],
              "properties": {
                "type": {
                  "enum": [
                    "ThermalBridgeLinear",
                    "ThermalBridgePoint"
                  ]
                }
              },
              "required": [
                "type"
              ],
              "type": "object",
              "unevaluatedProperties": false
            },
            "type": [
              "object",
              "number"
            ]
          },
          "livingroom_area": {
            "maximum": 10000,
            "minimum": 0,
            "type": "number"
          },
          "restofdwelling_area": {
            "maximum": 10000,
            "minimum": 0,
            "type": "number"
          },
          "volume": {
            "maximum": 50000,
            "minimum": 0,
            "type": "number"
          }
        },
        "required": [
          "livingroom_area",
          "restofdwelling_area",
          "volume",
          "Lighting",
          "BuildingElement",
          "ThermalBridging"
        ],
        "type": "object",
        "unevaluatedProperties": false
      },
      "maxProperties": 1,
      "minProperties": 1,
      "type": "object"
    }
  },
  "required": [
    "PartGcompliance",
    "BuildingLength",
    "BuildingWidth",
    "NumberOfBedrooms",
    "NumberOfTappedRooms",
    "NumberOfUtilityRooms",
    "NumberOfBathrooms",
    "NumberOfSanitaryAccommodations",
    "NumberOfHabitableRooms",
    "HeatingControlType",
    "SimulationTime",
    "ExternalConditions",
    "Appliances",
    "ColdWaterSource",
    "EnergySupply",
    "Control",
    "HotWaterSource",
    "Events",
    "SpaceHeatSystem",
    "General",
    "InfiltrationVentilation",
    "Zone"
  ],
  "type": "object",
  "unevaluatedProperties": false
}
