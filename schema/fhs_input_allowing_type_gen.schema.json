{
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "unevaluatedProperties": false,
    "properties": {
        "metadata": {
            "type": "object",
            "properties": {
                "hem_core_version": {
                    "type": "string",
                    "description": "The core version the input is written for. If there is a mismatch a warning will be printed"
                }
            },
            "description": "Metadata for the input file"
        },
        "PartGcompliance": {
            "type": "boolean"
        },
        "PartO_active_cooling_required": {
            "type": "boolean"
        },
        "BuildingLength": {
            "type": "number",
            "minimum": 0,
            "description": "The maximum horizontal distance (in metres) across the building footprint"
        },
        "BuildingWidth": {
            "type": "number",
            "minimum": 0,
            "description": "The maximum horizontal distance (in metres) perpendicular to the building length"
        },
        "GroundFloorArea": {
            "type": "number",
            "minimum": 0
        },
        "NumberOfBedrooms": {
            "type": "integer",
            "minimum": 0
        },
        "NumberOfWetRooms": {
            "type": "integer",
            "minimum": 0
        },
        "NumberOfTappedRooms": {
            "type": "integer",
            "minimum": 2,
            "description": "A tapped room is any room with a tapping point (e.g. sink, bath, or shower)"
        },
        "NumberOfUtilityRooms": {
            "type": "integer",
            "minimum": 0,
            "description": "A utility room is any that contains a sink or other feature or equipment that may reasonably be expected to produce significant quantities of water vapour"
        },
        "NumberOfBathrooms": {
            "type": "integer",
            "minimum": 0,
            "description": "A bathroom is any room that contains a bath or shower"
        },
        "NumberOfSanitaryAccommodations": {
            "type": "integer",
            "minimum": 0,
            "description": "Any space containing one or more flush toilets or urinals but not a bath or shower. Multiple cubicles counts as one space as long as there is free circulation of air throughout"
        },
        "NumberOfHabitableRooms": {
            "type": "integer",
            "minimum": 1,
            "description": "A habitable room is any that is not used solely as a kitchen, bathroom, utility, cellar or sanitary accommodation"
        },
        "HeatingControlType": {
            "enum": [
                "SeparateTempControl",
                "SeparateTimeAndTempControl"
            ]
        },
        "KitchenExtractorHoodExternal": {
            "type": "boolean",
            "description": "Does the kitchen have a cooker extractor hood which extracts to the outside of the building?"
        },
        "ExternalConditions": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "shading_segments"
            ],
            "properties": {
                "shading_segments": {
                    "type": "array",
                    "minItems": 8,
                    "maxItems": 36,
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "start360",
                            "end360"
                        ],
                        "properties": {
                            "start360": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "end360": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "shading": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "type",
                                        "height",
                                        "distance"
                                    ],
                                    "properties": {
                                        "type": {
                                            "enum": [
                                                "obstacle",
                                                "overhang"
                                            ]
                                        },
                                        "height": {
                                            "type": "number",
                                            "exclusiveMinimum": 0,
                                            "maximum": 400
                                        },
                                        "distance": {
                                            "type": "number",
                                            "exclusiveMinimum": 0,
                                            "maximum": 72000
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "Appliances": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "Oven": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Hobs": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Kettle": {
                    "$ref": "#/$defs/ApplianceValueDefault"
                },
                "Microwave": {
                    "$ref": "#/$defs/ApplianceValueDefault"
                },
                "Fridge-Freezer": {
                    "$ref": "#/$defs/ApplianceValueDefault"
                },
                "Dishwasher": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Clothes_washing": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Clothes_drying": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Fridge": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Freezer": {
                    "$ref": "#/$defs/ApplianceValue"
                },
                "Otherdevices": {
                    "$ref": "#/$defs/ApplianceValue"
                }
            },
            "not": {
                "allOf": [
                    {
                        "properties": {
                            "Fridge": {
                                "const": "Not Installed"
                            }
                        }
                    },
                    {
                        "properties": {
                            "Fridge-Freezer": {
                                "const": "Not Installed"
                            }
                        }
                    }
                ]
            }
        },
        "ColdWaterSource": {
            "type": "object",
            "unevaluatedProperties": false,
            "oneOf": [
                {
                    "required": [
                        "header tank"
                    ],
                    "properties": {
                        "header tank": {
                            "type": "object",
                            "description": "Potentially incomplete - header tank properties were inferred from example input files",
                            "$ref": "#/$defs/HeaderTankOrMainsWater"
                        }
                    }
                },
                {
                    "required": [
                        "mains water"
                    ],
                    "properties": {
                        "mains water": {
                            "type": "object",
                            "description": "Potentially incomplete - mains water properties were inferred from example input files",
                            "$ref": "#/$defs/HeaderTankOrMainsWater"
                        }
                    }
                }
            ]
        },
        "PreHeatedWaterSource": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "preheated tank": {
                    "$ref": "#/$defs/StorageTank",
                    "properties": {
                        "ColdWaterSource": {
                            "type": "string",
                            "reference_to": [
                                "$.cold_water_source",
                                "$.wwhrs"
                            ]
                        }
                    },
                    "required": [
                        "ColdWaterSource"
                    ],
                    "not": {
                        "properties": {
                            "ColdWaterSource": {
                                "const": "preheated tank"
                            }
                        }
                    }
                }
            },
            "required": [
                "preheated tank"
            ]
        },
        "EnergySupply": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "anyOf": [
                    {
                        "$ref": "#/$defs/EnergySupplyGas"
                    },
                    {
                        "$ref": "#/$defs/EnergySupplyElectricity"
                    },
                    {
                        "$ref": "#/$defs/EnergySupplyOther"
                    }
                ]
            }
        },
        "OnSiteGeneration": {
            "type": "object",
            "additionalProperties": {
                "unevaluatedProperties": false,
                "type": "object",
                "required": [
                    "type",
                    "peak_power",
                    "ventilation_strategy",
                    "pitch",
                    "orientation360",
                    "base_height",
                    "height",
                    "width",
                    "EnergySupply",
                    "shading",
                    "inverter_peak_power_dc",
                    "inverter_peak_power_ac",
                    "inverter_is_inside",
                    "inverter_type"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "PhotovoltaicSystem"
                        ]
                    },
                    "peak_power": {
                        "type": "number",
                        "minimum": 0.001,
                        "maximum": 100
                    },
                    "ventilation_strategy": {
                        "enum": [
                            "unventilated",
                            "moderately_ventilated",
                            "strongly_or_forced_ventilated",
                            "rear_surface_free"
                        ]
                    },
                    "pitch": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 90
                    },
                    "orientation360": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 360
                    },
                    "base_height": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 500
                    },
                    "height": {
                        "type": "number",
                        "exclusiveMinimum": 0,
                        "maximum": 100
                    },
                    "width": {
                        "type": "number",
                        "exclusiveMinimum": 0,
                        "maximum": 100
                    },
                    "EnergySupply": {
                        "type": "string"
                    },
                    "shading": {
                        "$ref": "#/$defs/WindowShading"
                    },
                    "inverter_peak_power_dc": {
                        "type": "number",
                        "exclusiveMinimum": 0
                    },
                    "inverter_peak_power_ac": {
                        "type": "number",
                        "exclusiveMinimum": 0
                    },
                    "inverter_is_inside": {
                        "type": "boolean"
                    },
                    "inverter_type": {
                        "enum": [
                            "string_inverter",
                            "optimised_inverter"
                        ]
                    }
                }
            }
        },
        "HotWaterSource": {
            "type": "object",
            "unevaluatedProperties": false,
            "properties": {
                "hw cylinder": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "type"
                    ],
                    "oneOf": [
                        {
                            "allOf": [
                                {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "const": "StorageTank"
                                        }
                                    },
                                    "required": [
                                        "type"
                                    ]
                                },
                                {
                                    "$ref": "#/$defs/StorageTank"
                                }
                            ]
                        },
                        {
                            "$ref": "#/$defs/SmartHotWaterTank"
                        },
                        {
                            "$ref": "#/$defs/PointOfUse"
                        },
                        {
                            "$ref": "#/$defs/HIU"
                        },
                        {
                            "$ref": "#/$defs/CombiBoiler"
                        },
                        {
                            "$ref": "#/$defs/HeatBattery"
                        }
                    ]
                }
            }
        },
        "HeatSourceWet": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "EnergySupply",
                    "is_heat_network"
                ],
                "allOf": [
                    {
                        "oneOf": [
                            {
                                "properties": {
                                    "is_heat_network": {
                                        "const": true
                                    },
                                    "heat_network_type": {
                                        "enum": [
                                            "sleeved DHN",
                                            "unsleeved DHN",
                                            "communal"
                                        ],
                                        "description": "What type of heat network is present?"
                                    },
                                    "EnergySupply": {
                                        "oneOf": [
                                            {
                                                "type": "string"
                                            },
                                            {
                                                "type": "object",
                                                "properties": {
                                                    "name": {
                                                        "type": "string"
                                                    },
                                                    "is_export_capable": {
                                                        "type": "boolean"
                                                    },
                                                    "factor": {
                                                        "type": "object",
                                                        "unevaluatedProperties": false,
                                                        "required": [
                                                            "Emissions Factor kgCO2e/kWh",
                                                            "Emissions Factor kgCO2e/kWh including out-of-scope emissions",
                                                            "Primary Energy Factor kWh/kWh delivered"
                                                        ],
                                                        "properties": {
                                                            "Emissions Factor kgCO2e/kWh": {
                                                                "type": "number"
                                                            },
                                                            "Emissions Factor kgCO2e/kWh including out-of-scope emissions": {
                                                                "type": "number"
                                                            },
                                                            "Primary Energy Factor kWh/kWh delivered": {
                                                                "type": "number"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        ]
                                    }
                                },
                                "required": [
                                    "heat_network_type"
                                ]
                            },
                            {
                                "properties": {
                                    "is_heat_network": {
                                        "const": false
                                    },
                                    "EnergySupply": {
                                        "type": "string"
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "oneOf": [
                            {
                                "$ref": "#/$defs/HeatSourceWetHeatPump"
                            },
                            {
                                "$ref": "#/$defs/HeatSourceWetBoiler"
                            },
                            {
                                "$ref": "#/$defs/HeatSourceWetHeatBattery"
                            },
                            {
                                "$ref": "#/$defs/HeatSourceWetHIU"
                            }
                        ]
                    }
                ]
            }
        },
        "HotWaterDemand": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "Other"
            ],
            "properties": {
                "Shower": {
                    "type": "object",
                    "additionalProperties": {
                        "oneOf": [
                            {
                                "$ref": "#/$defs/MixerShower"
                            },
                            {
                                "$ref": "#/$defs/InstantElecShower"
                            }
                        ]
                    }
                },
                "Bath": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "size",
                            "ColdWaterSource"
                        ],
                        "properties": {
                            "size": {
                                "type": "number",
                                "exclusiveMinimum": 0
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            },
                            "HotWaterSource": {
                                "type": "string"
                            }
                        }
                    }
                },
                "Other": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "flowrate",
                            "ColdWaterSource"
                        ],
                        "properties": {
                            "flowrate": {
                                "type": "number",
                                "minimum": 0.1,
                                "maximum": 15
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            },
                            "HotWaterSource": {
                                "type": "string"
                            }
                        }
                    },
                    "minProperties": 1
                }
            }
        },
        "Events": {
            "type": "object",
            "description": "Potentially incomplete"
        },
        "WWHRS": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "oneOf": [
                    {
                        "properties": {
                            "product_reference": {
                                "description": "A unique reference to a product held within the HEM database (PCDB)",
                                "title": "Reference to the product in the HEM database",
                                "type": "string"
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            }
                        },
                        "required": [
                            "product_reference",
                            "ColdWaterSource"
                        ]
                    },
                    {
                        "required": [
                            "type",
                            "ColdWaterSource",
                            "flow_rates"
                        ],
                        "properties": {
                            "type": {
                                "type": "string",
                                "const": "WWHRS_Instantaneous"
                            },
                            "ColdWaterSource": {
                                "enum": [
                                    "header tank",
                                    "mains water"
                                ]
                            },
                            "flow_rates": {
                                "type": "array",
                                "items": {
                                    "type": "number",
                                    "minimum": 0.1,
                                    "maximum": 500
                                }
                            },
                            "system_a_efficiencies": {
                                "type": "array",
                                "items": {
                                    "exclusiveMinimum": 0,
                                    "maximum": 100,
                                    "type": "number"
                                },
                                "description": "Measured efficiencies for System A at the test flow rates"
                            },
                            "system_a_utilisation_factor": {
                                "type": "number",
                                "maximum": 1,
                                "exclusiveMinimum": 0,
                                "description": "Utilisation factor for System A"
                            },
                            "system_b_efficiencies": {
                                "type": "array",
                                "items": {
                                    "exclusiveMinimum": 0,
                                    "maximum": 100,
                                    "type": "number"
                                },
                                "description": "Measured efficiencies for System B (optional, uses system_b_efficiency_factor if not provided)"
                            },
                            "system_b_efficiency_factor": {
                                "type": "number",
                                "maximum": 1,
                                "exclusiveMinimum": 0,
                                "description": "Reduction factor for System B efficiency (default 0.81)"
                            },
                            "system_b_utilisation_factor": {
                                "type": "number",
                                "maximum": 1,
                                "exclusiveMinimum": 0,
                                "description": "Utilisation factor for System B (optional, defaults to system_a_utilisation_factor)"
                            },
                            "system_c_efficiencies": {
                                "type": "array",
                                "items": {
                                    "exclusiveMinimum": 0,
                                    "maximum": 100,
                                    "type": "number"
                                },
                                "description": "Measured efficiencies for System C (optional, uses system_c_efficiency_factor if not provided)"
                            },
                            "system_c_efficiency_factor": {
                                "type": "number",
                                "maximum": 1,
                                "exclusiveMinimum": 0,
                                "description": "Reduction factor for System C efficiency (default 0.87)"
                            },
                            "system_c_utilisation_factor": {
                                "type": "number",
                                "maximum": 1,
                                "exclusiveMinimum": 0,
                                "description": "Utilisation factor for System C (optional, defaults to system_a_utilisation_factor)"
                            }
                        },
                        "anyOf": [
                            {
                                "required": [
                                    "system_a_efficiencies"
                                ]
                            },
                            {
                                "required": [
                                    "system_b_efficiencies"
                                ]
                            },
                            {
                                "required": [
                                    "system_c_efficiencies"
                                ]
                            }
                        ]
                    }
                ]
            }
        },
        "SpaceHeatSystem": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "oneOf": [
                    {
                        "$ref": "#/$defs/ElecStorageHeater"
                    },
                    {
                        "$ref": "#/$defs/ElecStorageHeaterWithProductReference"
                    },
                    {
                        "$ref": "#/$defs/InstantElecHeater"
                    },
                    {
                        "$ref": "#/$defs/WetDistribution"
                    },
                    {
                        "$ref": "#/$defs/WarmAir"
                    }
                ]
            }
        },
        "SpaceCoolSystem": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "cooling_capacity",
                    "efficiency",
                    "frac_convective",
                    "EnergySupply"
                ],
                "properties": {
                    "type": {
                        "enum": [
                            "AirConditioning"
                        ]
                    },
                    "cooling_capacity": {
                        "type": "number",
                        "exclusiveMinimum": 0
                    },
                    "efficiency": {
                        "type": "number",
                        "exclusiveMinimum": 0,
                        "maximum": 25
                    },
                    "frac_convective": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 1
                    },
                    "EnergySupply": {
                        "type": "string"
                    },
                    "advanced_start": {
                        "type": "number"
                    },
                    "temp_setback": {
                        "type": "number"
                    }
                }
            }
        },
        "General": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "storeys_in_dwelling"
            ],
            "properties": {
                "storeys_in_dwelling": {
                    "type": "integer",
                    "minimum": 1,
                    "description": "Number of storeys within this dwelling"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "build_type",
                        "storey_of_dwelling",
                        "storeys_in_building"
                    ],
                    "properties": {
                        "build_type": {
                            "const": "flat"
                        },
                        "storey_of_dwelling": {
                            "type": "integer",
                            "minimum": -50,
                            "maximum": 199,
                            "description": "What storey of the main building is the flat on? For multi-story flats, enter the lowest storey the unit occupies"
                        },
                        "storeys_in_building": {
                            "type": "integer",
                            "minimum": 1,
                            "description": "Number of storeys, within the entire building, that contain dwellings. This should be greater than or equal to storeys_in_dwelling."
                        }
                    }
                },
                {
                    "required": [
                        "build_type"
                    ],
                    "properties": {
                        "build_type": {
                            "const": "house"
                        }
                    }
                }
            ]
        },
        "InfiltrationVentilation": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "shield_class",
                "terrain_class",
                "ventilation_zone_base_height",
                "altitude",
                "noise_nuisance",
                "Vents",
                "Leaks"
            ],
            "properties": {
                "shield_class": {
                    "enum": [
                        "Open",
                        "Normal",
                        "Shielded"
                    ]
                },
                "terrain_class": {
                    "enum": [
                        "OpenWater",
                        "OpenField",
                        "Suburban",
                        "Urban"
                    ]
                },
                "ventilation_zone_base_height": {
                    "type": "number",
                    "minimum": -150,
                    "maximum": 750
                },
                "altitude": {
                    "type": "number",
                    "minimum": -150,
                    "maximum": 7200
                },
                "ach_min_static_calcs": {
                    "type": "number",
                    "minimum": 0
                },
                "ach_max_static_calcs": {
                    "type": "number",
                    "minimum": 0
                },
                "noise_nuisance": {
                    "type": "boolean"
                },
                "Vents": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "mid_height_air_flow_path",
                            "area_cm2",
                            "orientation360",
                            "pitch"
                        ],
                        "properties": {
                            "mid_height_air_flow_path": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 60
                            },
                            "area_cm2": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 999999
                            },
                            "orientation360": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 360
                            },
                            "pitch": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 180
                            }
                        }
                    }
                },
                "Leaks": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "ventilation_zone_height",
                        "test_pressure",
                        "test_result",
                        "env_area"
                    ],
                    "properties": {
                        "ventilation_zone_height": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 120
                        },
                        "test_pressure": {
                            "enum": [
                                "Standard",
                                "Pulse test only"
                            ]
                        },
                        "test_result": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "env_area": {
                            "type": "number",
                            "minimum": 5,
                            "maximum": 72000
                        }
                    }
                },
                "MechanicalVentilation": {
                    "type": "object",
                    "additionalProperties": {
                        "oneOf": [
                            {
								"type": "object",
								"required": [
									"sup_air_flw_ctrl",
									"sup_air_temp_ctrl",
									"product_reference",
									"EnergySupply",
									"installed_under_approved_scheme"
								],
								"properties": {
									"sup_air_flw_ctrl": {
										"enum": [
											"ODA"
										]
									},
									"sup_air_temp_ctrl": {
										"enum": [
											"NO_CTRL"
										]
									},
									"design_zone_cooling_covered_by_mech_vent": {
										"type": "number"
									},
									"design_zone_heating_covered_by_mech_vent": {
										"type": "number"
									},
									"product_reference": {
										"description": "A unique reference to a product held within the HEM database (PCDB)",
										"title": "Reference to the product in the HEM database",
										"type": "string"
									},
									"EnergySupply": {
										"type": "string"
									},
									"design_outdoor_air_flow_rate": {
										"type": "number",
										"exclusiveMinimum": 0,
										"description": "Design outdoor air flow rate (m3/hr)"
									},
									"installed_under_approved_scheme": {
										"type": "boolean",
										"description": "Whether or not this system was installed under an approved installation scheme"
									}
								},
								"oneOf": [
									{
										"required": [
											"vent_type",
											"mvhr_location",
											"ductwork",
											"position_intake",
											"position_exhaust",
											"measured_fan_power",
											"measured_air_flow_rate"
										],
										"properties": {
											"vent_type": {
												"const": "MVHR"
											},
											"mvhr_location": {
												"enum": [
													"inside",
													"outside"
												]
											},
											"ductwork": {
												"type": "array",
												"items": {
													"type": "object",
													"unevaluatedProperties": false,
													"required": [
														"cross_section_shape",
														"internal_diameter_mm",
														"external_diameter_mm",
														"length",
														"insulation_thermal_conductivity",
														"insulation_thickness_mm",
														"reflective",
														"duct_type"
													],
													"properties": {
														"cross_section_shape": {
															"enum": [
																"circular",
																"rectangular"
															]
														},
														"internal_diameter_mm": {
															"type": "number",
															"minimum": 0,
															"maximum": 1000
														},
														"external_diameter_mm": {
															"type": "number",
															"minimum": 0,
															"maximum": 1000
														},
														"length": {
															"type": "number",
															"minimum": 0
														},
														"insulation_thermal_conductivity": {
															"type": "number",
															"minimum": 0
														},
														"insulation_thickness_mm": {
															"type": "number",
															"minimum": 0,
															"maximum": 100
														},
														"reflective": {
															"type": "boolean"
														},
														"duct_type": {
															"enum": [
																"supply",
																"extract",
																"intake",
																"exhaust"
															]
														}
													}
												}
											},
											"position_intake": {
												"type": "object",
												"properties": {
													"mid_height_air_flow_path": {
														"type": "number",
														"minimum": 1,
														"maximum": 60,
														"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
													},
													"orientation360": {
														"type": "number",
														"minimum": 0,
														"maximum": 360,
														"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
													},
													"pitch": {
														"type": "number",
														"minimum": 0,
														"maximum": 180,
														"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
													}
												}
											},
											"position_exhaust": {
												"type": "object",
												"properties": {
													"mid_height_air_flow_path": {
														"type": "number",
														"minimum": 1,
														"maximum": 60,
														"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
													},
													"orientation360": {
														"type": "number",
														"minimum": 0,
														"maximum": 360,
														"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
													},
													"pitch": {
														"type": "number",
														"minimum": 0,
														"maximum": 180,
														"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
													}
												}
											},
											"measured_fan_power": {
												"type": "number"
											},
											"measured_air_flow_rate": {
												"type": "number"
											}
										}
									},
									{
										"required": [
											"vent_type",
											"installation_type",
											"installation_location"
										],
										"properties": {
											"vent_type": {
												"type": "string",
												"const": "Decentralised continuous MEV"
											},
											"installation_type": {
												"type": "string",
												"enum": [
													"in_ceiling",
													"in_duct",
													"through_wall"
												]
											},
											"installation_location": {
												"type": "string",
												"enum": [
													"kitchen",
													"other_wet_room"
												],
												"description": "Whether the system is installed in a kitchen or in another wet room that is not a kitchen"
											}
										},
										"oneOf": [
											{
												"required": [
													"vent_type",
													"mid_height_air_flow_path",
													"orientation360",
													"pitch"
												],
												"properties": {
													"mid_height_air_flow_path": {
														"type": "number",
														"minimum": 1,
														"maximum": 60,
														"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
													},
													"orientation360": {
														"type": "number",
														"minimum": 0,
														"maximum": 360,
														"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
													},
													"pitch": {
														"type": "number",
														"minimum": 0,
														"maximum": 180,
														"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
													}
												}
											},
											{
												"required": [
													"position_exhaust"
												],
												"properties": {
													"position_exhaust": {
														"type": "object",
														"properties": {
															"mid_height_air_flow_path": {
																"type": "number",
																"minimum": 1,
																"maximum": 60,
																"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
															},
															"orientation360": {
																"type": "number",
																"minimum": 0,
																"maximum": 360,
																"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
															},
															"pitch": {
																"type": "number",
																"minimum": 0,
																"maximum": 180,
																"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
															}
														}
													}
												}
											}
										]
									},
									{
										"required": [
											"vent_type",
											"measured_fan_power",
											"measured_air_flow_rate"
										],
										"properties": {
											"vent_type": {
												"const": "Centralised continuous MEV"
											},
											"measured_fan_power": {
												"type": "number"
											},
											"measured_air_flow_rate": {
												"type": "number"
											}
										},
										"oneOf": [
											{
												"required": [
													"mid_height_air_flow_path",
													"orientation360",
													"pitch"
												],
												"properties": {
													"mid_height_air_flow_path": {
														"type": "number",
														"minimum": 1,
														"maximum": 60,
														"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
													},
													"orientation360": {
														"type": "number",
														"minimum": 0,
														"maximum": 360,
														"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
													},
													"pitch": {
														"type": "number",
														"minimum": 0,
														"maximum": 180,
														"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
													}
												}
											},
											{
												"required": [
													"position_exhaust"
												],
												"properties": {
													"position_exhaust": {
														"type": "object",
														"properties": {
															"mid_height_air_flow_path": {
																"type": "number",
																"minimum": 1,
																"maximum": 60,
																"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
															},
															"orientation360": {
																"type": "number",
																"minimum": 0,
																"maximum": 360,
																"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
															},
															"pitch": {
																"type": "number",
																"minimum": 0,
																"maximum": 180,
																"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
															}
														}
													}
												}
											}
										]
									},
									{
										"required": [
											"vent_type"
										],
										"properties": {
											"vent_type": {
												"type": "string",
												"const": "Intermittent MEV"
											}
										},
										"oneOf": [
											{
												"required": [
													"vent_type",
													"mid_height_air_flow_path",
													"orientation360",
													"pitch"
												],
												"properties": {
													"mid_height_air_flow_path": {
														"type": "number",
														"minimum": 1,
														"maximum": 60,
														"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
													},
													"orientation360": {
														"type": "number",
														"minimum": 0,
														"maximum": 360,
														"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
													},
													"pitch": {
														"type": "number",
														"minimum": 0,
														"maximum": 180,
														"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
													}
												}
											},
											{
												"required": [
													"position_exhaust"
												],
												"properties": {
													"position_exhaust": {
														"type": "object",
														"properties": {
															"mid_height_air_flow_path": {
																"type": "number",
																"minimum": 1,
																"maximum": 60,
																"description": "Mid height of air flow path relative to ventilation zone (unit: m)"
															},
															"orientation360": {
																"type": "number",
																"minimum": 0,
																"maximum": 360,
																"description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
															},
															"pitch": {
																"type": "number",
																"minimum": 0,
																"maximum": 180,
																"description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
															}
														}
													}
												}
											}
										]
									}
								]
							},
                            {
                                "type": "object",
                                "unevaluatedProperties": false,
                                "oneOf": [
                                    {
                                        "$ref": "#/$defs/MechVentMVHR"
                                    },
                                    {
                                        "$ref": "#/$defs/MechVentDecentralisedContinuousMEV"
                                    },
                                    {
                                        "$ref": "#/$defs/MechVentIntermittentMEV"
                                    },
                                    {
                                        "$ref": "#/$defs/MechVentCentralisedContinuousMEV"
                                    }
                                ]
                            }
                        ]
                    }
                }
            }
        },
        "Zone": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "livingroom_area",
                    "restofdwelling_area",
                    "volume",
                    "Lighting",
                    "BuildingElement",
                    "ThermalBridging"
                ],
                "properties": {
                    "SpaceHeatSystem": {
                        "type": [
                            "string",
                            "array"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "SpaceCoolSystem": {
                        "type": [
                            "string",
                            "array"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "livingroom_area": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 10000
                    },
                    "restofdwelling_area": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 10000
                    },
                    "volume": {
                        "type": "number",
                        "minimum": 0,
                        "maximum": 50000
                    },
                    "Lighting": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "bulbs"
                        ],
                        "properties": {
                            "bulbs": {
                                "type": "array",
                                "minItems": 1,
                                "items": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "required": [
                                        "count",
                                        "power",
                                        "efficacy"
                                    ],
                                    "properties": {
                                        "count": {
                                            "type": "integer",
                                            "minimum": 1
                                        },
                                        "power": {
                                            "type": "number",
                                            "minimum": 0
                                        },
                                        "efficacy": {
                                            "type": "number",
                                            "minimum": 0
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "BuildingElement": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "anyOf": [
                                {
                                    "required": [
                                        "thermal_resistance_construction"
                                    ],
                                    "properties": {
                                        "thermal_resistance_construction": {
                                            "type": "number",
                                            "minimum": 0.01,
                                            "maximum": 50
                                        },
                                        "u_value": {
                                            "type": "number",
                                            "minimum": 0.01,
                                            "maximum": 10
                                        }
                                    }
                                },
                                {
                                    "required": [
                                        "u_value"
                                    ],
                                    "properties": {
                                        "thermal_resistance_construction": {
                                            "type": "number",
                                            "minimum": 0.01,
                                            "maximum": 50
                                        },
                                        "u_value": {
                                            "type": "number",
                                            "minimum": 0.01,
                                            "maximum": 10
                                        }
                                    }
                                }
                            ],
                            "oneOf": [
                                {
                                    "$ref": "#/$defs/BuildingElementAdjacentConditionedSpace"
                                },
                                {
                                    "$ref": "#/$defs/BuildingElementAdjacentUnconditionedSpace_Simple"
                                },
                                {
                                    "$ref": "#/$defs/BuildingElementGround"
                                },
                                {
                                    "$ref": "#/$defs/BuildingElementOpaque"
                                },
                                {
                                    "$ref": "#/$defs/BuildingElementTransparent"
                                },
                                {
                                    "$ref": "#/$defs/BuildingElementPartyWall"
                                }
                            ]
                        }
                    },
                    "ThermalBridging": {
                        "type": [
                            "object",
                            "number"
                        ],
                        "additionalProperties": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "oneOf": [
                                {
                                    "$ref": "#/$defs/ThermalBridgeLinear"
                                },
                                {
                                    "$ref": "#/$defs/ThermalBridgePoint"
                                }
                            ]
                        }
                    }
                }
            },
            "minProperties": 1,
            "maxProperties": 1
        }
    },
    "if": {
        "properties": {
            "PartO_active_cooling_required": {
                "const": true
            }
        }
    },
    "then": {
        "properties": {
            "Zone": {
                "type": "object",
                "additionalProperties": {
                    "required": [
                        "SpaceCoolSystem"
                    ]
                }
            }
        }
    },
    "required": [
        "PartGcompliance",
        "BuildingLength",
        "BuildingWidth",
        "NumberOfBedrooms",
        "NumberOfTappedRooms",
        "NumberOfUtilityRooms",
        "NumberOfBathrooms",
        "NumberOfSanitaryAccommodations",
        "NumberOfHabitableRooms",
        "HeatingControlType",
        "KitchenExtractorHoodExternal",
        "ExternalConditions",
        "Appliances",
        "ColdWaterSource",
        "EnergySupply",
        "HotWaterSource",
        "Events",
        "SpaceHeatSystem",
        "General",
        "InfiltrationVentilation",
        "Zone"
    ],
    "$defs": {
        "MassDistributionClass": {
            "enum": [
                "I: Mass concentrated at internal side",
                "E: Mass concentrated at external side",
                "IE: Mass divided over internal and external side",
                "D: Mass equally distributed",
                "M: Mass concentrated inside"
            ],
            "title": "MassDistributionClass",
            "type": "string"
        },
        "ApplianceValueDefault": {
            "type": "string",
            "enum": [
                "Not Installed",
                "Default"
            ],
            "default": "Default"
        },
        "ApplianceValue": {
            "type": "string",
            "enum": [
                "Not Installed",
                "Default"
            ]
        },
        "HeaderTankOrMainsWater": {
            "required": [
                "start_day",
                "temperatures",
                "time_series_step"
            ],
            "properties": {
                "start_day": {
                    "type": "integer"
                },
                "temperatures": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "time_series_step": {
                    "type": "integer"
                }
            }
        },
        "EnergySupplyGas": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "enum": [
                        "mains_gas"
                    ]
                }
            }
        },
        "EnergySupplyElectricity": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "const": "electricity"
                },
                "priority": {
                    "type": "array",
                    "items": {
                        "enum": [
                            "ElectricBattery",
                            "diverter"
                        ]
                    }
                },
                "is_export_capable": {
                    "type": "boolean"
                },
                "diverter": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "HeatSource"
                    ],
                    "properties": {
                        "HeatSource": {
                            "type": "string"
                        }
                    }
                },
                "ElectricBattery": {
                    "type": "object",
                    "$ref": "#/$defs/ElectricBattery"
                }
            }
        },
        "ElectricBattery": {
            "required": [
                "capacity",
                "charge_discharge_efficiency_round_trip",
                "minimum_charge_rate_one_way_trip",
                "maximum_charge_rate_one_way_trip",
                "maximum_discharge_rate_one_way_trip",
                "battery_location"
            ],
            "properties": {
                "capacity": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 50
                },
                "charge_discharge_efficiency_round_trip": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 1
                },
                "minimum_charge_rate_one_way_trip": {
                    "type": "number",
                    "minimum": 0
                },
                "maximum_charge_rate_one_way_trip": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "maximum_discharge_rate_one_way_trip": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "battery_location": {
                    "enum": [
                        "inside",
                        "outside"
                    ]
                }
            }
        },
        "EnergySupplyElectricityCommon": {
            "required": [
                "fuel"
            ],
            "properties": {
                "fuel": {
                    "const": "electricity"
                },
                "priority": {
                    "enum": [
                        "ElectricBattery",
                        "diverter"
                    ]
                },
                "is_export_capable": {
                    "type": "boolean"
                },
                "diverter": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "HeatSource"
                    ],
                    "properties": {
                        "StorageTank": {
                            "type": "string"
                        },
                        "HeatSource": {
                            "type": "string"
                        },
                        "Controlmax": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "EnergySupplyOther": {
            "required": [
                "fuel",
                "is_export_capable"
            ],
            "properties": {
                "fuel": {
                    "enum": [
                        "LPG_bulk",
                        "LPG_bottled",
                        "LPG_condition_11F"
                    ]
                },
                "is_export_capable": {
                    "type": "boolean"
                }
            }
        },
        "HotWaterTankHeatSourceCommon": {
            "required": [
                "heater_position"
            ],
            "properties": {
                "heater_position": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "thermostat_position": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                }
            }
        },
        "ImmersionHeater": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "power",
                        "EnergySupply"
                    ],
                    "properties": {
                        "type": {
                            "const": "ImmersionHeater"
                        },
                        "power": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 10
                        },
                        "EnergySupply": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "SolarThermalSystem": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "sol_loc",
                        "area_module",
                        "modules",
                        "peak_collector_efficiency",
                        "incidence_angle_modifier",
                        "first_order_hlc",
                        "second_order_hlc",
                        "collector_mass_flow_rate",
                        "power_pump",
                        "power_pump_control",
                        "EnergySupply",
                        "tilt",
                        "orientation360",
                        "solar_loop_piping_hlc"
                    ],
                    "properties": {
                        "type": {
                            "const": "SolarThermalSystem"
                        },
                        "sol_loc": {
                            "enum": [
                                "OUT",
                                "NHS",
                                "HS"
                            ]
                        },
                        "area_module": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "modules": {
                            "type": "integer",
                            "minimum": 1
                        },
                        "peak_collector_efficiency": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "incidence_angle_modifier": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "maximum": 1
                        },
                        "first_order_hlc": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "maximum": 100
                        },
                        "second_order_hlc": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 10
                        },
                        "collector_mass_flow_rate": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "power_pump": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 2
                        },
                        "power_pump_control": {
                            "type": "number",
                            "minimum": 0
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "tilt": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 90
                        },
                        "orientation360": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 360
                        },
                        "solar_loop_piping_hlc": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                }
            ]
        },
        "HeatSourceWet": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply",
                        "name"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatSourceWet"
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        },
                        "temp_flow_limit_upper": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                }
            ]
        },
        "HeatPump_HWOnly": {
            "description": "A possible heat source for a hot water tank",
            "allOf": [
                {
                    "$ref": "#/$defs/HotWaterTankHeatSourceCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply",
                        "power_max",
                        "tank_volume_declared",
                        "heat_exchanger_surface_area_declared",
                        "daily_losses_declared",
                        "in_use_factor_mismatch",
                        "test_data"
                    ],
                    "properties": {
                        "type": {
                            "const": "HeatPump_HWOnly"
                        },
                        "EnergySupply": {
                            "type": "string"
                        },
                        "power_max": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "tank_volume_declared": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "heat_exchanger_surface_area_declared": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "daily_losses_declared": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "in_use_factor_mismatch": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "test_data": {
                            "type": "object",
                            "unevaluatedProperties": false,
                            "properties": {
                                "M": {
                                    "$ref": "#/$defs/HeatPump_HWOnlyTestData"
                                },
                                "L": {
                                    "$ref": "#/$defs/HeatPump_HWOnlyTestData"
                                }
                            }
                        }
                    }
                }
            ]
        },
        "HeatPump_HWOnlyTestData": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "cop_dhw",
                "hw_tapping_prof_daily_total",
                "energy_input_measured",
                "power_standby",
                "hw_vessel_loss_daily"
            ],
            "properties": {
                "cop_dhw": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "hw_tapping_prof_daily_total": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "energy_input_measured": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "power_standby": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "hw_vessel_loss_daily": {
                    "type": "number",
                    "exclusiveMinimum": 0
                }
            }
        },
        "StorageTank": {
            "$ref": "#/$defs/Tank",
            "properties": {
                "HeatSource": {
                    "additionalProperties": {
                        "required": [
                            "thermostat_position"
                        ]
                    }
                }
            }
        },
        "Tank": {
            "required": [
                "ColdWaterSource",
                "volume",
                "daily_losses",
                "HeatSource"
            ],
            "properties": {
                "ColdWaterSource": {
                    "type": "string",
                    "reference_to": [
                        "$.cold_water_source",
                        "$.pre_heated_water_source",
                        "$.wwhrs"
                    ]
                },
                "volume": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 1000
                },
                "init_temp": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 100
                },
                "daily_losses": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 200
                },
                "primary_pipework": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "location",
                            "internal_diameter_mm",
                            "external_diameter_mm",
                            "length",
                            "insulation_thermal_conductivity",
                            "insulation_thickness_mm",
                            "surface_reflectivity",
                            "pipe_contents"
                        ],
                        "properties": {
                            "location": {
                                "enum": [
                                    "internal",
                                    "external"
                                ]
                            },
                            "internal_diameter_mm": {
                                "type": "number",
                                "minimum": 5,
                                "maximum": 50
                            },
                            "external_diameter_mm": {
                                "type": "number",
                                "minimum": 5,
                                "maximum": 50
                            },
                            "length": {
                                "type": "number",
                                "minimum": 0.05
                            },
                            "insulation_thermal_conductivity": {
                                "type": "number",
                                "exclusiveMinimum": 0
                            },
                            "insulation_thickness_mm": {
                                "type": "number",
                                "minimum": 0
                            },
                            "surface_reflectivity": {
                                "type": "boolean"
                            },
                            "pipe_contents": {
                                "enum": [
                                    "water",
                                    "glycol25"
                                ]
                            }
                        }
                    }
                },
                "HeatSource": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "oneOf": [
                            {
                                "$ref": "#/$defs/ImmersionHeater"
                            },
                            {
                                "$ref": "#/$defs/SolarThermalSystem"
                            },
                            {
                                "$ref": "#/$defs/HeatSourceWet"
                            },
                            {
                                "$ref": "#/$defs/HeatPump_HWOnly"
                            }
                        ]
                    }
                },
                "heat_exchanger_surface_area": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "description": "Required if HeatSource type is HeatPump_HWOnly"
                }
            }
        },
        "SmartHotWaterTank": {
            "description": "A possible hot water source",
            "allOf": [
                {
                    "required": [
                        "type",
                        "EnergySupply_pump"
                    ],
                    "properties": {
                        "type": {
                            "const": "SmartHotWaterTank"
                        },
                        "EnergySupply_pump": {
                            "type": "string"
                        },
                        "ColdWaterSource": {
                            "enum": [
                                "header tank",
                                "mains water"
                            ]
                        }
                    }
                },
                {
                    "oneOf": [
                        {
                            "required": [
                                "product_reference",
                                "HeatSource"
                            ],
                            "properties": {
                                "product_reference": {
                                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                                    "title": "Reference to the product in the HEM database",
                                    "type": "string"
                                },
                                "init_temp": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 100
                                },
                                "primary_pipework": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "unevaluatedProperties": false,
                                        "required": [
                                            "location",
                                            "internal_diameter_mm",
                                            "external_diameter_mm",
                                            "length",
                                            "insulation_thermal_conductivity",
                                            "insulation_thickness_mm",
                                            "surface_reflectivity",
                                            "pipe_contents"
                                        ],
                                        "properties": {
                                            "location": {
                                                "enum": [
                                                    "internal",
                                                    "external"
                                                ]
                                            },
                                            "internal_diameter_mm": {
                                                "type": "number",
                                                "minimum": 5,
                                                "maximum": 50
                                            },
                                            "external_diameter_mm": {
                                                "type": "number",
                                                "minimum": 5,
                                                "maximum": 50
                                            },
                                            "length": {
                                                "type": "number",
                                                "minimum": 0.05
                                            },
                                            "insulation_thermal_conductivity": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "insulation_thickness_mm": {
                                                "type": "number",
                                                "minimum": 0
                                            },
                                            "surface_reflectivity": {
                                                "type": "boolean"
                                            },
                                            "pipe_contents": {
                                                "enum": [
                                                    "water",
                                                    "glycol25"
                                                ]
                                            }
                                        }
                                    }
                                },
                                "HeatSource": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "object",
                                        "unevaluatedProperties": false,
                                        "oneOf": [
                                            {
                                                "$ref": "#/$defs/ImmersionHeater"
                                            },
                                            {
                                                "$ref": "#/$defs/SolarThermalSystem"
                                            },
                                            {
                                                "$ref": "#/$defs/HeatSourceWet"
                                            },
                                            {
                                                "$ref": "#/$defs/HeatPump_HWOnly"
                                            }
                                        ]
                                    }
                                }
                            }
                        },
                        {
                            "$ref": "#/$defs/Tank",
                            "properties": {
                                "EnergySupply_pump": {
                                    "type": "string"
                                },
                                "max_flow_rate_pump_l_per_min": {
                                    "type": "number",
                                    "exclusiveMinimum": 0
                                },
                                "power_pump_kW": {
                                    "type": "number",
                                    "exclusiveMinimum": 0
                                },
                                "temp_usable": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                }
                            },
                            "required": [
                                "EnergySupply_pump",
                                "max_flow_rate_pump_l_per_min",
                                "power_pump_kW",
                                "temp_usable"
                            ]
                        }
                    ]
                }
            ]
        },
        "PointOfUse": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "ColdWaterSource",
                "efficiency",
                "EnergySupply"
            ],
            "properties": {
                "type": {
                    "const": "PointOfUse"
                },
                "efficiency": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 1
                },
                "EnergySupply": {
                    "type": "string"
                },
                "ColdWaterSource": {
                    "enum": [
                        "header tank",
                        "mains water"
                    ]
                }
            }
        },
        "HIU": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "HeatSourceWet",
                "ColdWaterSource"
            ],
            "properties": {
                "type": {
                    "const": "HIU"
                },
                "ColdWaterSource": {
                    "enum": [
                        "header tank",
                        "mains water"
                    ]
                },
                "HeatSourceWet": {
                    "type": "string"
                }
            }
        },
        "CombiBoiler": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "ColdWaterSource",
                "HeatSourceWet",
                "daily_HW_usage",
                "separate_DHW_tests",
                "rejected_energy_1"
            ],
            "properties": {
                "type": {
                    "const": "CombiBoiler"
                },
                "ColdWaterSource": {
                    "enum": [
                        "header tank",
                        "mains water"
                    ]
                },
                "HeatSourceWet": {
                    "description": "References a key (e.g., 'boiler', 'hp', 'HeatNetwork', 'hb1') in $.HeatSourceWet",
                    "reference_to": "$.heat_source_wet",
                    "title": "Heatsourcewet",
                    "type": "string"
                },
                "separate_DHW_tests": {
                    "enum": [
                        "M&L",
                        "M&S",
                        "M_only",
                        "No_additional_tests"
                    ],
                    "description": "Type of separate domestic hot water test performed on the combi boiler (M&L, M&S, M_only, or No_additional_tests)"
                },
                "rejected_energy_1": {
                    "anyOf": [
                        {
                            "exclusiveMinimum": 0,
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Rejected energy factor 1 for combi boiler efficiency calculations (unit: kWh)",
                    "title": "Rejected Energy 1"
                },
                "rejected_factor_3": {
                    "anyOf": [
                        {
                            "minimum": 0,
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Rejected energy factor 3 for combi boiler efficiency calculations (dimensionless)",
                    "title": "Rejected Factor 3"
                },
                "storage_loss_factor_1": {
                    "anyOf": [
                        {
                            "exclusiveMinimum": 0,
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Storage loss factor 1 for combi boiler efficiency calculations (unit: kWh/day)",
                    "title": "Storage Loss Factor 1"
                },
                "storage_loss_factor_2": {
                    "anyOf": [
                        {
                            "exclusiveMinimum": 0,
                            "type": "number"
                        },
                        {
                            "type": "null"
                        }
                    ],
                    "default": null,
                    "description": "Storage loss factor 2 for combi boiler efficiency calculations (dimensionless)",
                    "title": "Storage Loss Factor 2"
                },
                "daily_HW_usage": {
                    "description": "Daily hot water usage for the combi boiler system (unit: litre/day)",
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "title": "Daily Hw Usage"
                }
            }
        },
        "HeatBattery": {
            "description": "A possible hot water source",
            "required": [
                "type",
                "HeatSourceWet"
            ],
            "properties": {
                "type": {
                    "const": "HeatBattery"
                },
                "HeatSourceWet": {
                    "type": "string"
                },
                "ColdWaterSource": {
                    "enum": [
                        "header tank",
                        "mains water"
                    ]
                }
            }
        },
        "HeatSourceWetCommon": {
            "required": [
                "type",
                "EnergySupply"
            ],
            "properties": {
                "type": {
                    "enum": [
                        "HeatPump",
                        "Boiler",
                        "HIU",
                        "HeatBattery"
                    ]
                },
                "EnergySupply": {
                    "type": "string"
                }
            }
        },
        "HeatSourceWetHeatPump": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "anyOf": [
                        {
                            "properties": {
                                "product_reference": {
                                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                                    "title": "Reference to the product in the HEM database",
                                    "type": "string"
                                },
                                "type": {
                                    "const": "HeatPump",
                                    "title": "Type",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "type",
                                "product_reference"
                            ],
                            "title": "HeatSourceWetHeatPumpWithProductReference",
                            "type": "object"
                        },
                        {
                            "required": [
                                "type",
                                "source_type",
                                "sink_type",
                                "backup_ctrl_type",
                                "modulating_control",
                                "temp_lower_operating_limit",
                                "min_temp_diff_flow_return_for_hp_to_operate",
                                "var_flow_temp_ctrl_during_test",
                                "power_source_circ_pump",
                                "power_standby",
                                "power_crankcase_heater",
                                "power_off",
                                "test_data_EN14825",
                                "time_constant_onoff_operation"
                            ],
                            "properties": {
                                "type": {
                                    "const": "HeatPump"
                                },
                                "source_type": {
                                    "enum": [
                                        "Ground",
                                        "OutsideAir",
                                        "ExhaustAirMEV",
                                        "ExhaustAirMVHR",
                                        "ExhaustAirMixed",
                                        "WaterGround",
                                        "WaterSurface",
                                        "HeatNetwork"
                                    ]
                                },
                                "sink_type": {
                                    "enum": [
                                        "Air",
                                        "Water",
                                        "Glycol25"
                                    ]
                                },
                                "backup_ctrl_type": {
                                    "enum": [
                                        "None",
                                        "TopUp",
                                        "Substitute"
                                    ]
                                },
                                "modulating_control": {
                                    "type": "boolean"
                                },
                                "min_modulation_rate_20": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "min_modulation_rate_35": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "min_modulation_rate_55": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "temp_return_feed_max": {
                                    "type": "number",
                                    "minimum": 4,
                                    "maximum": 80
                                },
                                "temp_lower_operating_limit": {
                                    "type": "number",
                                    "minimum": -30,
                                    "maximum": 0
                                },
                                "min_temp_diff_flow_return_for_hp_to_operate": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 50
                                },
                                "var_flow_temp_ctrl_during_test": {
                                    "type": "boolean"
                                },
                                "power_heating_circ_pump": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "power_source_circ_pump": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 1
                                },
                                "power_standby": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "power_crankcase_heater": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "power_off": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "BufferTank": {
                                    "type": "object",
                                    "unevaluatedProperties": false,
                                    "properties": {
                                        "daily_losses": {
                                            "type": "number",
                                            "exclusiveMinimum": 0
                                        },
                                        "pump_fixed_flow_rate": {
                                            "type": "number",
                                            "exclusiveMinimum": 0
                                        },
                                        "pump_power_at_flow_rate": {
                                            "type": "number",
                                            "exclusiveMinimum": 0
                                        },
                                        "volume": {
                                            "type": "number",
                                            "exclusiveMinimum": 0
                                        }
                                    },
                                    "required": [
                                        "daily_losses",
                                        "pump_fixed_flow_rate",
                                        "pump_power_at_flow_rate",
                                        "volume"
                                    ]
                                },
                                "boiler": {
                                    "unevaluatedProperties": false,
                                    "description": "Boiler used as backup for heat pump systems",
                                    "properties": {
                                        "EnergySupply": {
                                            "description": "References a key (e.g., 'mains elec', 'mains gas') in $.EnergySupply",
                                            "reference_to": "$.energy_supply",
                                            "title": "Energysupply",
                                            "type": "string"
                                        },
                                        "EnergySupply_aux": {
                                            "description": "References a key in $.EnergySupply for auxiliary electrical power",
                                            "reference_to": "$.energy_supply",
                                            "title": "Energysupply Aux",
                                            "type": "string"
                                        },
                                        "boiler_location": {
                                            "description": "Location of the boiler (internal or external to the building)",
                                            "enum": [
                                                "internal",
                                                "external"
                                            ],
                                            "title": "HeatSourceLocation",
                                            "type": "string"
                                        },
                                        "efficiency_full_load": {
                                            "description": "Boiler net efficiency at full load (dimensionless, 0-1)",
                                            "maximum": 1,
                                            "minimum": 0,
                                            "title": "Efficiency Full Load",
                                            "type": "number"
                                        },
                                        "efficiency_part_load": {
                                            "description": "Boiler net efficiency at part load (dimensionless, 0-1.12). Net efficiencies may exceed 1 in test data.",
                                            "exclusiveMinimum": 0,
                                            "maximum": 1.12,
                                            "title": "Efficiency Part Load",
                                            "type": "number"
                                        },
                                        "electricity_circ_pump": {
                                            "description": "Electrical power consumption of circulation pump (unit: kW)",
                                            "minimum": 0,
                                            "title": "Electricity Circ Pump",
                                            "type": "number"
                                        },
                                        "electricity_full_load": {
                                            "description": "Electrical power consumption at full load (unit: kW)",
                                            "minimum": 0,
                                            "title": "Electricity Full Load",
                                            "type": "number"
                                        },
                                        "electricity_part_load": {
                                            "description": "Electrical power consumption at part load (unit: kW)",
                                            "minimum": 0,
                                            "title": "Electricity Part Load",
                                            "type": "number"
                                        },
                                        "electricity_standby": {
                                            "description": "Electrical power consumption in standby mode (unit: kW)",
                                            "minimum": 0,
                                            "title": "Electricity Standby",
                                            "type": "number"
                                        },
                                        "modulation_load": {
                                            "description": "Modulation load ratio (dimensionless, 0-1)",
                                            "maximum": 1,
                                            "minimum": 0,
                                            "title": "Modulation Load",
                                            "type": "number"
                                        },
                                        "rated_power": {
                                            "description": "Rated power output of the boiler (unit: kW)",
                                            "exclusiveMinimum": 0,
                                            "title": "Rated Power",
                                            "type": "number"
                                        },
                                        "cost_schedule_hybrid": {
                                            "anyOf": [
                                                {
                                                    "$ref": "#/$defs/BoilerCostScheduleHybrid"
                                                },
                                                {
                                                    "type": "null"
                                                }
                                            ],
                                            "default": null
                                        }
                                    },
                                    "required": [
                                        "EnergySupply",
                                        "EnergySupply_aux",
                                        "boiler_location",
                                        "efficiency_full_load",
                                        "efficiency_part_load",
                                        "electricity_circ_pump",
                                        "electricity_full_load",
                                        "electricity_part_load",
                                        "electricity_standby",
                                        "modulation_load",
                                        "rated_power"
                                    ],
                                    "title": "HeatPumpBoiler",
                                    "type": "object"
                                },
                                "power_max_backup": {
                                    "type": "number",
                                    "exclusiveMinimum": 0
                                },
                                "power_heating_warm_air_fan": {
                                    "type": "number",
                                    "minimum": 0
                                },
                                "time_constant_onoff_operation": {
                                    "type": "number"
                                },
                                "temp_distribution_heat_network": {
                                    "description": "required if HeatNetwork source type, should not be provided otherwise",
                                    "type": "number",
                                    "exclusiveMinimum": 0
                                },
                                "EnergySupply_heat_network": {
                                    "description": "required if HeatNetwork source type, should not be provided otherwise",
                                    "oneOf": [
                                        {
                                            "type": "string"
                                        },
                                        {
                                            "type": "object",
                                            "unevaluatedProperties": false,
                                            "required": [
                                                "name",
                                                "factor",
                                                "is_export_capable"
                                            ],
                                            "properties": {
                                                "name": {
                                                    "type": "string"
                                                },
                                                "is_export_capable": {
                                                    "type": "boolean"
                                                },
                                                "factor": {
                                                    "type": "object",
                                                    "unevaluatedProperties": false,
                                                    "required": [
                                                        "Emissions Factor kgCO2e/kWh",
                                                        "Emissions Factor kgCO2e/kWh including out-of-scope emissions",
                                                        "Primary Energy Factor kWh/kWh delivered"
                                                    ],
                                                    "properties": {
                                                        "Emissions Factor kgCO2e/kWh": {
                                                            "type": "number"
                                                        },
                                                        "Emissions Factor kgCO2e/kWh including out-of-scope emissions": {
                                                            "type": "number"
                                                        },
                                                        "Primary Energy Factor kWh/kWh delivered": {
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                },
                                "eahp_mixed_max_temp": {
                                    "description": "required if ExhaustAirMixed source type, should not be provided otherwise",
                                    "type": "number",
                                    "minimum": -273.15
                                },
                                "eahp_mixed_min_temp": {
                                    "description": "required if ExhaustAirMixed source type, should not be provided otherwise",
                                    "type": "number",
                                    "minimum": -273.15
                                },
                                "test_data_EN14825": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "unevaluatedProperties": false,
                                        "required": [
                                            "test_letter",
                                            "capacity",
                                            "cop",
                                            "design_flow_temp",
                                            "temp_outlet",
                                            "temp_source",
                                            "temp_test"
                                        ],
                                        "properties": {
                                            "test_letter": {
                                                "enum": [
                                                    "A",
                                                    "B",
                                                    "C",
                                                    "D",
                                                    "F"
                                                ]
                                            },
                                            "capacity": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "cop": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "design_flow_temp": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "temp_outlet": {
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "temp_source": {
                                                "type": "number",
                                                "minimum": -273.15
                                            },
                                            "temp_test": {
                                                "type": "number",
                                                "minimum": -273.15
                                            },
                                            "air_flow_rate": {
                                                "description": "provided if source type is ExhaustAirMixed, otherwise not provided",
                                                "type": "number",
                                                "exclusiveMinimum": 0
                                            },
                                            "eahp_mixed_ext_air_ratio": {
                                                "description": "provided if source type is ExhaustAirMixed, otherwise not provided",
                                                "type": "number",
                                                "minimum": 0,
                                                "maximum": 1
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    ]
                }
            ]
        },
        "HeatSourceWetBoiler": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "EnergySupply_aux",
                        "rated_power",
                        "efficiency_full_load",
                        "efficiency_part_load",
                        "boiler_location",
                        "modulation_load",
                        "electricity_circ_pump",
                        "electricity_part_load",
                        "electricity_full_load",
                        "electricity_standby"
                    ],
                    "properties": {
                        "type": {
                            "const": "Boiler"
                        },
                        "EnergySupply_aux": {
                            "type": "string"
                        },
                        "rated_power": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "efficiency_full_load": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "efficiency_part_load": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1.12
                        },
                        "boiler_location": {
                            "enum": [
                                "internal",
                                "external"
                            ]
                        },
                        "modulation_load": {
                            "type": "number",
                            "minimum": 0.1,
                            "maximum": 1
                        },
                        "electricity_circ_pump": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_part_load": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_full_load": {
                            "type": "number",
                            "minimum": 0.001,
                            "maximum": 1
                        },
                        "electricity_standby": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 0.1
                        }
                    }
                }
            ]
        },
        "HeatSourceWetHeatBattery": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "oneOf": [
                        {
                            "$ref": "#/$defs/PCMBattery"
                        },
                        {
                            "$ref": "#/$defs/DryCoreBattery"
                        }
                    ]
                }
            ]
        },
        "PCMBattery": {
            "required": [
                "type",
                "battery_type",
                "electricity_circ_pump",
                "electricity_standby",
                "rated_charge_power",
                "max_rated_losses",
                "number_of_units",
                "simultaneous_charging_and_discharging",
                "heat_storage_kJ_per_K_above_Phase_transition",
                "heat_storage_kJ_per_K_below_Phase_transition",
                "heat_storage_kJ_per_K_during_Phase_transition",
                "phase_transition_temperature_upper",
                "phase_transition_temperature_lower",
                "max_temperature",
                "velocity_in_HEX_tube_at_1_l_per_min_m_per_s",
                "inlet_diameter_m",
                "A",
                "B",
                "flow_rate_l_per_min"
            ],
            "properties": {
                "type": {
                    "const": "HeatBattery"
                },
                "battery_type": {
                    "const": "pcm"
                },
                "electricity_circ_pump": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 1
                },
                "electricity_standby": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 0.1
                },
                "rated_charge_power": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "max_rated_losses": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "number_of_units": {
                    "type": "integer",
                    "minimum": 1
                },
                "simultaneous_charging_and_discharging": {
                    "type": "boolean"
                },
                "heat_storage_kJ_per_K_above_Phase_transition": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "heat_storage_kJ_per_K_below_Phase_transition": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "heat_storage_kJ_per_K_during_Phase_transition": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "phase_transition_temperature_upper": {
                    "type": "number",
                    "minimum": -273.15
                },
                "phase_transition_temperature_lower": {
                    "type": "number",
                    "minimum": -273.15
                },
                "velocity_in_HEX_tube_at_1_l_per_min_m_per_s": {
                    "type": "number",
                    "minimum": 0
                },
                "A": {
                    "type": "number"
                },
                "B": {
                    "type": "number"
                },
                "inlet_diameter_m": {
                    "type": "number"
                },
                "max_temperature": {
                    "type": "number",
                    "minimum": -273.15
                },
                "flow_rate_l_per_min": {
                    "type": "number",
                    "exclusiveMinimum": 0
                }
            }
        },
        "DryCoreBattery": {
            "required": [
                "type",
                "battery_type",
                "EnergySupply",
                "electricity_circ_pump",
                "electricity_standby",
                "pwr_in",
                "rated_power_instant",
                "heat_storage_capacity",
                "number_of_units",
                "dry_core_min_output",
                "dry_core_max_output",
                "fan_pwr",
                "state_of_charge_init"
            ],
            "properties": {
                "type": {
                    "const": "HeatBattery"
                },
                "battery_type": {
                    "const": "dry_core"
                },
                "electricity_circ_pump": {
                    "type": "number"
                },
                "electricity_standby": {
                    "type": "number"
                },
                "pwr_in": {
                    "type": "number",
                    "description": "Charging power (kW)"
                },
                "rated_power_instant": {
                    "type": "number",
                    "description": "Rated instantaneous power output (kW)"
                },
                "heat_storage_capacity": {
                    "type": "number",
                    "description": "Heat storage capacity (kWh)"
                },
                "EnergySupply": {
                    "type": "string"
                },
                "number_of_units": {
                    "type": "integer",
                    "minimum": 1
                },
                "dry_core_min_output": {
                    "type": "array",
                    "items": {
                        "items": {
                            "type": "number"
                        },
                        "maxItems": 2,
                        "minItems": 2,
                        "type": "array"
                    },
                    "description": "Lookup table for minimum output based on charge level"
                },
                "dry_core_max_output": {
                    "type": "array",
                    "items": {
                        "items": {
                            "type": "number"
                        },
                        "maxItems": 2,
                        "minItems": 2,
                        "type": "array"
                    },
                    "description": "Lookup table for maximum output based on charge level"
                },
                "fan_pwr": {
                    "type": "number",
                    "description": "Fan power (W)"
                },
                "state_of_charge_init": {
                    "description": "State of charge at initialisation of dry core heat storage (ratio)",
                    "maximum": 1.0,
                    "minimum": 0.0,
                    "title": "State Of Charge Init",
                    "type": "number"
                }
            }
        },
        "HeatSourceWetHIU": {
            "description": "A possible wet heat source",
            "allOf": [
                {
                    "$ref": "#/$defs/HeatSourceWetCommon"
                },
                {
                    "required": [
                        "type",
                        "HIU_daily_loss",
                        "power_max",
                        "building_level_distribution_losses"
                    ],
                    "properties": {
                        "type": {
                            "const": "HIU"
                        },
                        "HIU_daily_loss": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "power_max": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "building_level_distribution_losses": {
                            "type": "number",
                            "minimum": 0
                        }
                    }
                }
            ]
        },
        "ColdWaterSource": {
            "required": [
                "ColdWaterSource"
            ],
            "properties": {
                "ColdWaterSource": {
                    "enum": [
                        "header tank",
                        "mains water"
                    ]
                }
            }
        },
        "MixerShower": {
            "unevaluatedProperties": false,
            "allOf": [
                {
                    "$ref": "#/$defs/ColdWaterSource"
                },
                {
                    "required": [
                        "type",
                        "flowrate"
                    ],
                    "properties": {
                        "type": {
                            "const": "MixerShower"
                        },
                        "flowrate": {
                            "type": "number",
                            "minimum": 8,
                            "maximum": 15
                        },
                        "HotWaterSource": {
                            "type": "string"
                        },
                        "WWHRS": {
                            "type": "string"
                        },
                        "WWHRS_configuration": {
                            "enum": [
                                "A",
                                "B",
                                "C"
                            ]
                        }
                    }
                }
            ]
        },
        "InstantElecShower": {
            "allOf": [
                {
                    "$ref": "#/$defs/ColdWaterSource"
                },
                {
                    "required": [
                        "type",
                        "rated_power",
                        "EnergySupply"
                    ],
                    "properties": {
                        "type": {
                            "const": "InstantElecShower"
                        },
                        "rated_power": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "maximum": 30
                        },
                        "EnergySupply": {
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "ElecStorageHeater": {
            "required": [
                "type",
                "pwr_in",
                "rated_power_instant",
                "storage_capacity",
                "frac_convective",
                "n_units",
                "EnergySupply",
                "Zone",
                "dry_core_min_output",
                "dry_core_max_output"
            ],
            "properties": {
                "type": {
                    "const": "ElecStorageHeater"
                },
                "pwr_in": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 70
                },
                "rated_power_instant": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 70
                },
                "storage_capacity": {
                    "type": "number",
                    "minimum": 0
                },
                "frac_convective": {
                    "type": "number",
                    "minimum": 0
                },
                "n_units": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100
                },
                "EnergySupply": {
                    "type": "string"
                },
                "Zone": {
                    "type": "string"
                },
                "dry_core_min_output": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    }
                },
                "dry_core_max_output": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "number"
                        }
                    }
                }
            },
            "oneOf": [
                {
                    "required": [
                        "air_flow_type",
                        "fan_pwr"
                    ],
                    "properties": {
                        "air_flow_type": {
                            "const": "fan-assisted"
                        },
                        "fan_pwr": {
                            "type": "number",
                            "minimum": 0
                        }
                    }
                },
                {
                    "required": [
                        "air_flow_type"
                    ],
                    "properties": {
                        "air_flow_type": {
                            "const": "damper-only"
                        }
                    }
                }
            ]
        },
        "ElecStorageHeaterWithProductReference": {
            "required": [
                "type",
                "product_reference",
                "n_units"
            ],
            "properties": {
                "type": {
                    "const": "ElecStorageHeater"
                },
                "product_reference": {
                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                    "title": "Reference to the product in the HEM database",
                    "type": "string"
                },
                "n_units": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 100
                }
            }
        },
        "InstantElecHeater": {
            "required": [
                "type",
                "rated_power",
                "convective_type",
                "EnergySupply"
            ],
            "properties": {
                "type": {
                    "const": "InstantElecHeater"
                },
                "rated_power": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 70
                },
                "convective_type": {
                    "enum": [
                        "Air heating (convectors, fan coils etc.)",
                        "Free heating surface (radiators, radiant panels etc.)",
                        "Floor heating, low temperature radiant tube heaters, luminous heaters, wood stoves",
                        "Wall heating, radiant ceiling panels, accumulation stoves",
                        "Ceiling heating, radiant ceiling electric heating"
                    ]
                },
                "EnergySupply": {
                    "type": "string"
                }
            }
        },
        "WetDistribution": {
            "required": [
                "type",
                "emitters",
                "temp_diff_emit_dsgn",
                "HeatSource",
                "ecodesign_controller",
                "design_flow_temp",
                "Zone"
            ],
            "properties": {
                "type": {
                    "const": "WetDistribution"
                },
                "EnergySupply": {
                    "type": "string"
                },
                "emitters": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "oneOf": [
                            {
                                "$ref": "#/$defs/Radiator"
                            },
                            {
                                "$ref": "#/$defs/RadiatorWithProductReference"
                            },
                            {
                                "$ref": "#/$defs/Ufh"
                            },
                            {
                                "$ref": "#/$defs/UfhWithProductReference"
                            },
                            {
                                "$ref": "#/$defs/Fancoil"
                            },
                            {
                                "$ref": "#/$defs/FancoilWithProductReference"
                            }
                        ]
                    }
                },
                "temp_diff_emit_dsgn": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 70
                },
                "bypass_fraction_recirculated": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "HeatSource": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "temp_flow_limit_upper": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                },
                "ecodesign_controller": {
                    "oneOf": [
                        {
                            "$ref": "#/$defs/EcoDesignControllerNoWeatherCompensator"
                        },
                        {
                            "$ref": "#/$defs/EcoDesignControllerWeatherCompensator"
                        }
                    ]
                },
                "design_flow_temp": {
                    "type": "number",
                    "minimum": 20,
                    "maximum": 120
                },
                "Zone": {
                    "type": "string"
                },
                "thermal_mass": {
                    "type": "number",
                    "description": "thermal_mass is required when the emitters include radiators"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "variable_flow",
                        "min_flow_rate",
                        "max_flow_rate"
                    ],
                    "properties": {
                        "variable_flow": {
                            "const": true
                        },
                        "min_flow_rate": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "max_flow_rate": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                },
                {
                    "required": [
                        "variable_flow",
                        "design_flow_rate"
                    ],
                    "properties": {
                        "variable_flow": {
                            "const": false
                        },
                        "design_flow_rate": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                }
            ]
        },
        "WarmAir": {
            "required": [
                "type",
                "temp_diff_emit_dsgn",
                "frac_convective",
                "HeatSource"
            ],
            "properties": {
                "type": {
                    "const": "WarmAir"
                },
                "temp_diff_emit_dsgn": {
                    "type": "number",
                    "maximum": 70
                },
                "frac_convective": {
                    "type": "number",
                    "minimum": 0.1,
                    "maximum": 1
                },
                "HeatSource": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "name"
                    ],
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "temp_flow_limit_upper": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                }
            }
        },
        "Radiator": {
            "required": [
                "wet_emitter_type",
                "n",
                "frac_convective"
            ],
            "properties": {
                "wet_emitter_type": {
                    "const": "radiator"
                },
                "n": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 2
                },
                "frac_convective": {
                    "type": "number"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "c"
                    ],
                    "properties": {
                        "c": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "maximum": 2
                        },
                        "thermal_mass": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "length": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                },
                {
                    "required": [
                        "c_per_m",
                        "length"
                    ],
                    "properties": {
                        "c_per_m": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "thermal_mass_per_m": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        },
                        "length": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                }
            ]
        },
        "RadiatorWithProductReference": {
            "properties": {
                "wet_emitter_type": {
                    "const": "radiator"
                },
                "product_reference": {
                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                    "title": "Reference to the product in the HEM database",
                    "type": "string"
                }
            },
            "required": [
                "wet_emitter_type",
                "product_reference"
            ],
            "oneOf": [
                {
                    "required": [
                        "radiator_type",
                        "length"
                    ],
                    "properties": {
                        "radiator_type": {
                            "const": "standard"
                        },
                        "length": {
                            "type": "number",
                            "exclusiveMinimum": 0
                        }
                    }
                },
                {
                    "required": [
                        "radiator_type"
                    ],
                    "properties": {
                        "radiator_type": {
                            "const": "towel"
                        }
                    }
                }
            ]
        },
        "Ufh": {
            "required": [
                "wet_emitter_type",
                "equivalent_specific_thermal_mass",
                "system_performance_factor",
                "emitter_floor_area",
                "frac_convective"
            ],
            "properties": {
                "wet_emitter_type": {
                    "const": "ufh"
                },
                "equivalent_specific_thermal_mass": {
                    "type": "number",
                    "minimum": 0
                },
                "system_performance_factor": {
                    "type": "number",
                    "minimum": 0
                },
                "emitter_floor_area": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "frac_convective": {
                    "type": "number"
                }
            }
        },
        "UfhWithProductReference": {
            "properties": {
                "wet_emitter_type": {
                    "const": "ufh"
                },
                "product_reference": {
                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                    "title": "Reference to the product in the HEM database",
                    "type": "string"
                }
            },
            "required": [
                "wet_emitter_type",
                "product_reference"
            ]
        },
        "Fancoil": {
            "required": [
                "wet_emitter_type",
                "n_units",
                "fancoil_test_data",
                "frac_convective"
            ],
            "properties": {
                "wet_emitter_type": {
                    "const": "fancoil"
                },
                "n_units": {
                    "type": "integer",
                    "minimum": 1
                },
                "fancoil_test_data": {
                    "type": "object",
                    "unevaluatedProperties": false,
                    "required": [
                        "fan_speed_data",
                        "fan_power_W"
                    ],
                    "properties": {
                        "fan_speed_data": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "unevaluatedProperties": false,
                                "required": [
                                    "temperature_diff",
                                    "power_output"
                                ],
                                "properties": {
                                    "temperature_diff": {
                                        "type": "number",
                                        "exclusiveMinimum": 0
                                    },
                                    "power_output": {
                                        "type": "array",
                                        "items": {
                                            "type": "number",
                                            "minimum": 0
                                        }
                                    }
                                }
                            }
                        },
                        "fan_power_W": {
                            "type": "array",
                            "items": {
                                "type": "number",
                                "exclusiveMinimum": 0
                            }
                        }
                    }
                },
                "frac_convective": {
                    "type": "number"
                }
            }
        },
        "FancoilWithProductReference": {
            "properties": {
                "wet_emitter_type": {
                    "const": "fancoil"
                },
                "product_reference": {
                    "description": "A unique reference to a product held within the HEM database (PCDB)",
                    "title": "Reference to the product in the HEM database",
                    "type": "string"
                }
            },
            "required": [
                "wet_emitter_type",
                "product_reference"
            ]
        },
        "EcoDesignControllerNoWeatherCompensator": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "ecodesign_control_class"
            ],
            "properties": {
                "ecodesign_control_class": {
                    "enum": [
                        1,
                        4,
                        5,
                        8
                    ]
                },
                "min_outdoor_temp": {
                    "type": "integer",
                    "minimum": -60,
                    "maximum": 30
                },
                "max_outdoor_temp": {
                    "type": "integer",
                    "minimum": 10,
                    "maximum": 50
                },
                "min_flow_temp": {
                    "type": "integer",
                    "minimum": 20,
                    "maximum": 120
                }
            }
        },
        "EcoDesignControllerWeatherCompensator": {
            "type": "object",
            "unevaluatedProperties": false,
            "required": [
                "ecodesign_control_class",
                "min_outdoor_temp",
                "max_outdoor_temp",
                "min_flow_temp"
            ],
            "properties": {
                "ecodesign_control_class": {
                    "enum": [
                        2,
                        3,
                        6,
                        7
                    ]
                },
                "min_outdoor_temp": {
                    "type": "integer",
                    "minimum": -60,
                    "maximum": 30
                },
                "max_outdoor_temp": {
                    "type": "integer",
                    "minimum": 10,
                    "maximum": 50
                },
                "min_flow_temp": {
                    "type": "integer",
                    "minimum": 20,
                    "maximum": 120
                }
            }
        },
        "MechVentCommon": {
            "required": [
                "sup_air_flw_ctrl",
                "sup_air_temp_ctrl",
                "EnergySupply",
                "design_outdoor_air_flow_rate"
            ],
            "properties": {
                "sup_air_flw_ctrl": {
                    "enum": [
                        "ODA"
                    ]
                },
                "sup_air_temp_ctrl": {
                    "enum": [
                        "NO_CTRL"
                    ]
                },
                "design_zone_cooling_covered_by_mech_vent": {
                    "type": "number"
                },
                "design_zone_heating_covered_by_mech_vent": {
                    "type": "number"
                },
                "EnergySupply": {
                    "type": "string"
                },
                "design_outdoor_air_flow_rate": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "description": "Design outdoor air flow rate (m3/hr)"
                },
                "SFP_in_use_factor": {
                    "minimum": 1,
                    "type": "number",
                    "default": 1,
                    "description": "Adjustment factor to be applied to SFP to account for e.g. type of ducting. Typical range 1 - 2.5",
                    "title": "Sfp In Use Factor"
                }
            }
        },
        "MechVentMVHR": {
            "allOf": [
                {
                    "$ref": "#/$defs/MechVentCommon"
                },
                {
                    "required": [
                        "vent_type",
                        "mvhr_eff",
                        "mvhr_location",
                        "ductwork",
                        "position_intake",
                        "position_exhaust",
                        "measured_fan_power",
                        "measured_air_flow_rate"
                    ],
                    "properties": {
                        "vent_type": {
                            "const": "MVHR"
                        },
                        "mvhr_eff": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                        },
                        "mvhr_location": {
                            "enum": [
                                "inside",
                                "outside"
                            ]
                        },
                        "ductwork": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "unevaluatedProperties": false,
                                "required": [
                                    "cross_section_shape",
                                    "internal_diameter_mm",
                                    "external_diameter_mm",
                                    "length",
                                    "insulation_thermal_conductivity",
                                    "insulation_thickness_mm",
                                    "reflective",
                                    "duct_type"
                                ],
                                "properties": {
                                    "cross_section_shape": {
                                        "enum": [
                                            "circular",
                                            "rectangular"
                                        ]
                                    },
                                    "internal_diameter_mm": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1000
                                    },
                                    "external_diameter_mm": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1000
                                    },
                                    "length": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "insulation_thermal_conductivity": {
                                        "type": "number",
                                        "minimum": 0
                                    },
                                    "insulation_thickness_mm": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                    },
                                    "reflective": {
                                        "type": "boolean"
                                    },
                                    "duct_type": {
                                        "enum": [
                                            "supply",
                                            "extract",
                                            "intake",
                                            "exhaust"
                                        ]
                                    }
                                }
                            }
                        },
                        "position_intake": {
                            "type": "object",
                            "properties": {
                                "mid_height_air_flow_path": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 60,
                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                },
                                "orientation360": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 360,
                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                },
                                "pitch": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 180,
                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                }
                            }
                        },
                        "position_exhaust": {
                            "type": "object",
                            "properties": {
                                "mid_height_air_flow_path": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 60,
                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                },
                                "orientation360": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 360,
                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                },
                                "pitch": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 180,
                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                }
                            }
                        },
                        "measured_fan_power": {
                            "type": "number"
                        },
                        "measured_air_flow_rate": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "MechVentMEVCommon": {
            "oneOf": [
                {
                    "required": [
                        "mid_height_air_flow_path",
                        "orientation360",
                        "pitch"
                    ],
                    "properties": {
                        "mid_height_air_flow_path": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 60,
                            "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                        },
                        "orientation360": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 360,
                            "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                        },
                        "pitch": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 180,
                            "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                        }
                    }
                },
                {
                    "required": [
                        "position_exhaust"
                    ],
                    "properties": {
                        "position_exhaust": {
                            "type": "object",
                            "properties": {
                                "mid_height_air_flow_path": {
                                    "type": "number",
                                    "minimum": 1,
                                    "maximum": 60,
                                    "description": "Mid height of air flow path relative to ventilation zone (unit: m)"
                                },
                                "orientation360": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 360,
                                    "description": "The orientation angle of the inclined surface, expressed as the geographical azimuth angle of the horizontal projection of the inclined surface normal, 0 to 360 (unit: \u02da)"
                                },
                                "pitch": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 180,
                                    "description": "Tilt angle of the surface from horizontal, between 0 and 180, where 0 means the external surface is facing up, 90 means the external surface is vertical and 180 means the external surface is facing down (unit: \u02da)"
                                }
                            }
                        }
                    }
                }
            ]
        },
        "MechVentDecentralisedContinuousMEV": {
            "allOf": [
                {
                    "$ref": "#/$defs/MechVentCommon"
                },
                {
                    "$ref": "#/$defs/MechVentMEVCommon"
                },
                {
                    "required": [
                        "vent_type",
                        "SFP"
                    ],
                    "properties": {
                        "vent_type": {
                            "const": "Decentralised continuous MEV"
                        },
                        "SFP": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "description": "Specific fan power, assumed inclusive of any in use factors unless SFP_in_use_factor also provided (unit: W/l/s)"
                        }
                    }
                }
            ]
        },
        "MechVentIntermittentMEV": {
            "allOf": [
                {
                    "$ref": "#/$defs/MechVentCommon"
                },
                {
                    "$ref": "#/$defs/MechVentMEVCommon"
                },
                {
                    "required": [
                        "vent_type",
                        "SFP"
                    ],
                    "properties": {
                        "vent_type": {
                            "const": "Intermittent MEV"
                        },
                        "SFP": {
                            "type": "number",
                            "description": "Specific fan power, assumed inclusive of any in use factors unless SFP_in_use_factor also provided (unit: W/l/s)"
                        }
                    }
                }
            ]
        },
        "MechVentCentralisedContinuousMEV": {
            "allOf": [
                {
                    "$ref": "#/$defs/MechVentCommon"
                },
                {
                    "$ref": "#/$defs/MechVentMEVCommon"
                },
                {
                    "required": [
                        "vent_type",
                        "measured_fan_power",
                        "measured_air_flow_rate"
                    ],
                    "properties": {
                        "vent_type": {
                            "const": "Centralised continuous MEV"
                        },
                        "measured_fan_power": {
                            "type": "number"
                        },
                        "measured_air_flow_rate": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "BuildingElementAdjacentCommon": {
            "required": [
                "area",
                "areal_heat_capacity",
                "mass_distribution_class",
                "pitch"
            ],
            "properties": {
                "pitch": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 180
                },
                "areal_heat_capacity": {
                    "enum": [
                        "Very light",
                        "Light",
                        "Medium",
                        "Heavy",
                        "Very heavy"
                    ]
                },
                "mass_distribution_class": {
                    "$ref": "#/$defs/MassDistributionClass"
                },
                "area": {
                    "type": "number",
                    "minimum": 0.01,
                    "maximum": 10000
                }
            }
        },
        "BuildingElementAdjacentConditionedSpace": {
            "allOf": [
                {
                    "$ref": "#/$defs/BuildingElementAdjacentCommon"
                },
                {
                    "required": [
                        "type"
                    ],
                    "properties": {
                        "type": {
                            "const": "BuildingElementAdjacentConditionedSpace"
                        }
                    }
                }
            ]
        },
        "BuildingElementAdjacentUnconditionedSpace_Simple": {
            "allOf": [
                {
                    "$ref": "#/$defs/BuildingElementAdjacentCommon"
                },
                {
                    "required": [
                        "type",
                        "thermal_resistance_unconditioned_space"
                    ],
                    "properties": {
                        "type": {
                            "const": "BuildingElementAdjacentUnconditionedSpace_Simple"
                        },
                        "thermal_resistance_unconditioned_space": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 3
                        }
                    }
                }
            ]
        },
        "BuildingElementGround": {
            "required": [
                "type",
                "u_value",
                "total_area",
                "thickness_walls",
                "perimeter",
                "psi_wall_floor_junc",
                "thermal_resistance_floor_construction",
                "areal_heat_capacity",
                "mass_distribution_class",
                "area"
            ],
            "properties": {
                "type": {
                    "const": "BuildingElementGround"
                },
                "total_area": {
                    "type": "number",
                    "minimum": 5
                },
                "thickness_walls": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "perimeter": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1000
                },
                "psi_wall_floor_junc": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 2
                },
                "thermal_resistance_floor_construction": {
                    "type": "number",
                    "minimum": 0.000001,
                    "maximum": 50
                },
                "areal_heat_capacity": {
                    "enum": [
                        "Very light",
                        "Light",
                        "Medium",
                        "Heavy",
                        "Very heavy"
                    ]
                },
                "mass_distribution_class": {
                    "$ref": "#/$defs/MassDistributionClass"
                },
                "area": {
                    "type": "number",
                    "minimum": 5,
                    "maximum": 10000
                }
            },
            "oneOf": [
                {
                    "$ref": "#/$defs/SlabNoEdgeInsulation"
                },
                {
                    "$ref": "#/$defs/SlabEdgeInsulation"
                },
                {
                    "$ref": "#/$defs/SuspendedFloor"
                },
                {
                    "$ref": "#/$defs/HeatedBasement"
                },
                {
                    "$ref": "#/$defs/UnheatedBasement"
                }
            ]
        },
        "SlabNoEdgeInsulation": {
            "required": [
                "floor_type"
            ],
            "properties": {
                "floor_type": {
                    "const": "Slab_no_edge_insulation"
                }
            }
        },
        "SlabEdgeInsulation": {
            "required": [
                "floor_type",
                "edge_insulation"
            ],
            "properties": {
                "floor_type": {
                    "const": "Slab_edge_insulation"
                },
                "edge_insulation": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "type",
                            "edge_thermal_resistance"
                        ],
                        "properties": {
                            "type": {
                                "enum": [
                                    "horizontal",
                                    "vertical"
                                ]
                            },
                            "edge_thermal_resistance": {
                                "type": "number"
                            }
                        },
                        "anyOf": [
                            {
                                "properties": {
                                    "type": {
                                        "const": "horizontal"
                                    },
                                    "width": {
                                        "type": "number",
                                        "description": "Width of horizontal edge insulation (unit: m)",
                                        "exclusiveMinimum": 0
                                    }
                                },
                                "required": [
                                    "width"
                                ]
                            },
                            {
                                "properties": {
                                    "type": {
                                        "const": "vertical"
                                    },
                                    "depth": {
                                        "type": "number",
                                        "description": "Depth of vertical edge insulation (unit: m)",
                                        "exclusiveMinimum": 0
                                    }
                                },
                                "required": [
                                    "depth"
                                ]
                            }
                        ]
                    }
                }
            }
        },
        "SuspendedFloor": {
            "required": [
                "floor_type",
                "height_upper_surface",
                "thermal_transm_walls",
                "shield_fact_location",
                "thickness_walls",
                "thermal_resist_insul",
                "area_per_perimeter_vent"
            ],
            "properties": {
                "floor_type": {
                    "const": "Suspended_floor"
                },
                "height_upper_surface": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "thermal_transm_walls": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "area_per_perimeter_vent": {
                    "type": "number"
                },
                "shield_fact_location": {
                    "enum": [
                        "Sheltered",
                        "Average",
                        "Exposed"
                    ]
                },
                "thickness_walls": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "thermal_resist_insul": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                }
            }
        },
        "BasementCommon": {
            "required": [
                "thickness_walls",
                "depth_basement_floor",
                "thermal_resist_walls_base"
            ],
            "properties": {
                "thickness_walls": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "depth_basement_floor": {
                    "type": "number",
                    "exclusiveMinimum": 0
                },
                "thermal_resist_walls_base": {
                    "type": "number"
                }
            }
        },
        "HeatedBasement": {
            "allOf": [
                {
                    "$ref": "#/$defs/BasementCommon"
                },
                {
                    "required": [
                        "floor_type"
                    ],
                    "properties": {
                        "floor_type": {
                            "const": "Heated_basement"
                        }
                    }
                }
            ]
        },
        "UnheatedBasement": {
            "allOf": [
                {
                    "$ref": "#/$defs/BasementCommon"
                },
                {
                    "required": [
                        "floor_type",
                        "thermal_transm_envi_base",
                        "thermal_transm_walls",
                        "height_basement_walls"
                    ],
                    "properties": {
                        "floor_type": {
                            "const": "Unheated_basement"
                        },
                        "thermal_transm_envi_base": {
                            "type": "number"
                        },
                        "thermal_transm_walls": {
                            "type": "number"
                        },
                        "height_basement_walls": {
                            "type": "number"
                        }
                    }
                }
            ]
        },
        "BuildingElementOpaque": {
            "required": [
                "type",
                "areal_heat_capacity",
                "mass_distribution_class",
                "base_height",
                "height",
                "width",
                "area",
                "pitch"
            ],
            "properties": {
                "type": {
                    "const": "BuildingElementOpaque"
                },
                "pitch": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 180
                },
                "is_unheated_pitched_roof": {
                    "type": "boolean",
                    "description": "is_unheated_pitched_roof is required when the pitch is up to 60"
                },
                "is_external_door": {
                    "type": "boolean",
                    "description": "is_external_door is required when the pitch is between 60 - 120"
                },
                "colour": {
                    "enum": [
                        "Light",
                        "Intermediate",
                        "Dark"
                    ]
                },
                "areal_heat_capacity": {
                    "enum": [
                        "Very light",
                        "Light",
                        "Medium",
                        "Heavy",
                        "Very heavy"
                    ]
                },
                "mass_distribution_class": {
                    "$ref": "#/$defs/MassDistributionClass"
                },
                "orientation360": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 360,
                    "description": "Degrees from north. Required for any element with a non-flat (0 or 180) pitch"
                },
                "base_height": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 500
                },
                "height": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 50
                },
                "width": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 100
                },
                "area": {
                    "type": "number",
                    "minimum": 0.01,
                    "maximum": 10000
                }
            },
            "allOf": [
                {
                    "if": {
                        "properties": {
                            "pitch": {
                                "type": "number",
                                "maximum": 60
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "is_unheated_pitched_roof",
                            "colour"
                        ]
                    }
                },
                {
                    "if": {
                        "properties": {
                            "pitch": {
                                "type": "number",
                                "minimum": 60,
                                "maximum": 120
                            }
                        }
                    },
                    "then": {
                        "required": [
                            "is_external_door",
                            "orientation360",
                            "colour"
                        ]
                    }
                },
                {
                    "if": {
                        "not": {
                            "anyOf": [
                                {
                                    "properties": {
                                        "pitch": {
                                            "const": 0
                                        }
                                    }
                                },
                                {
                                    "properties": {
                                        "pitch": {
                                            "const": 180
                                        }
                                    }
                                }
                            ]
                        }
                    },
                    "then": {
                        "required": [
                            "orientation360"
                        ],
                        "properties": {
                            "orientation360": {
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 360,
                                "description": "Degrees from north. Recommend choosing 180 in cases of flat elements i.e. where pitch = 0 or 180"
                            }
                        }
                    }
                }
            ]
        },
        "BuildingElementPartyWall": {
            "required": [
                "area",
                "areal_heat_capacity",
                "mass_distribution_class",
                "pitch",
                "type",
                "party_wall_cavity_type"
            ],
            "properties": {
                "type": {
                    "const": "BuildingElementPartyWall"
                },
                "area": {
                    "description": "Area of the building element (m\u00b2), must be positive",
                    "exclusiveMinimum": 0,
                    "title": "Area",
                    "type": "number"
                },
                "areal_heat_capacity": {
                    "enum": [
                        "Very light",
                        "Light",
                        "Medium",
                        "Heavy",
                        "Very heavy"
                    ]
                },
                "mass_distribution_class": {
                    "$ref": "#/$defs/MassDistributionClass"
                },
                "pitch": {
                    "description": "Tilt angle of the surface from horizontal, between 60 and 120 degrees (wall range), where 90 means vertical (unit: \u00b0)",
                    "maximum": 120.0,
                    "minimum": 60.0,
                    "title": "Pitch",
                    "type": "number"
                },
                "party_wall_cavity_type": {
                    "$ref": "#/$defs/PartyWallCavityType",
                    "description": "Type of party wall cavity construction affecting heat loss through air movement"
                }
            },
            "oneOf": [
                {
                    "required": [
                        "party_wall_cavity_type",
                        "party_wall_lining_type"
                    ],
                    "properties": {
                        "party_wall_cavity_type": {
                            "description": "Types of party wall cavity configurations",
                            "enum": [
                                "unfilled_unsealed",
                                "unfilled_sealed",
                                "filled_unsealed"
                            ],
                            "title": "PartyWallCavityType",
                            "type": "string"
                        },
                        "party_wall_lining_type": {
                            "$ref": "#/$defs/PartyWallLiningType",
                            "description": "Type of party wall lining. Required only when party_wall_cavity_type is unfilled_unsealed, unfilled_sealed, or filled_unsealed"
                        }
                    }
                },
                {
                    "required": [
                        "party_wall_cavity_type",
                        "thermal_resistance_cavity"
                    ],
                    "properties": {
                        "party_wall_cavity_type": {
                            "description": "Types of party wall cavity configurations",
                            "const": "defined_resistance",
                            "title": "PartyWallCavityType",
                            "type": "string"
                        },
                        "thermal_resistance_cavity": {
                            "type": "number",
                            "exclusiveMinimum": 0,
                            "description": "Effective thermal resistance of the party wall cavity (unit: m\u00b2.K/W). Required only when party_wall_cavity_type is 'defined_resistance'. For other cavity types, this is calculated automatically.",
                            "title": "Thermal Resistance Cavity"
                        }
                    }
                },
                {
                    "required": [
                        "party_wall_cavity_type"
                    ],
                    "properties": {
                        "party_wall_cavity_type": {
                            "description": "Types of party wall cavity configurations",
                            "enum": [
                                "solid",
                                "filled_sealed"
                            ],
                            "title": "PartyWallCavityType",
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "BuildingElementTransparent": {
            "required": [
                "type",
                "frame_area_fraction",
                "g_value",
                "mid_height",
                "max_window_open_area",
                "security_risk",
                "window_part_list",
                "shading",
                "base_height",
                "height",
                "width",
                "pitch"
            ],
            "properties": {
                "type": {
                    "const": "BuildingElementTransparent"
                },
                "pitch": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 180
                },
                "frame_area_fraction": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "g_value": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1
                },
                "free_area_height": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "mid_height": {
                    "type": "number",
                    "exclusiveMinimum": 0,
                    "maximum": 100
                },
                "max_window_open_area": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100
                },
                "security_risk": {
                    "type": "boolean"
                },
                "window_part_list": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "mid_height_air_flow_path"
                        ],
                        "properties": {
                            "mid_height_air_flow_path": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 100
                            }
                        }
                    }
                },
                "shading": {
                    "$ref": "#/$defs/WindowShading"
                },
                "treatment": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "unevaluatedProperties": false,
                        "required": [
                            "type",
                            "controls",
                            "delta_r",
                            "trans_red"
                        ],
                        "properties": {
                            "type": {
                                "enum": [
                                    "curtains",
                                    "blinds"
                                ]
                            },
                            "controls": {
                                "enum": [
                                    "auto_motorised",
                                    "manual"
                                ]
                            },
                            "delta_r": {
                                "type": "number",
                                "exclusiveMinimum": 0,
                                "maximum": 100
                            },
                            "trans_red": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 1
                            }
                        }
                    }
                },
                "orientation360": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 360
                },
                "base_height": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 500
                },
                "height": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 50
                },
                "width": {
                    "type": "number",
                    "minimum": 0.001,
                    "maximum": 100
                }
            }
        },
        "ThermalBridgeLinear": {
            "required": [
                "type",
                "linear_thermal_transmittance",
                "length",
                "junction_type"
            ],
            "properties": {
                "type": {
                    "const": "ThermalBridgeLinear"
                },
                "linear_thermal_transmittance": {
                    "type": "number"
                },
                "length": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 10000
                },
                "junction_type": {
                    "enum": [
                        "E1",
                        "E2",
                        "E3",
                        "E4",
                        "E5",
                        "E6",
                        "E7",
                        "E8",
                        "E9",
                        "E10",
                        "E11",
                        "E12",
                        "E13",
                        "E14",
                        "E15",
                        "E16",
                        "E17",
                        "E18",
                        "E19",
                        "E20",
                        "E21",
                        "E22",
                        "E23",
                        "E24",
                        "E25",
                        "P1",
                        "P2",
                        "P3",
                        "P4",
                        "P5",
                        "P6",
                        "P7",
                        "P8",
                        "R1",
                        "R2",
                        "R3",
                        "R4",
                        "R5",
                        "R6",
                        "R7",
                        "R8",
                        "R9",
                        "R10",
                        "R11"
                    ]
                }
            }
        },
        "ThermalBridgePoint": {
            "required": [
                "type",
                "heat_transfer_coeff"
            ],
            "properties": {
                "type": {
                    "const": "ThermalBridgePoint"
                },
                "heat_transfer_coeff": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 2
                }
            }
        },
        "BoilerCostScheduleHybrid": {
            "additionalProperties": false,
            "properties": {
                "cost_schedule_boiler": {
                    "$ref": "#/$defs/ScheduleForDouble",
                    "description": "Cost data for the fuel used by the hybrid's boiler (can be any units, typically p/kWh)"
                },
                "cost_schedule_hp": {
                    "$ref": "#/$defs/ScheduleForDouble",
                    "description": "Cost data for the fuel used by the hybrid's heat pump (can be any units, typically p/kWh)"
                },
                "cost_schedule_start_day": {
                    "description": "Day on which the cost data series begins",
                    "maximum": 365,
                    "minimum": 0,
                    "title": "Cost Schedule Start Day",
                    "type": "integer"
                },
                "cost_schedule_time_series_step": {
                    "description": "Time step of the cost data series",
                    "title": "Cost Schedule Time Series Step",
                    "type": "number"
                }
            },
            "required": [
                "cost_schedule_boiler",
                "cost_schedule_hp",
                "cost_schedule_start_day",
                "cost_schedule_time_series_step"
            ],
            "title": "BoilerCostScheduleHybrid",
            "type": "object"
        },
        "ScheduleForDouble": {
            "additionalProperties": {
                "items": {
                    "$ref": "#/$defs/ScheduleEntryForDouble"
                },
                "type": "array"
            },
            "description": "A dictionary of schedule entries where:\n- Keys are user-defined names (e.g., \"main\", \"week\", \"weekday\", \"weekend\")\n- Values are lists of ScheduleEntryForDouble\n- The \"main\" entry is required",
            "title": "ScheduleForDouble",
            "type": "object"
        },
        "ScheduleEntryForDouble": {
            "anyOf": [
                {
                    "type": "number"
                },
                {
                    "$ref": "#/$defs/ScheduleRepeaterForDouble"
                },
                {
                    "type": "string"
                },
                {
                    "type": "null"
                }
            ],
            "description": "A schedule entry that can be a direct value, repeating pattern, or reference.\n\nExamples:\n    # Direct float value (temperature setpoint)\n    21.5\n\n    # Repeating pattern (21.5\u00b0C for 8 hours, 18\u00b0C for 16 hours)\n    {\"repeat\": 24, \"value\": 21.5}\n\n    # Reference to another schedule\n    \"weekday_temp_schedule\"\n\n    # Complex repeating pattern with reference\n    {\"repeat\": 7, \"value\": \"daily_temp_pattern\"}\n\n    # Power level schedule\n    2.5  # 2.5 kW constant power",
            "title": "ScheduleEntryForDouble"
        },
        "ScheduleRepeaterForDouble": {
            "additionalProperties": false,
            "description": "Defines a repeating pattern for double (float) schedule values.\n\nExamples:\n    # Repeat temperature setpoint 21.5\u00b0C 24 times (once per hour)\n    {\"repeat\": 24, \"value\": 21.5}\n\n    # Reference another schedule, repeat 7 times (once per day)\n    {\"repeat\": 7, \"value\": \"weekday_temp_schedule\"}\n\n    # Repeat power level 2.5 kW for 8 hours\n    {\"repeat\": 8, \"value\": 2.5}",
            "properties": {
                "repeat": {
                    "description": "Number of times to repeat the value",
                    "minimum": 1,
                    "title": "Repeat",
                    "type": "integer"
                },
                "value": {
                    "$ref": "#/$defs/ScheduleRepeaterValueForDouble",
                    "description": "Value to repeat or schedule reference"
                }
            },
            "required": [
                "repeat",
                "value"
            ],
            "title": "ScheduleRepeaterForDouble",
            "type": "object"
        },
        "ScheduleRepeaterValueForDouble": {
            "anyOf": [
                {
                    "type": "string"
                },
                {
                    "$ref": "#/$defs/ScheduleRepeaterEntryForDouble"
                }
            ],
            "title": "ScheduleRepeaterValueForDouble"
        },
        "ScheduleRepeaterEntryForDouble": {
            "anyOf": [
                {
                    "type": "number"
                },
                {
                    "type": "null"
                }
            ],
            "title": "ScheduleRepeaterEntryForDouble"
        },
        "PartyWallCavityType": {
            "description": "Types of party wall cavity configurations",
            "enum": [
                "solid",
                "unfilled_unsealed",
                "unfilled_sealed",
                "filled_sealed",
                "filled_unsealed",
                "defined_resistance"
            ],
            "title": "PartyWallCavityType",
            "type": "string"
        },
        "PartyWallLiningType": {
            "description": "Types of party wall lining",
            "enum": [
                "wet_plaster",
                "dry_lined"
            ],
            "title": "PartyWallLiningType",
            "type": "string"
        },
        "WindowShading": {
            "type": "array",
            "items": {
                "type": "object",
                "unevaluatedProperties": false,
                "required": [
                    "type",
                    "distance"
                ],
                "properties": {
                    "distance": {
                        "type": "number",
                        "minimum": 0
                    }
                },
                "oneOf": [
                    {
                        "required": [
                            "type",
                            "height",
                            "transparency"
                        ],
                        "properties": {
                            "type": {
                                "const": "obstacle"
                            },
                            "height": {
                                "type": "number",
                                "exclusiveMinimum": 0
                            },
                            "transparency": {
                                "type": "number",
                                "minimum": 0,
                                "maximum": 1
                            }
                        }
                    },
                    {
                        "required": [
                            "type",
                            "depth"
                        ],
                        "properties": {
                            "type": {
                                "enum": [
                                    "overhang",
                                    "sidefinleft",
                                    "sidefinright",
                                    "reveal"
                                ]
                            },
                            "depth": {
                                "type": "number",
                                "exclusiveMinimum": 0
                            }
                        }
                    }
                ]
            }
        }
    }
}